<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ONE - On-device Neural Engine: arm_compute::NETransposeConvLayer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ONE - On-device Neural Engine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classarm__compute_1_1_n_e_transpose_conv_layer.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a>  </div>
  <div class="headertitle"><div class="title">arm_compute::NETransposeConvLayer Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_n_e_transpose_conv_layer_8h_source.html">NETransposeConvLayer.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for arm_compute::NETransposeConvLayer:</div>
<div class="dyncontent">
<div class="center"><img src="classarm__compute_1_1_n_e_transpose_conv_layer__coll__graph.png" border="0" usemap="#aarm__compute_1_1_n_e_transpose_conv_layer_coll__map" alt="Collaboration graph"/></div>
<map name="aarm__compute_1_1_n_e_transpose_conv_layer_coll__map" id="aarm__compute_1_1_n_e_transpose_conv_layer_coll__map">
<area shape="rect" title=" " alt="" coords="5,79,192,119"/>
<area shape="rect" title=" " alt="" coords="18,5,179,31"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad1fcfbccaadb0e4cd4309279014de5de"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarm__compute_1_1_n_e_transpose_conv_layer.html#ad1fcfbccaadb0e4cd4309279014de5de">NETransposeConvLayer</a> (std::shared_ptr&lt; IMemoryManager &gt; memory_manager=nullptr)</td></tr>
<tr class="separator:ad1fcfbccaadb0e4cd4309279014de5de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add22fda9a9559fcd7fc20ee1f6b2313f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarm__compute_1_1_n_e_transpose_conv_layer.html#add22fda9a9559fcd7fc20ee1f6b2313f">NETransposeConvLayer</a> (const <a class="el" href="classarm__compute_1_1_n_e_transpose_conv_layer.html">NETransposeConvLayer</a> &amp;)=delete</td></tr>
<tr class="separator:add22fda9a9559fcd7fc20ee1f6b2313f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3add271bb507a8d44def85d8c1ae4dfa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classarm__compute_1_1_n_e_transpose_conv_layer.html">NETransposeConvLayer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarm__compute_1_1_n_e_transpose_conv_layer.html#a3add271bb507a8d44def85d8c1ae4dfa">operator=</a> (const <a class="el" href="classarm__compute_1_1_n_e_transpose_conv_layer.html">NETransposeConvLayer</a> &amp;)=delete</td></tr>
<tr class="separator:a3add271bb507a8d44def85d8c1ae4dfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cf2cd1a6e07547290a5d0ee3dcc3cc0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarm__compute_1_1_n_e_transpose_conv_layer.html#a8cf2cd1a6e07547290a5d0ee3dcc3cc0">NETransposeConvLayer</a> (<a class="el" href="classarm__compute_1_1_n_e_transpose_conv_layer.html">NETransposeConvLayer</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a8cf2cd1a6e07547290a5d0ee3dcc3cc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e7925954c3bc168c2f61f190b69671a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classarm__compute_1_1_n_e_transpose_conv_layer.html">NETransposeConvLayer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarm__compute_1_1_n_e_transpose_conv_layer.html#a7e7925954c3bc168c2f61f190b69671a">operator=</a> (<a class="el" href="classarm__compute_1_1_n_e_transpose_conv_layer.html">NETransposeConvLayer</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a7e7925954c3bc168c2f61f190b69671a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab64cbab364307c0637f5c10170c9bde9"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarm__compute_1_1_n_e_transpose_conv_layer.html#ab64cbab364307c0637f5c10170c9bde9">~NETransposeConvLayer</a> ()=default</td></tr>
<tr class="separator:ab64cbab364307c0637f5c10170c9bde9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a373cc86c467e3864c7ad6d7a74a55a89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarm__compute_1_1_n_e_transpose_conv_layer.html#a373cc86c467e3864c7ad6d7a74a55a89">configure</a> (ITensor *input, const ITensor *weights, const ITensor *bias, ITensor *output, const PadStrideInfo &amp;<a class="el" href="library__info_8cc.html#a54f2e176d30fe963addf60c313ccd9ca">info</a>, unsigned int invalid_right, unsigned int invalid_bottom)</td></tr>
<tr class="separator:a373cc86c467e3864c7ad6d7a74a55a89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6db66e85b103e02c171ea5215dfbb2f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarm__compute_1_1_n_e_transpose_conv_layer.html#a6db66e85b103e02c171ea5215dfbb2f9">run</a> () override</td></tr>
<tr class="separator:a6db66e85b103e02c171ea5215dfbb2f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3114408d5f776e9dc0e3b46990063f59"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarm__compute_1_1_n_e_transpose_conv_layer.html#a3114408d5f776e9dc0e3b46990063f59">prepare</a> () override</td></tr>
<tr class="separator:a3114408d5f776e9dc0e3b46990063f59"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:af1450937755e539c72a5127704e13e23"><td class="memItemLeft" align="right" valign="top">static Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarm__compute_1_1_n_e_transpose_conv_layer.html#af1450937755e539c72a5127704e13e23">validate</a> (const ITensorInfo *input, const ITensorInfo *weights, const ITensorInfo *bias, const ITensorInfo *output, const PadStrideInfo &amp;<a class="el" href="library__info_8cc.html#a54f2e176d30fe963addf60c313ccd9ca">info</a>, unsigned int invalid_right, unsigned int invalid_bottom)</td></tr>
<tr class="separator:af1450937755e539c72a5127704e13e23"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Function to run the deconvolution layer.</p>
<p >Deconvolution Layer is the backward pass of Convolution Layer. First we transform the input depending on the stride and pad info and then perfrom a 1x1 convolution pass. Input stride defines how many zeroes we should put between each element of the input, pad is the amount of padding and finaly a is a user specified value where a &lt; stride - 1 that increases the padding top and right of the input image.</p>
<p >The relation between input to output is as follows:  </p><p class="formulaDsp">
<picture><source srcset="form_0_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaDsp" alt="\[
      width\_output = (width\_input - 1) \cdot stride\_x - 2 \cdot padding\_x + kernel\_x
 \]" src="form_0.png"/></picture>
</p>
  <p class="formulaDsp">
<picture><source srcset="form_1_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaDsp" alt="\[
      height\_output = (height\_input - 1) \cdot stride\_y - 2 \cdot padding\_y + kernel\_y
 \]" src="form_1.png"/></picture>
</p>
<p >where width is the size of the first input dimension. height is the size of the second input dimension. width_output is the size of the first output dimension. height_output is the size of the second output dimension. kernel_x and kernel_y are the convolution sizes in x and y. stride_x and stride_y is the input stride of the first and second dimension.</p>
<p >The weights used by Deconvolution are supposed to be the same as the ones used for Convolution. Therefore, it will be necessary to use the weights in the reverse order to perform an actual convolution. This is achieved by using NEReverse.</p>
<p >This function calls the following NEON kernels/functions:</p>
<ol type="1">
<li>CPPUpsampleEx</li>
<li>NEConvolutionLayer</li>
<li>NEPermute</li>
<li>NEReverse </li>
</ol>

<p class="definition">Definition at line <a class="el" href="_n_e_transpose_conv_layer_8h_source.html#l00094">94</a> of file <a class="el" href="_n_e_transpose_conv_layer_8h_source.html">NETransposeConvLayer.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad1fcfbccaadb0e4cd4309279014de5de" name="ad1fcfbccaadb0e4cd4309279014de5de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1fcfbccaadb0e4cd4309279014de5de">&#9670;&#160;</a></span>NETransposeConvLayer() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">arm_compute::NETransposeConvLayer::NETransposeConvLayer </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; IMemoryManager &gt;&#160;</td>
          <td class="paramname"><em>memory_manager</em> = <code>nullptr</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Constructor </p>

<p class="definition">Definition at line <a class="el" href="_n_e_transpose_conv_layer_8cpp_source.html#l00054">54</a> of file <a class="el" href="_n_e_transpose_conv_layer_8cpp_source.html">NETransposeConvLayer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   55</span>  : _memory_group(std::move(memory_manager)), _conv_f(), _upsample_f(), _flip_weights(),</div>
<div class="line"><span class="lineno">   56</span>    _scaled_output(), _weights_flipped(), _flip_axis(), _original_weights(<span class="keyword">nullptr</span>), _input(<span class="keyword">nullptr</span>),</div>
<div class="line"><span class="lineno">   57</span>    _info(), _is_prepared(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">   58</span>{</div>
<div class="line"><span class="lineno">   59</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="add22fda9a9559fcd7fc20ee1f6b2313f" name="add22fda9a9559fcd7fc20ee1f6b2313f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add22fda9a9559fcd7fc20ee1f6b2313f">&#9670;&#160;</a></span>NETransposeConvLayer() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">arm_compute::NETransposeConvLayer::NETransposeConvLayer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classarm__compute_1_1_n_e_transpose_conv_layer.html">NETransposeConvLayer</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Prevent instances of this class from being copied (As this class contains pointers) </p>

</div>
</div>
<a id="a8cf2cd1a6e07547290a5d0ee3dcc3cc0" name="a8cf2cd1a6e07547290a5d0ee3dcc3cc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cf2cd1a6e07547290a5d0ee3dcc3cc0">&#9670;&#160;</a></span>NETransposeConvLayer() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">arm_compute::NETransposeConvLayer::NETransposeConvLayer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classarm__compute_1_1_n_e_transpose_conv_layer.html">NETransposeConvLayer</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Allow instances of this class to be moved </p>

</div>
</div>
<a id="ab64cbab364307c0637f5c10170c9bde9" name="ab64cbab364307c0637f5c10170c9bde9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab64cbab364307c0637f5c10170c9bde9">&#9670;&#160;</a></span>~NETransposeConvLayer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual arm_compute::NETransposeConvLayer::~NETransposeConvLayer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Default destructor </p>

<p class="reference">References <a class="el" href="_n_e_transpose_conv_layer_8cpp_source.html#l00061">validate()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a373cc86c467e3864c7ad6d7a74a55a89" name="a373cc86c467e3864c7ad6d7a74a55a89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a373cc86c467e3864c7ad6d7a74a55a89">&#9670;&#160;</a></span>configure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void arm_compute::NETransposeConvLayer::configure </td>
          <td>(</td>
          <td class="paramtype">ITensor *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ITensor *&#160;</td>
          <td class="paramname"><em>weights</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ITensor *&#160;</td>
          <td class="paramname"><em>bias</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ITensor *&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const PadStrideInfo &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>invalid_right</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>invalid_bottom</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Set the input, weights, biases and output tensors.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">input</td><td>Input tensor. 3 lower dimensions represent a single input, and an optional 4th dimension for batch of inputs. Data types supported: F32/F16/QASYMM8/QASYMM8_SIGNED. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">weights</td><td>The 4d weights with dimensions [width, height, IFM, OFM]. Data type supported: Same as <code>input</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bias</td><td>Optional, ignored if NULL. The biases have one dimension. Data type supported: Data types supported: S32 for QASYMM8 and QASYMM8_SIGNED input, F32 for F32 input, F16 for F16 input. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">output</td><td>Output tensor. The output has the same number of dimensions as the <code>input</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">info</td><td>Contains padding and policies to be used in the deconvolution, this is decribed in PadStrideInfo. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">invalid_right</td><td>The number of zeros added to right edge of the output. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">invalid_bottom</td><td>The number of zeros added to bottom edge of the output. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_n_e_transpose_conv_layer_8cpp_source.html#l00135">135</a> of file <a class="el" href="_n_e_transpose_conv_layer_8cpp_source.html">NETransposeConvLayer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  138</span>{</div>
<div class="line"><span class="lineno">  139</span>  <span class="comment">// Perform validation step</span></div>
<div class="line"><span class="lineno">  140</span>  ARM_COMPUTE_ERROR_ON_NULLPTR(input, weights, output);</div>
<div class="line"><span class="lineno">  141</span>  ARM_COMPUTE_ERROR_THROW_ON(<a class="code hl_function" href="classarm__compute_1_1_n_e_transpose_conv_layer.html#af1450937755e539c72a5127704e13e23">NETransposeConvLayer::validate</a>(</div>
<div class="line"><span class="lineno">  142</span>    <a class="code hl_variable" href="namespacegen__h5__explicit__inputs.html#a48dd077479f23bb4552c2d7d6a7a4d37">input</a>-&gt;info(), weights-&gt;info(), (bias == <span class="keyword">nullptr</span>) ? <span class="keyword">nullptr</span> : <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">bias</a>-&gt;info(), <a class="code hl_variable" href="namespacegen__h5__explicit__inputs.html#acd1aa9ba45d45c6b619b723e6e34c576">output</a>-&gt;info(),</div>
<div class="line"><span class="lineno">  143</span>    <a class="code hl_variable" href="library__info_8cc.html#a54f2e176d30fe963addf60c313ccd9ca">info</a>, invalid_right, invalid_bottom));</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>  <span class="keyword">const</span> DataLayout data_layout = <a class="code hl_variable" href="namespacegen__h5__explicit__inputs.html#a48dd077479f23bb4552c2d7d6a7a4d37">input</a>-&gt;info()-&gt;data_layout();</div>
<div class="line"><span class="lineno">  146</span>  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> width_idx =</div>
<div class="line"><span class="lineno">  147</span>    get_data_layout_dimension_index(data_layout, DataLayoutDimension::WIDTH);</div>
<div class="line"><span class="lineno">  148</span>  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> height_idx =</div>
<div class="line"><span class="lineno">  149</span>    get_data_layout_dimension_index(data_layout, DataLayoutDimension::HEIGHT);</div>
<div class="line"><span class="lineno">  150</span>  <span class="keyword">auto</span> out_dims = <a class="code hl_function" href="namespacearm__compute.html#a386704431e8e28600e5b069d1275d0ea">transposeconv_output_dimensions</a>(</div>
<div class="line"><span class="lineno">  151</span>    <a class="code hl_variable" href="namespacegen__h5__explicit__inputs.html#a48dd077479f23bb4552c2d7d6a7a4d37">input</a>-&gt;info()-&gt;dimension(width_idx), <a class="code hl_variable" href="namespacegen__h5__explicit__inputs.html#a48dd077479f23bb4552c2d7d6a7a4d37">input</a>-&gt;info()-&gt;dimension(height_idx),</div>
<div class="line"><span class="lineno">  152</span>    weights-&gt;info()-&gt;dimension(width_idx), weights-&gt;info()-&gt;dimension(height_idx), <a class="code hl_variable" href="library__info_8cc.html#a54f2e176d30fe963addf60c313ccd9ca">info</a>,</div>
<div class="line"><span class="lineno">  153</span>    invalid_right, invalid_bottom);</div>
<div class="line"><span class="lineno">  154</span> </div>
<div class="line"><span class="lineno">  155</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="namespaceangkor.html#a064734f560e3fa5d4be0828c9d7a3859">TensorShape</a> <a class="code hl_variable" href="namespacepart__eval__one.html#aa000372729756a2ed1c28a613ed7cb88">output_shape</a> =</div>
<div class="line"><span class="lineno">  156</span>    <a class="code hl_function" href="namespacearm__compute_1_1misc_1_1shape__calculator.html#a639ed6b2f361df361565bf1cb2a22bb2">compute_transposeconv_output_shape</a>(out_dims, *<a class="code hl_variable" href="namespacegen__h5__explicit__inputs.html#a48dd077479f23bb4552c2d7d6a7a4d37">input</a>-&gt;info(), *weights-&gt;info());</div>
<div class="line"><span class="lineno">  157</span> </div>
<div class="line"><span class="lineno">  158</span>  _input = <a class="code hl_variable" href="namespacegen__h5__explicit__inputs.html#a48dd077479f23bb4552c2d7d6a7a4d37">input</a>;</div>
<div class="line"><span class="lineno">  159</span>  _original_weights = weights;</div>
<div class="line"><span class="lineno">  160</span>  _info = <a class="code hl_variable" href="library__info_8cc.html#a54f2e176d30fe963addf60c313ccd9ca">info</a>;</div>
<div class="line"><span class="lineno">  161</span>  _is_prepared = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pad_left = 0;</div>
<div class="line"><span class="lineno">  164</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pad_right = 0;</div>
<div class="line"><span class="lineno">  165</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pad_top = 0;</div>
<div class="line"><span class="lineno">  166</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pad_bottom = 0;</div>
<div class="line"><span class="lineno">  167</span>  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> stride_x = <a class="code hl_variable" href="library__info_8cc.html#a54f2e176d30fe963addf60c313ccd9ca">info</a>.stride().first;</div>
<div class="line"><span class="lineno">  168</span>  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> stride_y = <a class="code hl_variable" href="library__info_8cc.html#a54f2e176d30fe963addf60c313ccd9ca">info</a>.stride().second;</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>  <span class="comment">// Output auto initialization if not yet initialized</span></div>
<div class="line"><span class="lineno">  171</span>  auto_init_if_empty(*<a class="code hl_variable" href="namespacegen__h5__explicit__inputs.html#acd1aa9ba45d45c6b619b723e6e34c576">output</a>-&gt;info(), output_shape, 1, <a class="code hl_variable" href="namespacegen__h5__explicit__inputs.html#a48dd077479f23bb4552c2d7d6a7a4d37">input</a>-&gt;info()-&gt;data_type(),</div>
<div class="line"><span class="lineno">  172</span>                     <a class="code hl_variable" href="namespacegen__h5__explicit__inputs.html#a48dd077479f23bb4552c2d7d6a7a4d37">input</a>-&gt;info()-&gt;quantization_info());</div>
<div class="line"><span class="lineno">  173</span> </div>
<div class="line"><span class="lineno">  174</span>  _flip_axis.allocator()-&gt;init(TensorInfo(<a class="code hl_typedef" href="namespaceangkor.html#a064734f560e3fa5d4be0828c9d7a3859">TensorShape</a>(2U), 1, DataType::U32));</div>
<div class="line"><span class="lineno">  175</span>  _memory_group.manage(&amp;_scaled_output);</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>  _weights_flipped.allocator()-&gt;init(weights-&gt;info()-&gt;clone()-&gt;set_data_layout(data_layout));</div>
<div class="line"><span class="lineno">  178</span>  _flip_weights.configure(weights, &amp;_weights_flipped, &amp;_flip_axis);</div>
<div class="line"><span class="lineno">  179</span> </div>
<div class="line"><span class="lineno">  180</span>  <span class="comment">// setup the function to convolve the upscaled output</span></div>
<div class="line"><span class="lineno">  181</span>  <span class="keyword">const</span> PadStrideInfo conv_info(1, 1, 0, 0, 0, 0, DimensionRoundingType::CEIL);</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="namespaceangkor.html#a064734f560e3fa5d4be0828c9d7a3859">TensorShape</a> scale_out_shape = <a class="code hl_function" href="namespacearm__compute_1_1misc_1_1shape__calculator.html#a2ce8b629c4ffa62fd0d3b209b3b9be80">compute_transposeconv_upsampled_shape</a>(</div>
<div class="line"><span class="lineno">  184</span>    *<a class="code hl_variable" href="namespacegen__h5__explicit__inputs.html#a48dd077479f23bb4552c2d7d6a7a4d37">input</a>-&gt;info(), *weights-&gt;info(), <a class="code hl_variable" href="library__info_8cc.html#a54f2e176d30fe963addf60c313ccd9ca">info</a>, out_dims, invalid_right, invalid_bottom, pad_left,</div>
<div class="line"><span class="lineno">  185</span>    pad_right, pad_top, pad_bottom);</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span>  <span class="keyword">const</span> PadStrideInfo upsample_info(stride_x, stride_y, pad_left, pad_right, pad_top, pad_bottom,</div>
<div class="line"><span class="lineno">  188</span>                                    DimensionRoundingType::FLOOR);</div>
<div class="line"><span class="lineno">  189</span> </div>
<div class="line"><span class="lineno">  190</span>  TensorInfo scale_out_info(scale_out_shape, 1, <a class="code hl_variable" href="namespacegen__h5__explicit__inputs.html#a48dd077479f23bb4552c2d7d6a7a4d37">input</a>-&gt;info()-&gt;data_type(),</div>
<div class="line"><span class="lineno">  191</span>                            <a class="code hl_variable" href="namespacegen__h5__explicit__inputs.html#a48dd077479f23bb4552c2d7d6a7a4d37">input</a>-&gt;info()-&gt;quantization_info());</div>
<div class="line"><span class="lineno">  192</span>  scale_out_info.set_data_layout(data_layout);</div>
<div class="line"><span class="lineno">  193</span>  _scaled_output.allocator()-&gt;init(scale_out_info);</div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span>  _upsample_f.configure(input, &amp;_scaled_output, upsample_info);</div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span>  _conv_f.configure(&amp;_scaled_output, &amp;_weights_flipped, bias, output, conv_info);</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>  <span class="comment">// Setup flip axis data</span></div>
<div class="line"><span class="lineno">  200</span>  _flip_axis.allocator()-&gt;allocate();</div>
<div class="line"><span class="lineno">  201</span>  <span class="keyword">auto</span> axis_data = <span class="keyword">reinterpret_cast&lt;</span>uint32_t *<span class="keyword">&gt;</span>(_flip_axis.buffer());</div>
<div class="line"><span class="lineno">  202</span>  axis_data[0] = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(width_idx);</div>
<div class="line"><span class="lineno">  203</span>  axis_data[1] = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(height_idx);</div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>  _scaled_output.allocator()-&gt;allocate();</div>
<div class="line"><span class="lineno">  206</span>}</div>
<div class="ttc" id="aclassarm__compute_1_1_n_e_transpose_conv_layer_html_af1450937755e539c72a5127704e13e23"><div class="ttname"><a href="classarm__compute_1_1_n_e_transpose_conv_layer.html#af1450937755e539c72a5127704e13e23">arm_compute::NETransposeConvLayer::validate</a></div><div class="ttdeci">static Status validate(const ITensorInfo *input, const ITensorInfo *weights, const ITensorInfo *bias, const ITensorInfo *output, const PadStrideInfo &amp;info, unsigned int invalid_right, unsigned int invalid_bottom)</div><div class="ttdef"><b>Definition:</b> <a href="_n_e_transpose_conv_layer_8cpp_source.html#l00061">NETransposeConvLayer.cpp:61</a></div></div>
<div class="ttc" id="alibrary__info_8cc_html_a54f2e176d30fe963addf60c313ccd9ca"><div class="ttname"><a href="library__info_8cc.html#a54f2e176d30fe963addf60c313ccd9ca">info</a></div><div class="ttdeci">volatile const char info[]</div><div class="ttdef"><b>Definition:</b> <a href="library__info_8cc_source.html#l00017">library_info.cc:17</a></div></div>
<div class="ttc" id="anamespaceangkor_html_a064734f560e3fa5d4be0828c9d7a3859"><div class="ttname"><a href="namespaceangkor.html#a064734f560e3fa5d4be0828c9d7a3859">angkor::TensorShape</a></div><div class="ttdeci">::nncc::core::ADT::tensor::Shape TensorShape</div><div class="ttdef"><b>Definition:</b> <a href="angkor_2include_2angkor_2_tensor_shape_8h_source.html#l00025">TensorShape.h:25</a></div></div>
<div class="ttc" id="anamespacearm__compute_1_1misc_1_1shape__calculator_html_a2ce8b629c4ffa62fd0d3b209b3b9be80"><div class="ttname"><a href="namespacearm__compute_1_1misc_1_1shape__calculator.html#a2ce8b629c4ffa62fd0d3b209b3b9be80">arm_compute::misc::shape_calculator::compute_transposeconv_upsampled_shape</a></div><div class="ttdeci">TensorShape compute_transposeconv_upsampled_shape(const ITensorInfo &amp;input, const ITensorInfo &amp;weights, const PadStrideInfo &amp;info, std::pair&lt; unsigned int, unsigned int &gt; &amp;out_dims, unsigned int invalid_right, unsigned int invalid_bottom, unsigned int &amp;pad_left, unsigned int &amp;pad_right, unsigned int &amp;pad_top, unsigned int &amp;pad_bottom)</div><div class="ttdef"><b>Definition:</b> <a href="_shape_calculator_ex_8h_source.html#l00074">ShapeCalculatorEx.h:74</a></div></div>
<div class="ttc" id="anamespacearm__compute_1_1misc_1_1shape__calculator_html_a639ed6b2f361df361565bf1cb2a22bb2"><div class="ttname"><a href="namespacearm__compute_1_1misc_1_1shape__calculator.html#a639ed6b2f361df361565bf1cb2a22bb2">arm_compute::misc::shape_calculator::compute_transposeconv_output_shape</a></div><div class="ttdeci">TensorShape compute_transposeconv_output_shape(const std::pair&lt; unsigned int, unsigned int &gt; &amp;out_dims, const ITensorInfo &amp;input, const ITensorInfo &amp;weights)</div><div class="ttdef"><b>Definition:</b> <a href="_shape_calculator_ex_8h_source.html#l00128">ShapeCalculatorEx.h:128</a></div></div>
<div class="ttc" id="anamespacearm__compute_html_a386704431e8e28600e5b069d1275d0ea"><div class="ttname"><a href="namespacearm__compute.html#a386704431e8e28600e5b069d1275d0ea">arm_compute::transposeconv_output_dimensions</a></div><div class="ttdeci">const std::pair&lt; unsigned int, unsigned int &gt; transposeconv_output_dimensions(unsigned int in_width, unsigned int in_height, unsigned int kernel_width, unsigned int kernel_height, const PadStrideInfo &amp;info, unsigned int invalid_right, unsigned int invalid_top)</div><div class="ttdef"><b>Definition:</b> <a href="_utils_ex_8cpp_source.html#l00047">UtilsEx.cpp:47</a></div></div>
<div class="ttc" id="anamespacegen__h5__explicit__inputs_html_a48dd077479f23bb4552c2d7d6a7a4d37"><div class="ttname"><a href="namespacegen__h5__explicit__inputs.html#a48dd077479f23bb4552c2d7d6a7a4d37">gen_h5_explicit_inputs.input</a></div><div class="ttdeci">input</div><div class="ttdef"><b>Definition:</b> <a href="gen__h5__explicit__inputs_8py_source.html#l00034">gen_h5_explicit_inputs.py:34</a></div></div>
<div class="ttc" id="anamespacegen__h5__explicit__inputs_html_acd1aa9ba45d45c6b619b723e6e34c576"><div class="ttname"><a href="namespacegen__h5__explicit__inputs.html#acd1aa9ba45d45c6b619b723e6e34c576">gen_h5_explicit_inputs.output</a></div><div class="ttdeci">output</div><div class="ttdef"><b>Definition:</b> <a href="gen__h5__explicit__inputs_8py_source.html#l00035">gen_h5_explicit_inputs.py:35</a></div></div>
<div class="ttc" id="anamespacemir__caffe_html_a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc"><div class="ttname"><a href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">mir_caffe::CaffeOpType::bias</a></div><div class="ttdeci">@ bias</div></div>
<div class="ttc" id="anamespacepart__eval__one_html_aa000372729756a2ed1c28a613ed7cb88"><div class="ttname"><a href="namespacepart__eval__one.html#aa000372729756a2ed1c28a613ed7cb88">part_eval_one.output_shape</a></div><div class="ttdeci">list output_shape</div><div class="ttdef"><b>Definition:</b> <a href="part__eval__one_8py_source.html#l00115">part_eval_one.py:115</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_shape_calculator_ex_8h_source.html#l00128">arm_compute::misc::shape_calculator::compute_transposeconv_output_shape()</a>, <a class="el" href="_shape_calculator_ex_8h_source.html#l00074">arm_compute::misc::shape_calculator::compute_transposeconv_upsampled_shape()</a>, <a class="el" href="library__info_8cc_source.html#l00017">info</a>, <a class="el" href="_utils_ex_8cpp_source.html#l00047">arm_compute::transposeconv_output_dimensions()</a>, and <a class="el" href="_n_e_transpose_conv_layer_8cpp_source.html#l00061">validate()</a>.</p>

</div>
</div>
<a id="a3add271bb507a8d44def85d8c1ae4dfa" name="a3add271bb507a8d44def85d8c1ae4dfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3add271bb507a8d44def85d8c1ae4dfa">&#9670;&#160;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classarm__compute_1_1_n_e_transpose_conv_layer.html">NETransposeConvLayer</a> &amp; arm_compute::NETransposeConvLayer::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classarm__compute_1_1_n_e_transpose_conv_layer.html">NETransposeConvLayer</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Prevent instances of this class from being copied (As this class contains pointers) </p>

</div>
</div>
<a id="a7e7925954c3bc168c2f61f190b69671a" name="a7e7925954c3bc168c2f61f190b69671a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e7925954c3bc168c2f61f190b69671a">&#9670;&#160;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classarm__compute_1_1_n_e_transpose_conv_layer.html">NETransposeConvLayer</a> &amp; arm_compute::NETransposeConvLayer::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classarm__compute_1_1_n_e_transpose_conv_layer.html">NETransposeConvLayer</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Allow instances of this class to be moved </p>

</div>
</div>
<a id="a3114408d5f776e9dc0e3b46990063f59" name="a3114408d5f776e9dc0e3b46990063f59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3114408d5f776e9dc0e3b46990063f59">&#9670;&#160;</a></span>prepare()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void arm_compute::NETransposeConvLayer::prepare </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_n_e_transpose_conv_layer_8cpp_source.html#l00218">218</a> of file <a class="el" href="_n_e_transpose_conv_layer_8cpp_source.html">NETransposeConvLayer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  219</span>{</div>
<div class="line"><span class="lineno">  220</span>  <span class="keywordflow">if</span> (!_is_prepared)</div>
<div class="line"><span class="lineno">  221</span>  {</div>
<div class="line"><span class="lineno">  222</span>    ARM_COMPUTE_ERROR_ON(!_original_weights-&gt;is_used());</div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span>    <span class="comment">// Run weights flipping and mark original weights tensor as unused</span></div>
<div class="line"><span class="lineno">  225</span>    _weights_flipped.allocator()-&gt;allocate();</div>
<div class="line"><span class="lineno">  226</span>    _flip_weights.run();</div>
<div class="line"><span class="lineno">  227</span>    _original_weights-&gt;mark_as_unused();</div>
<div class="line"><span class="lineno">  228</span> </div>
<div class="line"><span class="lineno">  229</span>    <span class="comment">// Prepare convolution</span></div>
<div class="line"><span class="lineno">  230</span>    _conv_f.prepare();</div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span>    _is_prepared = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  233</span>  }</div>
<div class="line"><span class="lineno">  234</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="_n_e_transpose_conv_layer_8cpp_source.html#l00208">run()</a>.</p>

</div>
</div>
<a id="a6db66e85b103e02c171ea5215dfbb2f9" name="a6db66e85b103e02c171ea5215dfbb2f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6db66e85b103e02c171ea5215dfbb2f9">&#9670;&#160;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void arm_compute::NETransposeConvLayer::run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_n_e_transpose_conv_layer_8cpp_source.html#l00208">208</a> of file <a class="el" href="_n_e_transpose_conv_layer_8cpp_source.html">NETransposeConvLayer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  209</span>{</div>
<div class="line"><span class="lineno">  210</span>  <a class="code hl_function" href="classarm__compute_1_1_n_e_transpose_conv_layer.html#a3114408d5f776e9dc0e3b46990063f59">prepare</a>();</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>  MemoryGroupResourceScope scope_mg(_memory_group);</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>  _upsample_f.run();</div>
<div class="line"><span class="lineno">  215</span>  _conv_f.run();</div>
<div class="line"><span class="lineno">  216</span>}</div>
<div class="ttc" id="aclassarm__compute_1_1_n_e_transpose_conv_layer_html_a3114408d5f776e9dc0e3b46990063f59"><div class="ttname"><a href="classarm__compute_1_1_n_e_transpose_conv_layer.html#a3114408d5f776e9dc0e3b46990063f59">arm_compute::NETransposeConvLayer::prepare</a></div><div class="ttdeci">void prepare() override</div><div class="ttdef"><b>Definition:</b> <a href="_n_e_transpose_conv_layer_8cpp_source.html#l00218">NETransposeConvLayer.cpp:218</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_n_e_transpose_conv_layer_8cpp_source.html#l00218">prepare()</a>.</p>

</div>
</div>
<a id="af1450937755e539c72a5127704e13e23" name="af1450937755e539c72a5127704e13e23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1450937755e539c72a5127704e13e23">&#9670;&#160;</a></span>validate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Status arm_compute::NETransposeConvLayer::validate </td>
          <td>(</td>
          <td class="paramtype">const ITensorInfo *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ITensorInfo *&#160;</td>
          <td class="paramname"><em>weights</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ITensorInfo *&#160;</td>
          <td class="paramname"><em>bias</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ITensorInfo *&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const PadStrideInfo &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>invalid_right</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>invalid_bottom</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Static function to check if given info will lead to a valid configuration of <a class="el" href="classarm__compute_1_1_n_e_transpose_conv_layer.html">NETransposeConvLayer</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>Input tensor info. 3 lower dimensions represent a single input, and an optional 4th dimension for batch of inputs. Data types supported: F32/F16/QASYMM8/QASYMM8_SIGNED. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">weights</td><td>The 4d weights info with dimensions [width, height, IFM, OFM]. Data type supported: Same as <code>input</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bias</td><td>(Optional) The biases have one dimension. Data types supported: S32 for QASYMM8 and QASYMM8_SIGNED input, F32 for F32 input, F16 for F16 input. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">output</td><td>Output tensor info. The output has the same number of dimensions as the <code>input</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">info</td><td>Contains padding and policies to be used in the deconvolution, this is decribed in PadStrideInfo. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">innvalid_right</td><td>The number of zeros added to right edge of the output. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">invalid_bottom</td><td>The number of zeros added to bottom edge of the output.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a status </dd></dl>

<p class="definition">Definition at line <a class="el" href="_n_e_transpose_conv_layer_8cpp_source.html#l00061">61</a> of file <a class="el" href="_n_e_transpose_conv_layer_8cpp_source.html">NETransposeConvLayer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   65</span>{</div>
<div class="line"><span class="lineno">   66</span>  ARM_COMPUTE_RETURN_ERROR_ON_NULLPTR(input, weights, output);</div>
<div class="line"><span class="lineno">   67</span>  ARM_COMPUTE_RETURN_ERROR_ON_DATA_TYPE_CHANNEL_NOT_IN(input, 1, DataType::F32, DataType::F16,</div>
<div class="line"><span class="lineno">   68</span>                                                       DataType::QASYMM8, DataType::QASYMM8_SIGNED);</div>
<div class="line"><span class="lineno">   69</span>  ARM_COMPUTE_RETURN_ERROR_ON_MISMATCHING_DATA_TYPES(weights, input);</div>
<div class="line"><span class="lineno">   70</span>  ARM_COMPUTE_RETURN_ERROR_ON_MISMATCHING_DATA_LAYOUT(weights, input);</div>
<div class="line"><span class="lineno">   71</span>  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> width_idx =</div>
<div class="line"><span class="lineno">   72</span>    get_data_layout_dimension_index(weights-&gt;data_layout(), DataLayoutDimension::WIDTH);</div>
<div class="line"><span class="lineno">   73</span>  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> height_idx =</div>
<div class="line"><span class="lineno">   74</span>    get_data_layout_dimension_index(weights-&gt;data_layout(), DataLayoutDimension::HEIGHT);</div>
<div class="line"><span class="lineno">   75</span>  ARM_COMPUTE_RETURN_ERROR_ON(weights-&gt;dimension(width_idx) != weights-&gt;dimension(height_idx));</div>
<div class="line"><span class="lineno">   76</span>  ARM_COMPUTE_RETURN_ERROR_ON(weights-&gt;dimension(width_idx) &lt; 1);</div>
<div class="line"><span class="lineno">   77</span> </div>
<div class="line"><span class="lineno">   78</span>  <span class="keyword">auto</span> out_dims = <a class="code hl_function" href="namespacearm__compute.html#a386704431e8e28600e5b069d1275d0ea">transposeconv_output_dimensions</a>(</div>
<div class="line"><span class="lineno">   79</span>    <a class="code hl_variable" href="namespacegen__h5__explicit__inputs.html#a48dd077479f23bb4552c2d7d6a7a4d37">input</a>-&gt;dimension(width_idx), <a class="code hl_variable" href="namespacegen__h5__explicit__inputs.html#a48dd077479f23bb4552c2d7d6a7a4d37">input</a>-&gt;dimension(height_idx), weights-&gt;dimension(width_idx),</div>
<div class="line"><span class="lineno">   80</span>    weights-&gt;dimension(height_idx), <a class="code hl_variable" href="library__info_8cc.html#a54f2e176d30fe963addf60c313ccd9ca">info</a>, invalid_right, invalid_bottom);</div>
<div class="line"><span class="lineno">   81</span> </div>
<div class="line"><span class="lineno">   82</span>  ARM_COMPUTE_RETURN_ERROR_ON_MISMATCHING_DATA_TYPES(input, weights);</div>
<div class="line"><span class="lineno">   83</span>  <span class="keywordflow">if</span> (bias != <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno">   84</span>  {</div>
<div class="line"><span class="lineno">   85</span>    <span class="keywordflow">if</span> (is_data_type_quantized_asymmetric(<a class="code hl_variable" href="namespacegen__h5__explicit__inputs.html#a48dd077479f23bb4552c2d7d6a7a4d37">input</a>-&gt;data_type()))</div>
<div class="line"><span class="lineno">   86</span>    {</div>
<div class="line"><span class="lineno">   87</span>      ARM_COMPUTE_RETURN_ERROR_ON_DATA_TYPE_CHANNEL_NOT_IN(bias, 1, DataType::S32);</div>
<div class="line"><span class="lineno">   88</span>    }</div>
<div class="line"><span class="lineno">   89</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   90</span>    {</div>
<div class="line"><span class="lineno">   91</span>      ARM_COMPUTE_RETURN_ERROR_ON_MISMATCHING_DATA_TYPES(input, bias);</div>
<div class="line"><span class="lineno">   92</span>    }</div>
<div class="line"><span class="lineno">   93</span>  }</div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacegen__h5__explicit__inputs.html#acd1aa9ba45d45c6b619b723e6e34c576">output</a>-&gt;tensor_shape().total_size() &gt; 0)</div>
<div class="line"><span class="lineno">   96</span>  {</div>
<div class="line"><span class="lineno">   97</span>    ARM_COMPUTE_RETURN_ERROR_ON_MISMATCHING_DATA_TYPES(input, output);</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="namespaceangkor.html#a064734f560e3fa5d4be0828c9d7a3859">TensorShape</a> <a class="code hl_variable" href="namespacepart__eval__one.html#aa000372729756a2ed1c28a613ed7cb88">output_shape</a> = <a class="code hl_function" href="namespacearm__compute_1_1misc_1_1shape__calculator.html#a639ed6b2f361df361565bf1cb2a22bb2">compute_transposeconv_output_shape</a>(out_dims, *input, *weights);</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>    ARM_COMPUTE_RETURN_ERROR_ON_MSG(<a class="code hl_variable" href="namespacegen__h5__explicit__inputs.html#acd1aa9ba45d45c6b619b723e6e34c576">output</a>-&gt;dimension(Window::DimX) != <a class="code hl_variable" href="namespacepart__eval__one.html#aa000372729756a2ed1c28a613ed7cb88">output_shape</a>.x(),</div>
<div class="line"><span class="lineno">  102</span>                                    <span class="stringliteral">&quot;Output&#39;s width is invalid.&quot;</span>);</div>
<div class="line"><span class="lineno">  103</span>    ARM_COMPUTE_RETURN_ERROR_ON_MSG(<a class="code hl_variable" href="namespacegen__h5__explicit__inputs.html#acd1aa9ba45d45c6b619b723e6e34c576">output</a>-&gt;dimension(Window::DimY) != <a class="code hl_variable" href="namespacepart__eval__one.html#aa000372729756a2ed1c28a613ed7cb88">output_shape</a>.y(),</div>
<div class="line"><span class="lineno">  104</span>                                    <span class="stringliteral">&quot;Output&#39;s height is invalid.&quot;</span>);</div>
<div class="line"><span class="lineno">  105</span>    ARM_COMPUTE_RETURN_ERROR_ON_MSG(<a class="code hl_variable" href="namespacegen__h5__explicit__inputs.html#acd1aa9ba45d45c6b619b723e6e34c576">output</a>-&gt;dimension(Window::DimZ) != <a class="code hl_variable" href="namespacepart__eval__one.html#aa000372729756a2ed1c28a613ed7cb88">output_shape</a>.z(),</div>
<div class="line"><span class="lineno">  106</span>                                    <span class="stringliteral">&quot;Output&#39;s depth is invalid.&quot;</span>);</div>
<div class="line"><span class="lineno">  107</span>  }</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pad_left = 0;</div>
<div class="line"><span class="lineno">  110</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pad_right = 0;</div>
<div class="line"><span class="lineno">  111</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pad_top = 0;</div>
<div class="line"><span class="lineno">  112</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pad_bottom = 0;</div>
<div class="line"><span class="lineno">  113</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="namespaceangkor.html#a064734f560e3fa5d4be0828c9d7a3859">TensorShape</a> scale_out_shape =</div>
<div class="line"><span class="lineno">  114</span>    <a class="code hl_function" href="namespacearm__compute_1_1misc_1_1shape__calculator.html#a2ce8b629c4ffa62fd0d3b209b3b9be80">compute_transposeconv_upsampled_shape</a>(*input, *weights, <a class="code hl_variable" href="library__info_8cc.html#a54f2e176d30fe963addf60c313ccd9ca">info</a>, out_dims, invalid_right,</div>
<div class="line"><span class="lineno">  115</span>                                          invalid_bottom, pad_left, pad_right, pad_top, pad_bottom);</div>
<div class="line"><span class="lineno">  116</span>  TensorInfo scale_out_info(</div>
<div class="line"><span class="lineno">  117</span>    <a class="code hl_variable" href="namespacegen__h5__explicit__inputs.html#a48dd077479f23bb4552c2d7d6a7a4d37">input</a>-&gt;clone()-&gt;set_is_resizable(<span class="keyword">true</span>).reset_padding().set_tensor_shape(scale_out_shape));</div>
<div class="line"><span class="lineno">  118</span>  <span class="keyword">const</span> PadStrideInfo conv_info(1, 1, 0, 0, 0, 0, DimensionRoundingType::CEIL);</div>
<div class="line"><span class="lineno">  119</span> </div>
<div class="line"><span class="lineno">  120</span>  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> batches_idx =</div>
<div class="line"><span class="lineno">  121</span>    get_data_layout_dimension_index(weights-&gt;data_layout(), DataLayoutDimension::BATCHES);</div>
<div class="line"><span class="lineno">  122</span>  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> channel_idx =</div>
<div class="line"><span class="lineno">  123</span>    get_data_layout_dimension_index(weights-&gt;data_layout(), DataLayoutDimension::CHANNEL);</div>
<div class="line"><span class="lineno">  124</span>  ARM_COMPUTE_RETURN_ERROR_ON(<a class="code hl_variable" href="namespacegen__h5__explicit__inputs.html#a48dd077479f23bb4552c2d7d6a7a4d37">input</a>-&gt;dimension(batches_idx) !=</div>
<div class="line"><span class="lineno">  125</span>                              scale_out_info.dimension(batches_idx));</div>
<div class="line"><span class="lineno">  126</span>  ARM_COMPUTE_RETURN_ERROR_ON(<a class="code hl_variable" href="namespacegen__h5__explicit__inputs.html#a48dd077479f23bb4552c2d7d6a7a4d37">input</a>-&gt;dimension(channel_idx) !=</div>
<div class="line"><span class="lineno">  127</span>                              scale_out_info.dimension(channel_idx));</div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span>  ARM_COMPUTE_RETURN_ON_ERROR(</div>
<div class="line"><span class="lineno">  130</span>    NEConvolutionLayer::validate(&amp;scale_out_info, weights, bias, output, conv_info, WeightsInfo()));</div>
<div class="line"><span class="lineno">  131</span> </div>
<div class="line"><span class="lineno">  132</span>  <span class="keywordflow">return</span> Status{};</div>
<div class="line"><span class="lineno">  133</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_shape_calculator_ex_8h_source.html#l00128">arm_compute::misc::shape_calculator::compute_transposeconv_output_shape()</a>, <a class="el" href="_shape_calculator_ex_8h_source.html#l00074">arm_compute::misc::shape_calculator::compute_transposeconv_upsampled_shape()</a>, <a class="el" href="library__info_8cc_source.html#l00017">info</a>, and <a class="el" href="_utils_ex_8cpp_source.html#l00047">arm_compute::transposeconv_output_dimensions()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_n_e_transpose_conv_layer_8cpp_source.html#l00135">configure()</a>, and <a class="el" href="classarm__compute_1_1_n_e_transpose_conv_layer.html#ab64cbab364307c0637f5c10170c9bde9">~NETransposeConvLayer()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>compute/ARMComputeEx/arm_compute/runtime/NEON/functions/<a class="el" href="_n_e_transpose_conv_layer_8h_source.html">NETransposeConvLayer.h</a></li>
<li>compute/ARMComputeEx/src/runtime/NEON/functions/<a class="el" href="_n_e_transpose_conv_layer_8cpp_source.html">NETransposeConvLayer.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacearm__compute.html">arm_compute</a></li><li class="navelem"><a class="el" href="classarm__compute_1_1_n_e_transpose_conv_layer.html">NETransposeConvLayer</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
