function(_GLIB_2_0_import)
  find_library(GLIB_LIBRARIES
    NAMES glib-2.0
    ONLY_CMAKE_FIND_ROOT_PATH)
  
  get_filename_component(GLIB_LIBRARY_DIR ${GLIB_LIBRARIES} PATH)
  find_path(GLIBCONFIG_INCLUDE_DIR
    NAMES glibconfig.h
    PATHS ${GLIB_LIBRARY_DIR}
    CMAKE_FIND_ROOT_PATH_BOTH
    PATH_SUFFIXES glib-2.0/include)

  find_path(GLIB_INCLUDE_DIR
    NAMES glib.h
    ONLY_CMAKE_FIND_ROOT_PATH
    PATH_SUFFIXES glib-2.0)
  
  set(GLIB_FOUND TRUE)

  if(NOT GLIB_LIBRARIES)
    set(GLIB_FOUND FALSE)
  endif(NOT GLIB_LIBRARIES)

  if(NOT GLIBCONFIG_INCLUDE_DIR)
    set(GLIB_FOUND FALSE)
  endif(NOT GLIBCONFIG_INCLUDE_DIR)

  if(NOT GLIB_INCLUDE_DIR)
    set(GLIB_FOUND FALSE)
  endif(NOT GLIB_INCLUDE_DIR)

  set(GLIB_INCLUDE_DIRS ${GLIB_INCLUDE_DIR} ${GLIBCONFIG_INCLUDE_DIR})

  if(NOT GLIB_FOUND)
    message(STATUS "Failed to find GLib 2.0")
  endif(NOT GLIB_FOUND)

  set(GLIB2.0_FOUND ${GLIB_FOUND} PARENT_SCOPE)
  set(GLIB2.0_INCLUDE_DIRS ${GLIB_INCLUDE_DIRS} PARENT_SCOPE)
  set(GLIB2.0_LIBRARIES ${GLIB_LIBRARIES} PARENT_SCOPE)
endfunction(_GLIB_2_0_import)

_GLIB_2_0_import()
