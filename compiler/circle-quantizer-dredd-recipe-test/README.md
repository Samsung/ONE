# circle-quantizer-dredd-recipe-test

It tests non-functional conditions of a quantized circle model generated by circle-quantizer.

## How to add a test?

1. Create a directory under `res/TensorFlowLiteRecipes/` or `res/CircleRecipes/`.

2. Make a recipe (`test.recipe`) for fp32 model under the directory.

3. Make a rule (`test.rule`) you want to test under the directory. (For more information on dredd-test-rules, see _dredd-rule-lib_ module.)

4. Add test to `test.lst` in this module with `Add` macro.

```
Add(RECIPE_DIR DTYPE dtype GRANULARITY granularity USE_QCONFIG)
```

- `RECIPE_DIR`: Path to the directory where the recipe file is saved.
- `DTYPE`: Default quantization dtype (uint8, int16)
- `GRANULARITY`: Quantization granularity (channel, layer)
- `USE_QCONFIG`: (Optional) Whether to use a quantization configuration file or not. If this is set, `test.qconf.json` should exist under `RECIPE_DIR`

## Example

```
# TensorFlowLiteRecipes
res/TensorFlowLiteRecipes/Net_Conv_Add_Mul_004
├── test.recipe     # What you want to test
└── test.rule       # Non-functional conditions to be satisfied
└── test.qconf.json # Quantization configuration file (optional)

# test.lst
...
Add(Net_Conv_Add_Mul_004 DTYPE uint8 GRANULARITY channel USE_QCONFIG)
...
```
