<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ONE - On-device Neural Engine: nnfw::ruy Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ONE - On-device Neural Engine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('namespacennfw_1_1ruy.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">nnfw::ruy Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacennfw_1_1ruy_1_1ruy__support"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacennfw_1_1ruy_1_1ruy__support.html">ruy_support</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnnfw_1_1ruy_1_1_conv.html">Conv</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnnfw_1_1ruy_1_1_conv_params.html">ConvParams</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnnfw_1_1ruy_1_1_fully_connected_params.html">FullyConnectedParams</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnnfw_1_1ruy_1_1_gemm_params.html">GemmParams</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnnfw_1_1ruy_1_1_matrix_params.html">MatrixParams</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnnfw_1_1ruy_1_1_padding_values.html">PaddingValues</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnnfw_1_1ruy_1_1_u_n_u_s_e_d___a_l_l.html">UNUSED_ALL</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:adc4ac5ec1dbd6adeb7a34920bf80fb88"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacennfw_1_1ruy.html#adc4ac5ec1dbd6adeb7a34920bf80fb88">FusedActivationFunctionType</a> { <br />
&#160;&#160;<a class="el" href="namespacennfw_1_1ruy.html#adc4ac5ec1dbd6adeb7a34920bf80fb88a35c3ace1970663a16e5c65baa5941b13">kNone</a> = 0
, <a class="el" href="namespacennfw_1_1ruy.html#adc4ac5ec1dbd6adeb7a34920bf80fb88a4c7f8cb4a4aefd7ac6a89fa1b747233d">kRelu6</a> = 1
, <a class="el" href="namespacennfw_1_1ruy.html#adc4ac5ec1dbd6adeb7a34920bf80fb88ae0a0000573fa134f9ee575b47d839ee4">kRelu1</a> = 2
, <a class="el" href="namespacennfw_1_1ruy.html#adc4ac5ec1dbd6adeb7a34920bf80fb88a067892a9ea619b2c378e06000c9763af">kRelu</a> = 3
, <br />
&#160;&#160;<a class="el" href="namespacennfw_1_1ruy.html#adc4ac5ec1dbd6adeb7a34920bf80fb88a4918cf5d849692c2bed918bb9e948630">kTanh</a> = 4
, <a class="el" href="namespacennfw_1_1ruy.html#adc4ac5ec1dbd6adeb7a34920bf80fb88ac00732693e14261bf9c2a4612a7f9bf9">kSigmoid</a> = 6
<br />
 }</td></tr>
<tr class="separator:adc4ac5ec1dbd6adeb7a34920bf80fb88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61f6822bae7b9115886e65067857cac4"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacennfw_1_1ruy.html#a61f6822bae7b9115886e65067857cac4">PaddingType</a> { <a class="el" href="namespacennfw_1_1ruy.html#a61f6822bae7b9115886e65067857cac4a35c3ace1970663a16e5c65baa5941b13">kNone</a> = 0
, <a class="el" href="namespacennfw_1_1ruy.html#a61f6822bae7b9115886e65067857cac4ad523906435f67e94367d4fab5b9380da">kSame</a> = 1
, <a class="el" href="namespacennfw_1_1ruy.html#a61f6822bae7b9115886e65067857cac4a4d3576c37e6f03700bad4345238fffa0">kValid</a> = 2
 }</td></tr>
<tr class="separator:a61f6822bae7b9115886e65067857cac4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53e614d61e4a56cdc05773ce61d9179b"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacennfw_1_1ruy.html#a53e614d61e4a56cdc05773ce61d9179b">Order</a> { <a class="el" href="namespacennfw_1_1ruy.html#a53e614d61e4a56cdc05773ce61d9179baf093768651925b22c4d08e33641f38f1">kColMajor</a>
, <a class="el" href="namespacennfw_1_1ruy.html#a53e614d61e4a56cdc05773ce61d9179ba1ebc644af759b214a70279505401a0b9">kRowMajor</a>
 }</td></tr>
<tr class="separator:a53e614d61e4a56cdc05773ce61d9179b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1b02e2e4161dc332b8f81e16d93532d"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacennfw_1_1ruy.html#aa1b02e2e4161dc332b8f81e16d93532d">CachePolicy</a> : std::uint8_t { <a class="el" href="namespacennfw_1_1ruy.html#aa1b02e2e4161dc332b8f81e16d93532da034316273cd939ada300353e91737a83">kNeverCache</a>
, <a class="el" href="namespacennfw_1_1ruy.html#aa1b02e2e4161dc332b8f81e16d93532dab8c7e8866dc5309079f1ee98258639e9">kCacheIfLargeSpeedup</a>
, <a class="el" href="namespacennfw_1_1ruy.html#aa1b02e2e4161dc332b8f81e16d93532da0d3d239e220c4289e5dc0bf3b1687422">kAlwaysCache</a>
 }</td></tr>
<tr class="separator:aa1b02e2e4161dc332b8f81e16d93532d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a719af35c91a72f276105e09b0a40395d"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacennfw_1_1ruy.html#a719af35c91a72f276105e09b0a40395d">QuantizationFlavor</a> { <a class="el" href="namespacennfw_1_1ruy.html#a719af35c91a72f276105e09b0a40395da6b5725464f6e8ab0a2cdf49a29a0f4a9">kFloatingPoint</a>
, <a class="el" href="namespacennfw_1_1ruy.html#a719af35c91a72f276105e09b0a40395dac11557b4d4fc196c43b4fa7eab201144">kIntegerWithUniformMultiplier</a>
, <a class="el" href="namespacennfw_1_1ruy.html#a719af35c91a72f276105e09b0a40395da227d5cf4d9445848d0940bb4dd05ee37">kIntegerWithPerRowMultiplier</a>
 }</td></tr>
<tr class="separator:a719af35c91a72f276105e09b0a40395d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5304d24db57a5eacefb5ed4e888a2d53"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacennfw_1_1ruy.html#a5304d24db57a5eacefb5ed4e888a2d53">FullyConnected</a> (const <a class="el" href="structnnfw_1_1ruy_1_1_fully_connected_params.html">FullyConnectedParams</a> &amp;params, const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;input_shape, const float *input_data, const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;weights_shape, const float *weights_data, const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;, const float *optional_bias_data, const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;output_shape, float *output_data, ::ruy::Context *ruy_context)</td></tr>
<tr class="separator:a5304d24db57a5eacefb5ed4e888a2d53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69cdbcdf96334211470a6cd5ef55ee88"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacennfw_1_1ruy.html#a69cdbcdf96334211470a6cd5ef55ee88">PortableIsZeroVector</a> (const float *vector, int v_size)</td></tr>
<tr class="separator:a69cdbcdf96334211470a6cd5ef55ee88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af79b6729b43e12407ac4b76ad180f4f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacennfw_1_1ruy.html#af79b6729b43e12407ac4b76ad180f4f6">MatchingDim</a> (const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;shape1, int index1, const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;shape2, int index2)</td></tr>
<tr class="separator:af79b6729b43e12407ac4b76ad180f4f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a08b14bae8f7d68302652cae45deb20"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:a3a08b14bae8f7d68302652cae45deb20"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacennfw_1_1ruy.html#a3a08b14bae8f7d68302652cae45deb20">MatchingDim</a> (const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;shape1, int index1, const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;shape2, int index2, Args... args)</td></tr>
<tr class="separator:a3a08b14bae8f7d68302652cae45deb20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ff84d5a7c5d687bd28ed7e2f7977806"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacennfw_1_1ruy.html#a2ff84d5a7c5d687bd28ed7e2f7977806">GetShape</a> (const std::vector&lt; int32_t &gt; &amp;data)</td></tr>
<tr class="separator:a2ff84d5a7c5d687bd28ed7e2f7977806"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eb6cf080c5482b967cc28f8cb0374e2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacennfw_1_1ruy.html#a3eb6cf080c5482b967cc28f8cb0374e2">Offset</a> (const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;shape, int i0, int i1, int i2, int i3)</td></tr>
<tr class="separator:a3eb6cf080c5482b967cc28f8cb0374e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9152485cbca1d5243f96f19d37a6477a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacennfw_1_1ruy.html#a9152485cbca1d5243f96f19d37a6477a">Offset</a> (const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;shape, int *index)</td></tr>
<tr class="separator:a9152485cbca1d5243f96f19d37a6477a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a729af90aae0893b06632064327843408"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacennfw_1_1ruy.html#a729af90aae0893b06632064327843408">FlatSizeSkipDim</a> (const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;shape, int skip_dim)</td></tr>
<tr class="separator:a729af90aae0893b06632064327843408"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a781fc9653158e5eb284b64426ec1f2aa"><td class="memTemplParams" colspan="2">template&lt;typename... Ts&gt; </td></tr>
<tr class="memitem:a781fc9653158e5eb284b64426ec1f2aa"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacennfw_1_1ruy.html#a781fc9653158e5eb284b64426ec1f2aa">checkMatching</a> (const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;shape, Ts... check_shapes)</td></tr>
<tr class="separator:a781fc9653158e5eb284b64426ec1f2aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90a2bc4b8b80caf84415844670939ec1"><td class="memTemplParams" colspan="2">template&lt;typename... Ts&gt; </td></tr>
<tr class="memitem:a90a2bc4b8b80caf84415844670939ec1"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacennfw_1_1ruy.html#a90a2bc4b8b80caf84415844670939ec1">MatchingFlatSize</a> (const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;shape, Ts... check_shapes)</td></tr>
<tr class="separator:a90a2bc4b8b80caf84415844670939ec1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a616a524b483b05714d724b66be425980"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacennfw_1_1ruy.html#a616a524b483b05714d724b66be425980">MatchingFlatSizeSkipDim</a> (const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;shape, int skip_dim, const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;check_shape_0)</td></tr>
<tr class="separator:a616a524b483b05714d724b66be425980"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0673d7ffefb4a092ecda749d28c4413"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacennfw_1_1ruy.html#ab0673d7ffefb4a092ecda749d28c4413">MatchingFlatSizeSkipDim</a> (const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;shape, int skip_dim, const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;check_shape_0, const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;check_shape_1)</td></tr>
<tr class="separator:ab0673d7ffefb4a092ecda749d28c4413"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6752dc8511d72b68aa444c0abb372d17"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacennfw_1_1ruy.html#a6752dc8511d72b68aa444c0abb372d17">MatchingElementsSize</a> (const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;shape, const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;check_shape_0, const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;check_shape_1)</td></tr>
<tr class="separator:a6752dc8511d72b68aa444c0abb372d17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a548b0759c09d63be5b761d49651cc50a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacennfw_1_1ruy.html#a548b0759c09d63be5b761d49651cc50a">IsZeroVector</a> (const float *vector, int v_size)</td></tr>
<tr class="separator:a548b0759c09d63be5b761d49651cc50a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a695d6cbce17540c90564d4c369083181"><td class="memTemplParams" colspan="2">template&lt;typename AccumScalar , typename DstScalar , <a class="el" href="namespacennfw_1_1ruy.html#a719af35c91a72f276105e09b0a40395d">QuantizationFlavor</a> quantization_flavor&gt; </td></tr>
<tr class="memitem:a695d6cbce17540c90564d4c369083181"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacennfw_1_1ruy.html#a695d6cbce17540c90564d4c369083181">ValidateGemmParams</a> (const <a class="el" href="structnnfw_1_1ruy_1_1_gemm_params.html">GemmParams</a>&lt; AccumScalar, DstScalar, quantization_flavor &gt; &amp;params)</td></tr>
<tr class="separator:a695d6cbce17540c90564d4c369083181"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88bfa77bd1460059a8934b213d1cdb55"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacennfw_1_1ruy.html#aa1b02e2e4161dc332b8f81e16d93532d">CachePolicy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacennfw_1_1ruy.html#a88bfa77bd1460059a8934b213d1cdb55">DefaultCachePolicy</a> (bool is_constant_data)</td></tr>
<tr class="separator:a88bfa77bd1460059a8934b213d1cdb55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7366944930b68de35cc4b1dcb1c31556"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a7366944930b68de35cc4b1dcb1c31556"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacennfw_1_1ruy.html#a7366944930b68de35cc4b1dcb1c31556">ExtractPatchIntoBufferColumn</a> (const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;input_shape, int w, int h, int b, int kheight, int kwidth, int stride_width, int stride_height, int pad_width, int pad_height, int in_width, int in_height, int in_depth, int single_buffer_length, int buffer_id, const T *in_data, T *conv_buffer_data, uint8_t zero_byte)</td></tr>
<tr class="separator:a7366944930b68de35cc4b1dcb1c31556"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae54c14664e4b63f091d185b726d73c70"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ae54c14664e4b63f091d185b726d73c70"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacennfw_1_1ruy.html#ae54c14664e4b63f091d185b726d73c70">DilatedIm2col</a> (const <a class="el" href="structnnfw_1_1ruy_1_1_conv_params.html">ConvParams</a> &amp;params, const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;input_shape, const T *input_data, const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;filter_shape, const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;output_shape, T *im2col_data, const int32_t *zero_bytes, const int zero_bytes_len)</td></tr>
<tr class="separator:ae54c14664e4b63f091d185b726d73c70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc70f9bc307cbeb12a75d4618d7573f3"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:adc70f9bc307cbeb12a75d4618d7573f3"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacennfw_1_1ruy.html#adc70f9bc307cbeb12a75d4618d7573f3">DilatedIm2col</a> (const <a class="el" href="structnnfw_1_1ruy_1_1_conv_params.html">ConvParams</a> &amp;params, uint8_t zero_byte, const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;input_shape, const T *input_data, const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;filter_shape, const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;output_shape, T *im2col_data)</td></tr>
<tr class="separator:adc70f9bc307cbeb12a75d4618d7573f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b04f0408a21443d97ed96ed27defbed"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a3b04f0408a21443d97ed96ed27defbed"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacennfw_1_1ruy.html#a3b04f0408a21443d97ed96ed27defbed">Im2col</a> (const <a class="el" href="structnnfw_1_1ruy_1_1_conv_params.html">ConvParams</a> &amp;params, int kheight, int kwidth, uint8_t zero_byte, const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;input_shape, const T *input_data, const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;output_shape, T *output_data)</td></tr>
<tr class="separator:a3b04f0408a21443d97ed96ed27defbed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="aa1b02e2e4161dc332b8f81e16d93532d" name="aa1b02e2e4161dc332b8f81e16d93532d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1b02e2e4161dc332b8f81e16d93532d">&#9670;&#160;</a></span>CachePolicy</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="namespacennfw_1_1ruy.html#aa1b02e2e4161dc332b8f81e16d93532d">nnfw::ruy::CachePolicy</a> : std::uint8_t</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aa1b02e2e4161dc332b8f81e16d93532da034316273cd939ada300353e91737a83" name="aa1b02e2e4161dc332b8f81e16d93532da034316273cd939ada300353e91737a83"></a>kNeverCache&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa1b02e2e4161dc332b8f81e16d93532dab8c7e8866dc5309079f1ee98258639e9" name="aa1b02e2e4161dc332b8f81e16d93532dab8c7e8866dc5309079f1ee98258639e9"></a>kCacheIfLargeSpeedup&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa1b02e2e4161dc332b8f81e16d93532da0d3d239e220c4289e5dc0bf3b1687422" name="aa1b02e2e4161dc332b8f81e16d93532da0d3d239e220c4289e5dc0bf3b1687422"></a>kAlwaysCache&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00110">110</a> of file <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html">Types.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  111</span>{</div>
<div class="line"><span class="lineno">  112</span>  kNeverCache,</div>
<div class="line"><span class="lineno">  113</span>  kCacheIfLargeSpeedup,</div>
<div class="line"><span class="lineno">  114</span>  kAlwaysCache,</div>
<div class="line"><span class="lineno">  115</span>};</div>
</div><!-- fragment -->
</div>
</div>
<a id="adc4ac5ec1dbd6adeb7a34920bf80fb88" name="adc4ac5ec1dbd6adeb7a34920bf80fb88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc4ac5ec1dbd6adeb7a34920bf80fb88">&#9670;&#160;</a></span>FusedActivationFunctionType</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="namespacennfw_1_1ruy.html#adc4ac5ec1dbd6adeb7a34920bf80fb88">nnfw::ruy::FusedActivationFunctionType</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="adc4ac5ec1dbd6adeb7a34920bf80fb88a35c3ace1970663a16e5c65baa5941b13" name="adc4ac5ec1dbd6adeb7a34920bf80fb88a35c3ace1970663a16e5c65baa5941b13"></a>kNone&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="adc4ac5ec1dbd6adeb7a34920bf80fb88a4c7f8cb4a4aefd7ac6a89fa1b747233d" name="adc4ac5ec1dbd6adeb7a34920bf80fb88a4c7f8cb4a4aefd7ac6a89fa1b747233d"></a>kRelu6&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="adc4ac5ec1dbd6adeb7a34920bf80fb88ae0a0000573fa134f9ee575b47d839ee4" name="adc4ac5ec1dbd6adeb7a34920bf80fb88ae0a0000573fa134f9ee575b47d839ee4"></a>kRelu1&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="adc4ac5ec1dbd6adeb7a34920bf80fb88a067892a9ea619b2c378e06000c9763af" name="adc4ac5ec1dbd6adeb7a34920bf80fb88a067892a9ea619b2c378e06000c9763af"></a>kRelu&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="adc4ac5ec1dbd6adeb7a34920bf80fb88a4918cf5d849692c2bed918bb9e948630" name="adc4ac5ec1dbd6adeb7a34920bf80fb88a4918cf5d849692c2bed918bb9e948630"></a>kTanh&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="adc4ac5ec1dbd6adeb7a34920bf80fb88ac00732693e14261bf9c2a4612a7f9bf9" name="adc4ac5ec1dbd6adeb7a34920bf80fb88ac00732693e14261bf9c2a4612a7f9bf9"></a>kSigmoid&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00033">33</a> of file <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html">Types.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   34</span>{</div>
<div class="line"><span class="lineno">   35</span>  <a class="code hl_enumvalue" href="_fused_8h.html#a1a924a1d956ce15f63c6cc86202b62e4a35c3ace1970663a16e5c65baa5941b13">kNone</a> = 0,</div>
<div class="line"><span class="lineno">   36</span>  <a class="code hl_enumvalue" href="_fused_8h.html#a1a924a1d956ce15f63c6cc86202b62e4a4c7f8cb4a4aefd7ac6a89fa1b747233d">kRelu6</a> = 1,</div>
<div class="line"><span class="lineno">   37</span>  <a class="code hl_enumvalue" href="_fused_8h.html#a1a924a1d956ce15f63c6cc86202b62e4ae0a0000573fa134f9ee575b47d839ee4">kRelu1</a> = 2,</div>
<div class="line"><span class="lineno">   38</span>  <a class="code hl_enumvalue" href="_fused_8h.html#a1a924a1d956ce15f63c6cc86202b62e4a067892a9ea619b2c378e06000c9763af">kRelu</a> = 3,</div>
<div class="line"><span class="lineno">   39</span>  kTanh = 4,</div>
<div class="line"><span class="lineno">   40</span>  kSigmoid = 6,</div>
<div class="line"><span class="lineno">   41</span>};</div>
<div class="ttc" id="a_fused_8h_html_a1a924a1d956ce15f63c6cc86202b62e4a067892a9ea619b2c378e06000c9763af"><div class="ttname"><a href="_fused_8h.html#a1a924a1d956ce15f63c6cc86202b62e4a067892a9ea619b2c378e06000c9763af">FusedActivationFunctionType::kRelu</a></div><div class="ttdeci">@ kRelu</div></div>
<div class="ttc" id="a_fused_8h_html_a1a924a1d956ce15f63c6cc86202b62e4a35c3ace1970663a16e5c65baa5941b13"><div class="ttname"><a href="_fused_8h.html#a1a924a1d956ce15f63c6cc86202b62e4a35c3ace1970663a16e5c65baa5941b13">FusedActivationFunctionType::kNone</a></div><div class="ttdeci">@ kNone</div></div>
<div class="ttc" id="a_fused_8h_html_a1a924a1d956ce15f63c6cc86202b62e4a4c7f8cb4a4aefd7ac6a89fa1b747233d"><div class="ttname"><a href="_fused_8h.html#a1a924a1d956ce15f63c6cc86202b62e4a4c7f8cb4a4aefd7ac6a89fa1b747233d">FusedActivationFunctionType::kRelu6</a></div><div class="ttdeci">@ kRelu6</div></div>
<div class="ttc" id="a_fused_8h_html_a1a924a1d956ce15f63c6cc86202b62e4ae0a0000573fa134f9ee575b47d839ee4"><div class="ttname"><a href="_fused_8h.html#a1a924a1d956ce15f63c6cc86202b62e4ae0a0000573fa134f9ee575b47d839ee4">FusedActivationFunctionType::kRelu1</a></div><div class="ttdeci">@ kRelu1</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a53e614d61e4a56cdc05773ce61d9179b" name="a53e614d61e4a56cdc05773ce61d9179b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53e614d61e4a56cdc05773ce61d9179b">&#9670;&#160;</a></span>Order</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="namespacennfw_1_1ruy.html#a53e614d61e4a56cdc05773ce61d9179b">nnfw::ruy::Order</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a53e614d61e4a56cdc05773ce61d9179baf093768651925b22c4d08e33641f38f1" name="a53e614d61e4a56cdc05773ce61d9179baf093768651925b22c4d08e33641f38f1"></a>kColMajor&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a53e614d61e4a56cdc05773ce61d9179ba1ebc644af759b214a70279505401a0b9" name="a53e614d61e4a56cdc05773ce61d9179ba1ebc644af759b214a70279505401a0b9"></a>kRowMajor&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00104">104</a> of file <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html">Types.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  105</span>{</div>
<div class="line"><span class="lineno">  106</span>  kColMajor,</div>
<div class="line"><span class="lineno">  107</span>  kRowMajor</div>
<div class="line"><span class="lineno">  108</span>};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a61f6822bae7b9115886e65067857cac4" name="a61f6822bae7b9115886e65067857cac4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61f6822bae7b9115886e65067857cac4">&#9670;&#160;</a></span>PaddingType</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="namespacennfw_1_1ruy.html#a61f6822bae7b9115886e65067857cac4">nnfw::ruy::PaddingType</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a61f6822bae7b9115886e65067857cac4a35c3ace1970663a16e5c65baa5941b13" name="a61f6822bae7b9115886e65067857cac4a35c3ace1970663a16e5c65baa5941b13"></a>kNone&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a61f6822bae7b9115886e65067857cac4ad523906435f67e94367d4fab5b9380da" name="a61f6822bae7b9115886e65067857cac4ad523906435f67e94367d4fab5b9380da"></a>kSame&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a61f6822bae7b9115886e65067857cac4a4d3576c37e6f03700bad4345238fffa0" name="a61f6822bae7b9115886e65067857cac4a4d3576c37e6f03700bad4345238fffa0"></a>kValid&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00043">43</a> of file <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html">Types.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   44</span>{</div>
<div class="line"><span class="lineno">   45</span>  <a class="code hl_enumvalue" href="_fused_8h.html#a1a924a1d956ce15f63c6cc86202b62e4a35c3ace1970663a16e5c65baa5941b13">kNone</a> = 0,</div>
<div class="line"><span class="lineno">   46</span>  kSame = 1,</div>
<div class="line"><span class="lineno">   47</span>  kValid = 2,</div>
<div class="line"><span class="lineno">   48</span>};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a719af35c91a72f276105e09b0a40395d" name="a719af35c91a72f276105e09b0a40395d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a719af35c91a72f276105e09b0a40395d">&#9670;&#160;</a></span>QuantizationFlavor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="namespacennfw_1_1ruy.html#a719af35c91a72f276105e09b0a40395d">nnfw::ruy::QuantizationFlavor</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a719af35c91a72f276105e09b0a40395da6b5725464f6e8ab0a2cdf49a29a0f4a9" name="a719af35c91a72f276105e09b0a40395da6b5725464f6e8ab0a2cdf49a29a0f4a9"></a>kFloatingPoint&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a719af35c91a72f276105e09b0a40395dac11557b4d4fc196c43b4fa7eab201144" name="a719af35c91a72f276105e09b0a40395dac11557b4d4fc196c43b4fa7eab201144"></a>kIntegerWithUniformMultiplier&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a719af35c91a72f276105e09b0a40395da227d5cf4d9445848d0940bb4dd05ee37" name="a719af35c91a72f276105e09b0a40395da227d5cf4d9445848d0940bb4dd05ee37"></a>kIntegerWithPerRowMultiplier&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00159">159</a> of file <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html">Types.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  160</span>{</div>
<div class="line"><span class="lineno">  161</span>  <span class="comment">// Floating-point Gemm: the accumulators are not multiplied by any</span></div>
<div class="line"><span class="lineno">  162</span>  <span class="comment">// &#39;multiplier&#39;.</span></div>
<div class="line"><span class="lineno">  163</span>  kFloatingPoint,</div>
<div class="line"><span class="lineno">  164</span>  <span class="comment">// Quantized Gemm using a single multiplier for all accumulators.</span></div>
<div class="line"><span class="lineno">  165</span>  kIntegerWithUniformMultiplier,</div>
<div class="line"><span class="lineno">  166</span>  <span class="comment">// Quantized Gemm using a separate multipliers for accumulators of each</span></div>
<div class="line"><span class="lineno">  167</span>  <span class="comment">// row of the destination matrix. This is what is called &#39;per-channel&#39;</span></div>
<div class="line"><span class="lineno">  168</span>  <span class="comment">// in GemmParams. Here we use the more specific &#39;per-row&#39; terminology</span></div>
<div class="line"><span class="lineno">  169</span>  <span class="comment">// to allow for the possibility of &#39;per-column&#39; in the future, and to</span></div>
<div class="line"><span class="lineno">  170</span>  <span class="comment">// allow for that to be a separate code path in some back-end such as</span></div>
<div class="line"><span class="lineno">  171</span>  <span class="comment">// gemmlowp.</span></div>
<div class="line"><span class="lineno">  172</span>  kIntegerWithPerRowMultiplier</div>
<div class="line"><span class="lineno">  173</span>};</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a781fc9653158e5eb284b64426ec1f2aa" name="a781fc9653158e5eb284b64426ec1f2aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a781fc9653158e5eb284b64426ec1f2aa">&#9670;&#160;</a></span>checkMatching()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Ts&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool nnfw::ruy::checkMatching </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Ts...&#160;</td>
          <td class="paramname"><em>check_shapes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00273">273</a> of file <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html">Shape.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  274</span>{</div>
<div class="line"><span class="lineno">  275</span>  <span class="keyword">const</span> <a class="code hl_class" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> check_shapes_array[<span class="keyword">sizeof</span>...(Ts)] = {std::forward&lt;Ts&gt;(check_shapes)...};</div>
<div class="line"><span class="lineno">  276</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;check_shape : check_shapes_array)</div>
<div class="line"><span class="lineno">  277</span>  {</div>
<div class="line"><span class="lineno">  278</span>    <span class="comment">// Check matching of shapes except the case of that two shapes can be scalar</span></div>
<div class="line"><span class="lineno">  279</span>    <span class="keywordflow">if</span> (shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a8e89f0cf6e54db02feec9e0b9f1aaf53">DimensionsCount</a>() &gt; 1 || check_shape.DimensionsCount() &gt; 1 || shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a0adf7074ff445fe6604bc94663fb8de1">FlatSize</a>() != 1 ||</div>
<div class="line"><span class="lineno">  280</span>        check_shape.FlatSize() != 1)</div>
<div class="line"><span class="lineno">  281</span>    {</div>
<div class="line"><span class="lineno">  282</span>      <span class="keywordflow">if</span> (shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a8e89f0cf6e54db02feec9e0b9f1aaf53">DimensionsCount</a>() != check_shape.DimensionsCount())</div>
<div class="line"><span class="lineno">  283</span>      {</div>
<div class="line"><span class="lineno">  284</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  285</span>      }</div>
<div class="line"><span class="lineno">  286</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a8e89f0cf6e54db02feec9e0b9f1aaf53">DimensionsCount</a>(); ++i)</div>
<div class="line"><span class="lineno">  287</span>      {</div>
<div class="line"><span class="lineno">  288</span>        <span class="keywordflow">if</span> (shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a9b1f58d358a03860559970e1899ac7d2">Dims</a>(i) != check_shape.Dims(i))</div>
<div class="line"><span class="lineno">  289</span>        {</div>
<div class="line"><span class="lineno">  290</span>          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  291</span>        }</div>
<div class="line"><span class="lineno">  292</span>      }</div>
<div class="line"><span class="lineno">  293</span>    }</div>
<div class="line"><span class="lineno">  294</span>  }</div>
<div class="line"><span class="lineno">  295</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  296</span>}</div>
<div class="ttc" id="aclassnnfw_1_1ruy_1_1_shape_html"><div class="ttname"><a href="classnnfw_1_1ruy_1_1_shape.html">nnfw::ruy::Shape</a></div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00033">Shape.h:34</a></div></div>
<div class="ttc" id="aclassnnfw_1_1ruy_1_1_shape_html_a0adf7074ff445fe6604bc94663fb8de1"><div class="ttname"><a href="classnnfw_1_1ruy_1_1_shape.html#a0adf7074ff445fe6604bc94663fb8de1">nnfw::ruy::Shape::FlatSize</a></div><div class="ttdeci">int FlatSize() const</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00183">Shape.h:183</a></div></div>
<div class="ttc" id="aclassnnfw_1_1ruy_1_1_shape_html_a8e89f0cf6e54db02feec9e0b9f1aaf53"><div class="ttname"><a href="classnnfw_1_1ruy_1_1_shape.html#a8e89f0cf6e54db02feec9e0b9f1aaf53">nnfw::ruy::Shape::DimensionsCount</a></div><div class="ttdeci">int32_t DimensionsCount() const</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00093">Shape.h:93</a></div></div>
<div class="ttc" id="aclassnnfw_1_1ruy_1_1_shape_html_a9b1f58d358a03860559970e1899ac7d2"><div class="ttname"><a href="classnnfw_1_1ruy_1_1_shape.html#a9b1f58d358a03860559970e1899ac7d2">nnfw::ruy::Shape::Dims</a></div><div class="ttdeci">int32_t Dims(int i) const</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00094">Shape.h:94</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00093">nnfw::ruy::Shape::DimensionsCount()</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00094">nnfw::ruy::Shape::Dims()</a>, and <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00183">nnfw::ruy::Shape::FlatSize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00302">MatchingFlatSize()</a>.</p>

</div>
</div>
<a id="a88bfa77bd1460059a8934b213d1cdb55" name="a88bfa77bd1460059a8934b213d1cdb55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88bfa77bd1460059a8934b213d1cdb55">&#9670;&#160;</a></span>DefaultCachePolicy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacennfw_1_1ruy.html#aa1b02e2e4161dc332b8f81e16d93532d">CachePolicy</a> nnfw::ruy::DefaultCachePolicy </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_constant_data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00267">267</a> of file <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html">Types.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  268</span>{</div>
<div class="line"><span class="lineno">  269</span>  <span class="keywordflow">return</span> is_constant_data ? CachePolicy::kCacheIfLargeSpeedup : CachePolicy::kNeverCache;</div>
<div class="line"><span class="lineno">  270</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacennfw_1_1ruy.html#aa1b02e2e4161dc332b8f81e16d93532dab8c7e8866dc5309079f1ee98258639e9">kCacheIfLargeSpeedup</a>, and <a class="el" href="namespacennfw_1_1ruy.html#aa1b02e2e4161dc332b8f81e16d93532da034316273cd939ada300353e91737a83">kNeverCache</a>.</p>

<p class="reference">Referenced by <a class="el" href="compute_2ruy_2include_2ruy_2operation_2_fully_connected_8h_source.html#l00034">FullyConnected()</a>.</p>

</div>
</div>
<a id="ae54c14664e4b63f091d185b726d73c70" name="ae54c14664e4b63f091d185b726d73c70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae54c14664e4b63f091d185b726d73c70">&#9670;&#160;</a></span>DilatedIm2col() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void nnfw::ruy::DilatedIm2col </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnnfw_1_1ruy_1_1_conv_params.html">ConvParams</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>input_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>input_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>filter_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>im2col_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t *&#160;</td>
          <td class="paramname"><em>zero_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>zero_bytes_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compute_2ruy_2include_2ruy_2_utils_8h_source.html#l00118">118</a> of file <a class="el" href="compute_2ruy_2include_2ruy_2_utils_8h_source.html">Utils.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  121</span>{</div>
<div class="line"><span class="lineno">  122</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> stride_width = params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_conv_params.html#ab0212b7e051d5a680c25669ddf2ce572">stride_width</a>;</div>
<div class="line"><span class="lineno">  123</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> stride_height = params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_conv_params.html#aef97d78bc786af07e9fd95a8468e9be2">stride_height</a>;</div>
<div class="line"><span class="lineno">  124</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> dilation_width_factor = params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_conv_params.html#ab1e417804a63bec3da2ea117ca442898">dilation_width_factor</a>;</div>
<div class="line"><span class="lineno">  125</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> dilation_height_factor = params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_conv_params.html#a9d4615d084b1170d470edf20df7a2f73">dilation_height_factor</a>;</div>
<div class="line"><span class="lineno">  126</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> pad_width = params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_conv_params.html#a1e6ea8c3dbf27068d5d6ea2d42583e61">padding_values</a>.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_padding_values.html#ac4b3817526f08ce587b1880fe42c3937">width</a>;</div>
<div class="line"><span class="lineno">  127</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> pad_height = params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_conv_params.html#a1e6ea8c3dbf27068d5d6ea2d42583e61">padding_values</a>.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_padding_values.html#a85fb24d87c88e4a2efa173307eb1e798">height</a>;</div>
<div class="line"><span class="lineno">  128</span>  assert(input_shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a8e89f0cf6e54db02feec9e0b9f1aaf53">DimensionsCount</a>() == 4);</div>
<div class="line"><span class="lineno">  129</span>  assert(filter_shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a8e89f0cf6e54db02feec9e0b9f1aaf53">DimensionsCount</a>() == 4);</div>
<div class="line"><span class="lineno">  130</span>  assert(output_shape.DimensionsCount() == 4);</div>
<div class="line"><span class="lineno">  131</span> </div>
<div class="line"><span class="lineno">  132</span>  <span class="comment">// For dilated convolution, the input pixels are not contiguous therefore we</span></div>
<div class="line"><span class="lineno">  133</span>  <span class="comment">// can&#39;t use the same optimizations as Im2Col(). Though note this code would</span></div>
<div class="line"><span class="lineno">  134</span>  <span class="comment">// work fine for the non-dilated case too (though likely a bit slower).</span></div>
<div class="line"><span class="lineno">  135</span>  assert(dilation_width_factor != 1 || dilation_height_factor != 1);</div>
<div class="line"><span class="lineno">  136</span>  assert(im2col_data);</div>
<div class="line"><span class="lineno">  137</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> batches = MatchingDim(input_shape, 0, output_shape, 0);</div>
<div class="line"><span class="lineno">  138</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> input_height = input_shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a9b1f58d358a03860559970e1899ac7d2">Dims</a>(1);</div>
<div class="line"><span class="lineno">  139</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> input_width = input_shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a9b1f58d358a03860559970e1899ac7d2">Dims</a>(2);</div>
<div class="line"><span class="lineno">  140</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> input_depth = MatchingDim(input_shape, 3, filter_shape, 3);</div>
<div class="line"><span class="lineno">  141</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> filter_height = filter_shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a9b1f58d358a03860559970e1899ac7d2">Dims</a>(1);</div>
<div class="line"><span class="lineno">  142</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> filter_width = filter_shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a9b1f58d358a03860559970e1899ac7d2">Dims</a>(2);</div>
<div class="line"><span class="lineno">  143</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> output_height = output_shape.Dims(1);</div>
<div class="line"><span class="lineno">  144</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> output_width = output_shape.Dims(2);</div>
<div class="line"><span class="lineno">  145</span>  MatchingDim(output_shape, 3, filter_shape, 0);</div>
<div class="line"><span class="lineno">  146</span> </div>
<div class="line"><span class="lineno">  147</span>  <span class="comment">// Construct the MxN sized im2col matrix.</span></div>
<div class="line"><span class="lineno">  148</span>  <span class="comment">// The rows M, are sub-ordered B x H x W</span></div>
<div class="line"><span class="lineno">  149</span>  <span class="keyword">const</span> <a class="code hl_class" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> row_shape({1, batches, output_height, output_width});</div>
<div class="line"><span class="lineno">  150</span>  <span class="comment">// The columns, N, are sub-ordered Kh x Kw x Din</span></div>
<div class="line"><span class="lineno">  151</span>  <span class="keyword">const</span> <a class="code hl_struct" href="struct_shape.html">Shape</a> col_shape({1, filter_height, filter_width, input_depth});</div>
<div class="line"><span class="lineno">  152</span>  <span class="comment">// Use dimensions M and N to construct dims for indexing directly into im2col</span></div>
<div class="line"><span class="lineno">  153</span>  <span class="keyword">const</span> <a class="code hl_struct" href="struct_shape.html">Shape</a> im2col_shape({1, 1, row_shape.FlatSize(), col_shape.FlatSize()});</div>
<div class="line"><span class="lineno">  154</span> </div>
<div class="line"><span class="lineno">  155</span>  <span class="comment">// Loop through the output rows (B x H x W)</span></div>
<div class="line"><span class="lineno">  156</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> batch = 0; batch &lt; batches; ++batch)</div>
<div class="line"><span class="lineno">  157</span>  {</div>
<div class="line"><span class="lineno">  158</span>    <span class="keyword">const</span> T zero_byte =</div>
<div class="line"><span class="lineno">  159</span>      zero_bytes_len &gt; 1 ? <span class="keyword">static_cast&lt;</span>T<span class="keyword">&gt;</span>(zero_bytes[batch]) : <span class="keyword">static_cast&lt;</span>T<span class="keyword">&gt;</span>(zero_bytes[0]);</div>
<div class="line"><span class="lineno">  160</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> out_y = 0; out_y &lt; output_height; ++out_y)</div>
<div class="line"><span class="lineno">  161</span>    {</div>
<div class="line"><span class="lineno">  162</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> out_x = 0; out_x &lt; output_width; ++out_x)</div>
<div class="line"><span class="lineno">  163</span>      {</div>
<div class="line"><span class="lineno">  164</span>        <span class="comment">// Each im2col row is an output pixel. Arrange the input data in this</span></div>
<div class="line"><span class="lineno">  165</span>        <span class="comment">// row in an order we can conveniently multiply with the filter data.</span></div>
<div class="line"><span class="lineno">  166</span>        <span class="keywordtype">int</span> row_offset = <a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a1c037ff89c0da8b5cd52088b914b9c1d">Offset</a>(row_shape, 0, batch, out_y, out_x);</div>
<div class="line"><span class="lineno">  167</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> in_x_origin = (out_x * stride_width) - pad_width;</div>
<div class="line"><span class="lineno">  168</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> in_y_origin = (out_y * stride_height) - pad_height;</div>
<div class="line"><span class="lineno">  169</span>        <span class="comment">// Loop through all the pixels of the filter (Kh x Kw)</span></div>
<div class="line"><span class="lineno">  170</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> filter_y = 0; filter_y &lt; filter_height; ++filter_y)</div>
<div class="line"><span class="lineno">  171</span>        {</div>
<div class="line"><span class="lineno">  172</span>          <span class="keyword">const</span> <span class="keywordtype">int</span> in_y = in_y_origin + dilation_height_factor * filter_y;</div>
<div class="line"><span class="lineno">  173</span>          <span class="keywordflow">if</span> ((in_y &gt;= 0) &amp;&amp; (in_y &lt; input_height))</div>
<div class="line"><span class="lineno">  174</span>          {</div>
<div class="line"><span class="lineno">  175</span>            <span class="comment">// Filter row is within the input data.</span></div>
<div class="line"><span class="lineno">  176</span>            <span class="comment">// Loop through all the filter pixels in this row.</span></div>
<div class="line"><span class="lineno">  177</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> filter_x = 0; filter_x &lt; filter_width; ++filter_x)</div>
<div class="line"><span class="lineno">  178</span>            {</div>
<div class="line"><span class="lineno">  179</span>              <span class="keyword">const</span> <span class="keywordtype">int</span> in_x = in_x_origin + dilation_width_factor * filter_x;</div>
<div class="line"><span class="lineno">  180</span>              <span class="keywordtype">int</span> col_offset = <a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a1c037ff89c0da8b5cd52088b914b9c1d">Offset</a>(col_shape, 0, filter_y, filter_x, 0);</div>
<div class="line"><span class="lineno">  181</span>              T *dst = im2col_data + <a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a1c037ff89c0da8b5cd52088b914b9c1d">Offset</a>(im2col_shape, 0, 0, row_offset, col_offset);</div>
<div class="line"><span class="lineno">  182</span>              <span class="keywordflow">if</span> ((in_x &gt;= 0) &amp;&amp; (in_x &lt; input_width))</div>
<div class="line"><span class="lineno">  183</span>              {</div>
<div class="line"><span class="lineno">  184</span>                <span class="comment">// Filter pixel is within the input, copy the input data.</span></div>
<div class="line"><span class="lineno">  185</span>                T <span class="keyword">const</span> *src = <a class="code hl_variable" href="namespacepart__eval__one.html#a818987310f1a181c06a880dab57fcf39">input_data</a> + <a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a1c037ff89c0da8b5cd52088b914b9c1d">Offset</a>(input_shape, batch, in_y, in_x, 0);</div>
<div class="line"><span class="lineno">  186</span>                memcpy(dst, src, input_depth * <span class="keyword">sizeof</span>(T));</div>
<div class="line"><span class="lineno">  187</span>              }</div>
<div class="line"><span class="lineno">  188</span>              <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  189</span>              {</div>
<div class="line"><span class="lineno">  190</span>                <span class="comment">// Filter pixel is outside the input, zero it out.</span></div>
<div class="line"><span class="lineno">  191</span>                memset(dst, zero_byte, input_depth * <span class="keyword">sizeof</span>(T));</div>
<div class="line"><span class="lineno">  192</span>              }</div>
<div class="line"><span class="lineno">  193</span>            }</div>
<div class="line"><span class="lineno">  194</span>          }</div>
<div class="line"><span class="lineno">  195</span>          <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  196</span>          {</div>
<div class="line"><span class="lineno">  197</span>            <span class="comment">// Filter row is outside the input, zero out the entire filter row.</span></div>
<div class="line"><span class="lineno">  198</span>            <span class="keywordtype">int</span> col_offset = <a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a1c037ff89c0da8b5cd52088b914b9c1d">Offset</a>(col_shape, 0, filter_y, 0, 0);</div>
<div class="line"><span class="lineno">  199</span>            T *dst = im2col_data + <a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a1c037ff89c0da8b5cd52088b914b9c1d">Offset</a>(im2col_shape, 0, 0, row_offset, col_offset);</div>
<div class="line"><span class="lineno">  200</span>            memset(dst, zero_byte, filter_width * input_depth * <span class="keyword">sizeof</span>(T));</div>
<div class="line"><span class="lineno">  201</span>          }</div>
<div class="line"><span class="lineno">  202</span>        }</div>
<div class="line"><span class="lineno">  203</span>      }</div>
<div class="line"><span class="lineno">  204</span>    }</div>
<div class="line"><span class="lineno">  205</span>  }</div>
<div class="line"><span class="lineno">  206</span>}</div>
<div class="ttc" id="aann-ref_2src_2ops_2internal_2dims_8h_html_a1c037ff89c0da8b5cd52088b914b9c1d"><div class="ttname"><a href="ann-ref_2src_2ops_2internal_2dims_8h.html#a1c037ff89c0da8b5cd52088b914b9c1d">Offset</a></div><div class="ttdeci">int Offset(const Dims&lt; 4 &gt; &amp;dims, int i0, int i1, int i2, int i3)</div><div class="ttdef"><b>Definition:</b> <a href="ann-ref_2src_2ops_2internal_2dims_8h_source.html#l00064">Dims.h:64</a></div></div>
<div class="ttc" id="anamespacepart__eval__one_html_a818987310f1a181c06a880dab57fcf39"><div class="ttname"><a href="namespacepart__eval__one.html#a818987310f1a181c06a880dab57fcf39">part_eval_one.input_data</a></div><div class="ttdeci">input_data</div><div class="ttdef"><b>Definition:</b> <a href="part__eval__one_8py_source.html#l00075">part_eval_one.py:75</a></div></div>
<div class="ttc" id="astruct_shape_html"><div class="ttname"><a href="struct_shape.html">Shape</a></div><div class="ttdef"><b>Definition:</b> <a href="compiler_2ann-ref_2src_2_shape_8h_source.html#l00027">Shape.h:28</a></div></div>
<div class="ttc" id="astructnnfw_1_1ruy_1_1_conv_params_html_a1e6ea8c3dbf27068d5d6ea2d42583e61"><div class="ttname"><a href="structnnfw_1_1ruy_1_1_conv_params.html#a1e6ea8c3dbf27068d5d6ea2d42583e61">nnfw::ruy::ConvParams::padding_values</a></div><div class="ttdeci">PaddingValues padding_values</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00059">Types.h:59</a></div></div>
<div class="ttc" id="astructnnfw_1_1ruy_1_1_conv_params_html_a9d4615d084b1170d470edf20df7a2f73"><div class="ttname"><a href="structnnfw_1_1ruy_1_1_conv_params.html#a9d4615d084b1170d470edf20df7a2f73">nnfw::ruy::ConvParams::dilation_height_factor</a></div><div class="ttdeci">int16_t dilation_height_factor</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00064">Types.h:64</a></div></div>
<div class="ttc" id="astructnnfw_1_1ruy_1_1_conv_params_html_ab0212b7e051d5a680c25669ddf2ce572"><div class="ttname"><a href="structnnfw_1_1ruy_1_1_conv_params.html#ab0212b7e051d5a680c25669ddf2ce572">nnfw::ruy::ConvParams::stride_width</a></div><div class="ttdeci">int16_t stride_width</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00061">Types.h:61</a></div></div>
<div class="ttc" id="astructnnfw_1_1ruy_1_1_conv_params_html_ab1e417804a63bec3da2ea117ca442898"><div class="ttname"><a href="structnnfw_1_1ruy_1_1_conv_params.html#ab1e417804a63bec3da2ea117ca442898">nnfw::ruy::ConvParams::dilation_width_factor</a></div><div class="ttdeci">int16_t dilation_width_factor</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00063">Types.h:63</a></div></div>
<div class="ttc" id="astructnnfw_1_1ruy_1_1_conv_params_html_aef97d78bc786af07e9fd95a8468e9be2"><div class="ttname"><a href="structnnfw_1_1ruy_1_1_conv_params.html#aef97d78bc786af07e9fd95a8468e9be2">nnfw::ruy::ConvParams::stride_height</a></div><div class="ttdeci">int16_t stride_height</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00062">Types.h:62</a></div></div>
<div class="ttc" id="astructnnfw_1_1ruy_1_1_padding_values_html_a85fb24d87c88e4a2efa173307eb1e798"><div class="ttname"><a href="structnnfw_1_1ruy_1_1_padding_values.html#a85fb24d87c88e4a2efa173307eb1e798">nnfw::ruy::PaddingValues::height</a></div><div class="ttdeci">int16_t height</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00053">Types.h:53</a></div></div>
<div class="ttc" id="astructnnfw_1_1ruy_1_1_padding_values_html_ac4b3817526f08ce587b1880fe42c3937"><div class="ttname"><a href="structnnfw_1_1ruy_1_1_padding_values.html#ac4b3817526f08ce587b1880fe42c3937">nnfw::ruy::PaddingValues::width</a></div><div class="ttdeci">int16_t width</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00052">Types.h:52</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00064">nnfw::ruy::ConvParams::dilation_height_factor</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00063">nnfw::ruy::ConvParams::dilation_width_factor</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00093">nnfw::ruy::Shape::DimensionsCount()</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00094">nnfw::ruy::Shape::Dims()</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00053">nnfw::ruy::PaddingValues::height</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00223">MatchingDim()</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00242">Offset()</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00059">nnfw::ruy::ConvParams::padding_values</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00062">nnfw::ruy::ConvParams::stride_height</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00061">nnfw::ruy::ConvParams::stride_width</a>, and <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00052">nnfw::ruy::PaddingValues::width</a>.</p>

</div>
</div>
<a id="adc70f9bc307cbeb12a75d4618d7573f3" name="adc70f9bc307cbeb12a75d4618d7573f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc70f9bc307cbeb12a75d4618d7573f3">&#9670;&#160;</a></span>DilatedIm2col() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void nnfw::ruy::DilatedIm2col </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnnfw_1_1ruy_1_1_conv_params.html">ConvParams</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>zero_byte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>input_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>input_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>filter_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>im2col_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compute_2ruy_2include_2ruy_2_utils_8h_source.html#l00209">209</a> of file <a class="el" href="compute_2ruy_2include_2ruy_2_utils_8h_source.html">Utils.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  212</span>{</div>
<div class="line"><span class="lineno">  213</span>  <span class="keyword">const</span> int32_t zero_point = <span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(zero_byte);</div>
<div class="line"><span class="lineno">  214</span>  DilatedIm2col&lt;T&gt;(params, input_shape, input_data, filter_shape, output_shape, im2col_data,</div>
<div class="line"><span class="lineno">  215</span>                   &amp;zero_point, 1);</div>
<div class="line"><span class="lineno">  216</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7366944930b68de35cc4b1dcb1c31556" name="a7366944930b68de35cc4b1dcb1c31556"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7366944930b68de35cc4b1dcb1c31556">&#9670;&#160;</a></span>ExtractPatchIntoBufferColumn()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nnfw::ruy::ExtractPatchIntoBufferColumn </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>input_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>kheight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>kwidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stride_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stride_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pad_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pad_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>in_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>in_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>in_depth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>single_buffer_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>buffer_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>in_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>conv_buffer_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>zero_byte</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compute_2ruy_2include_2ruy_2_utils_8h_source.html#l00031">31</a> of file <a class="el" href="compute_2ruy_2include_2ruy_2_utils_8h_source.html">Utils.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   36</span>{</div>
<div class="line"><span class="lineno">   37</span>  assert(input_shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a8e89f0cf6e54db02feec9e0b9f1aaf53">DimensionsCount</a>() == 4);</div>
<div class="line"><span class="lineno">   38</span>  <span class="comment">// This chunk of code reshapes all the inputs corresponding to</span></div>
<div class="line"><span class="lineno">   39</span>  <span class="comment">// output (b, h, w) to a column vector in conv_buffer(:, buffer_id).</span></div>
<div class="line"><span class="lineno">   40</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> kwidth_times_indepth = kwidth * in_depth;</div>
<div class="line"><span class="lineno">   41</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> inwidth_times_indepth = in_width * in_depth;</div>
<div class="line"><span class="lineno">   42</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> ih_ungated_start = h * stride_height - pad_height;</div>
<div class="line"><span class="lineno">   43</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> ih_ungated_end = (ih_ungated_start + kheight);</div>
<div class="line"><span class="lineno">   44</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> ih_end = std::min(ih_ungated_end, in_height);</div>
<div class="line"><span class="lineno">   45</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> iw_ungated_start = w * stride_width - pad_width;</div>
<div class="line"><span class="lineno">   46</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> iw_ungated_end = (iw_ungated_start + kwidth);</div>
<div class="line"><span class="lineno">   47</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> iw_end = std::min(iw_ungated_end, in_width);</div>
<div class="line"><span class="lineno">   48</span>  <span class="comment">// If the patch is off the edge of the input image, skip writing those rows</span></div>
<div class="line"><span class="lineno">   49</span>  <span class="comment">// and columns from the patch into the output array.</span></div>
<div class="line"><span class="lineno">   50</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> h_offset = std::max(0, -ih_ungated_start);</div>
<div class="line"><span class="lineno">   51</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> w_offset = std::max(0, -iw_ungated_start);</div>
<div class="line"><span class="lineno">   52</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> ih_start = std::max(0, ih_ungated_start);</div>
<div class="line"><span class="lineno">   53</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> iw_start = std::max(0, iw_ungated_start);</div>
<div class="line"><span class="lineno">   54</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> single_row_num = std::min(kwidth - w_offset, in_width - iw_start) * in_depth;</div>
<div class="line"><span class="lineno">   55</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> output_row_offset = (buffer_id * single_buffer_length);</div>
<div class="line"><span class="lineno">   56</span>  <span class="keywordtype">int</span> out_offset = output_row_offset + (h_offset * kwidth + w_offset) * in_depth;</div>
<div class="line"><span class="lineno">   57</span>  <span class="keywordtype">int</span> in_offset = <a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a1c037ff89c0da8b5cd52088b914b9c1d">Offset</a>(input_shape, b, ih_start, iw_start, 0);</div>
<div class="line"><span class="lineno">   58</span> </div>
<div class="line"><span class="lineno">   59</span>  <span class="comment">// Express all of the calculations as padding around the input patch.</span></div>
<div class="line"><span class="lineno">   60</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> top_padding = h_offset;</div>
<div class="line"><span class="lineno">   61</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> bottom_padding = (ih_ungated_end - ih_end);</div>
<div class="line"><span class="lineno">   62</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> left_padding = w_offset;</div>
<div class="line"><span class="lineno">   63</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> right_padding = (iw_ungated_end - iw_end);</div>
<div class="line"><span class="lineno">   64</span>  assert(single_row_num == ((kwidth - (left_padding + right_padding)) * in_depth));</div>
<div class="line"><span class="lineno">   65</span> </div>
<div class="line"><span class="lineno">   66</span>  <span class="comment">// Write out zeroes to the elements representing the top rows of the input</span></div>
<div class="line"><span class="lineno">   67</span>  <span class="comment">// patch that are off the edge of the input image.</span></div>
<div class="line"><span class="lineno">   68</span>  <span class="keywordflow">if</span> (top_padding &gt; 0)</div>
<div class="line"><span class="lineno">   69</span>  {</div>
<div class="line"><span class="lineno">   70</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> top_row_elements = (top_padding * kwidth * in_depth);</div>
<div class="line"><span class="lineno">   71</span>    memset(conv_buffer_data + output_row_offset, zero_byte, (top_row_elements * <span class="keyword">sizeof</span>(T)));</div>
<div class="line"><span class="lineno">   72</span>  }</div>
<div class="line"><span class="lineno">   73</span> </div>
<div class="line"><span class="lineno">   74</span>  <span class="comment">// If the patch is on the interior of the input image horizontally, just copy</span></div>
<div class="line"><span class="lineno">   75</span>  <span class="comment">// over the rows sequentially, otherwise add zero padding at the start or end.</span></div>
<div class="line"><span class="lineno">   76</span>  <span class="keywordflow">if</span> ((left_padding == 0) &amp;&amp; (right_padding == 0))</div>
<div class="line"><span class="lineno">   77</span>  {</div>
<div class="line"><span class="lineno">   78</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ih = ih_start; ih &lt; ih_end; ++ih)</div>
<div class="line"><span class="lineno">   79</span>    {</div>
<div class="line"><span class="lineno">   80</span>      memcpy(conv_buffer_data + out_offset, in_data + in_offset, single_row_num * <span class="keyword">sizeof</span>(T));</div>
<div class="line"><span class="lineno">   81</span>      out_offset += kwidth_times_indepth;</div>
<div class="line"><span class="lineno">   82</span>      in_offset += inwidth_times_indepth;</div>
<div class="line"><span class="lineno">   83</span>    }</div>
<div class="line"><span class="lineno">   84</span>  }</div>
<div class="line"><span class="lineno">   85</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   86</span>  {</div>
<div class="line"><span class="lineno">   87</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ih = ih_start; ih &lt; ih_end; ++ih)</div>
<div class="line"><span class="lineno">   88</span>    {</div>
<div class="line"><span class="lineno">   89</span>      <span class="keywordflow">if</span> (left_padding &gt; 0)</div>
<div class="line"><span class="lineno">   90</span>      {</div>
<div class="line"><span class="lineno">   91</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> left_start = (out_offset - (left_padding * in_depth));</div>
<div class="line"><span class="lineno">   92</span>        memset(conv_buffer_data + left_start, zero_byte, (left_padding * in_depth * <span class="keyword">sizeof</span>(T)));</div>
<div class="line"><span class="lineno">   93</span>      }</div>
<div class="line"><span class="lineno">   94</span>      memcpy(conv_buffer_data + out_offset, in_data + in_offset, single_row_num * <span class="keyword">sizeof</span>(T));</div>
<div class="line"><span class="lineno">   95</span>      <span class="keywordflow">if</span> (right_padding &gt; 0)</div>
<div class="line"><span class="lineno">   96</span>      {</div>
<div class="line"><span class="lineno">   97</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> right_start = (out_offset + single_row_num);</div>
<div class="line"><span class="lineno">   98</span>        memset(conv_buffer_data + right_start, zero_byte, (right_padding * in_depth * <span class="keyword">sizeof</span>(T)));</div>
<div class="line"><span class="lineno">   99</span>      }</div>
<div class="line"><span class="lineno">  100</span>      out_offset += kwidth_times_indepth;</div>
<div class="line"><span class="lineno">  101</span>      in_offset += inwidth_times_indepth;</div>
<div class="line"><span class="lineno">  102</span>    }</div>
<div class="line"><span class="lineno">  103</span>  }</div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span>  <span class="comment">// If the bottom of the patch falls off the input image, pad the values</span></div>
<div class="line"><span class="lineno">  106</span>  <span class="comment">// representing those input rows with zeroes.</span></div>
<div class="line"><span class="lineno">  107</span>  <span class="keywordflow">if</span> (bottom_padding &gt; 0)</div>
<div class="line"><span class="lineno">  108</span>  {</div>
<div class="line"><span class="lineno">  109</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> bottom_row_elements = (bottom_padding * kwidth * in_depth);</div>
<div class="line"><span class="lineno">  110</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> bottom_start =</div>
<div class="line"><span class="lineno">  111</span>      output_row_offset + ((top_padding + (ih_end - ih_start)) * kwidth * in_depth);</div>
<div class="line"><span class="lineno">  112</span>    memset(conv_buffer_data + bottom_start, zero_byte, (bottom_row_elements * <span class="keyword">sizeof</span>(T)));</div>
<div class="line"><span class="lineno">  113</span>  }</div>
<div class="line"><span class="lineno">  114</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00093">nnfw::ruy::Shape::DimensionsCount()</a>, and <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00242">Offset()</a>.</p>

<p class="reference">Referenced by <a class="el" href="compute_2ruy_2include_2ruy_2_utils_8h_source.html#l00219">Im2col()</a>.</p>

</div>
</div>
<a id="a729af90aae0893b06632064327843408" name="a729af90aae0893b06632064327843408"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a729af90aae0893b06632064327843408">&#9670;&#160;</a></span>FlatSizeSkipDim()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int nnfw::ruy::FlatSizeSkipDim </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>skip_dim</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00258">258</a> of file <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html">Shape.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  259</span>{</div>
<div class="line"><span class="lineno">  260</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> dims_count = shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a8e89f0cf6e54db02feec9e0b9f1aaf53">DimensionsCount</a>();</div>
<div class="line"><span class="lineno">  261</span>  assert(skip_dim &gt;= 0 &amp;&amp; skip_dim &lt; dims_count);</div>
<div class="line"><span class="lineno">  262</span>  <span class="keyword">const</span> <span class="keyword">auto</span> *dims_data = shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a0104fd9f7c8b46950567fe5ec7b6132b">DimsData</a>();</div>
<div class="line"><span class="lineno">  263</span>  <span class="keywordtype">int</span> flat_size = 1;</div>
<div class="line"><span class="lineno">  264</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; dims_count; ++i)</div>
<div class="line"><span class="lineno">  265</span>  {</div>
<div class="line"><span class="lineno">  266</span>    flat_size *= (i == skip_dim) ? 1 : dims_data[i];</div>
<div class="line"><span class="lineno">  267</span>  }</div>
<div class="line"><span class="lineno">  268</span>  <span class="keywordflow">return</span> flat_size;</div>
<div class="line"><span class="lineno">  269</span>}</div>
<div class="ttc" id="aclassnnfw_1_1ruy_1_1_shape_html_a0104fd9f7c8b46950567fe5ec7b6132b"><div class="ttname"><a href="classnnfw_1_1ruy_1_1_shape.html#a0104fd9f7c8b46950567fe5ec7b6132b">nnfw::ruy::Shape::DimsData</a></div><div class="ttdeci">int32_t * DimsData()</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00114">Shape.h:114</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00093">nnfw::ruy::Shape::DimensionsCount()</a>, and <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00114">nnfw::ruy::Shape::DimsData()</a>.</p>

<p class="reference">Referenced by <a class="el" href="compute_2ruy_2include_2ruy_2operation_2_fully_connected_8h_source.html#l00034">FullyConnected()</a>, and <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00309">MatchingFlatSizeSkipDim()</a>.</p>

</div>
</div>
<a id="a5304d24db57a5eacefb5ed4e888a2d53" name="a5304d24db57a5eacefb5ed4e888a2d53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5304d24db57a5eacefb5ed4e888a2d53">&#9670;&#160;</a></span>FullyConnected()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nnfw::ruy::FullyConnected </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnnfw_1_1ruy_1_1_fully_connected_params.html">FullyConnectedParams</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>input_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>input_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>weights_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>weights_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>optional_bias_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>output_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">::ruy::Context *&#160;</td>
          <td class="paramname"><em>ruy_context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compute_2ruy_2include_2ruy_2operation_2_fully_connected_8h_source.html#l00034">34</a> of file <a class="el" href="compute_2ruy_2include_2ruy_2operation_2_fully_connected_8h_source.html">FullyConnected.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   39</span>{</div>
<div class="line"><span class="lineno">   40</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> dims_count = weights_shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a8e89f0cf6e54db02feec9e0b9f1aaf53">DimensionsCount</a>();</div>
<div class="line"><span class="lineno">   41</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> input_rows = weights_shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a9b1f58d358a03860559970e1899ac7d2">Dims</a>(dims_count - 1);</div>
<div class="line"><span class="lineno">   42</span>  <a class="code hl_struct" href="structnnfw_1_1ruy_1_1_matrix_params.html">MatrixParams&lt;float&gt;</a> rhs_params;</div>
<div class="line"><span class="lineno">   43</span>  rhs_params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_matrix_params.html#ada2c29bf549297f111f9d954d5477802">order</a> = Order::kColMajor;</div>
<div class="line"><span class="lineno">   44</span>  rhs_params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_matrix_params.html#a233691877b96d765e07e487c77bcbec8">rows</a> = input_rows;</div>
<div class="line"><span class="lineno">   45</span>  rhs_params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_matrix_params.html#a588cd47be392bd205b62fbf85bcaa1e9">cols</a> = input_shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a0adf7074ff445fe6604bc94663fb8de1">FlatSize</a>() / input_rows;</div>
<div class="line"><span class="lineno">   46</span>  rhs_params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_matrix_params.html#aa7936ece99b29c1dee95eb22a8696142">cache_policy</a> = <a class="code hl_function" href="namespacennfw_1_1ruy.html#a88bfa77bd1460059a8934b213d1cdb55">DefaultCachePolicy</a>(params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_fully_connected_params.html#a891ee959936f360f30241acf36db9fb5">rhs_cacheable</a>);</div>
<div class="line"><span class="lineno">   47</span>  assert(input_shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a0adf7074ff445fe6604bc94663fb8de1">FlatSize</a>() == (rhs_params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_matrix_params.html#a233691877b96d765e07e487c77bcbec8">rows</a> * rhs_params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_matrix_params.html#a588cd47be392bd205b62fbf85bcaa1e9">cols</a>));</div>
<div class="line"><span class="lineno">   48</span>  <a class="code hl_struct" href="structnnfw_1_1ruy_1_1_matrix_params.html">MatrixParams&lt;float&gt;</a> lhs_params;</div>
<div class="line"><span class="lineno">   49</span>  lhs_params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_matrix_params.html#ada2c29bf549297f111f9d954d5477802">order</a> = Order::kRowMajor;</div>
<div class="line"><span class="lineno">   50</span>  lhs_params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_matrix_params.html#a588cd47be392bd205b62fbf85bcaa1e9">cols</a> = weights_shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a9b1f58d358a03860559970e1899ac7d2">Dims</a>(dims_count - 1);</div>
<div class="line"><span class="lineno">   51</span>  lhs_params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_matrix_params.html#a233691877b96d765e07e487c77bcbec8">rows</a> = FlatSizeSkipDim(weights_shape, dims_count - 1);</div>
<div class="line"><span class="lineno">   52</span>  lhs_params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_matrix_params.html#aa7936ece99b29c1dee95eb22a8696142">cache_policy</a> = <a class="code hl_function" href="namespacennfw_1_1ruy.html#a88bfa77bd1460059a8934b213d1cdb55">DefaultCachePolicy</a>(params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_fully_connected_params.html#a522ab5f0dc763cfa2b7c69b2ba66fbc1">lhs_cacheable</a>);</div>
<div class="line"><span class="lineno">   53</span>  <a class="code hl_struct" href="structnnfw_1_1ruy_1_1_matrix_params.html">MatrixParams&lt;float&gt;</a> dst_params;</div>
<div class="line"><span class="lineno">   54</span>  dst_params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_matrix_params.html#ada2c29bf549297f111f9d954d5477802">order</a> = Order::kColMajor;</div>
<div class="line"><span class="lineno">   55</span>  dst_params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_matrix_params.html#a233691877b96d765e07e487c77bcbec8">rows</a> = output_shape.Dims(output_shape.DimensionsCount() - 1);</div>
<div class="line"><span class="lineno">   56</span>  dst_params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_matrix_params.html#a588cd47be392bd205b62fbf85bcaa1e9">cols</a> = FlatSizeSkipDim(output_shape, output_shape.DimensionsCount() - 1);</div>
<div class="line"><span class="lineno">   57</span>  <a class="code hl_struct" href="structnnfw_1_1ruy_1_1_gemm_params.html">GemmParams&lt;float, float&gt;</a> gemm_params;</div>
<div class="line"><span class="lineno">   58</span>  gemm_params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_gemm_params.html#ad1be985901f918f00112523d7d7144b4">bias</a> = optional_bias_data;</div>
<div class="line"><span class="lineno">   59</span>  gemm_params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_gemm_params.html#a8a5b6cb7e227fc96a597918d0446fda9">clamp_min</a> = params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_fully_connected_params.html#a396bf9080402cea4d86929c5cf0e4cc4">float_activation_min</a>;</div>
<div class="line"><span class="lineno">   60</span>  gemm_params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_gemm_params.html#a4ba39a4d4636a712bfeccd41d74c1a5f">clamp_max</a> = params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_fully_connected_params.html#ac559ef4a48fb62efb299c5b907a27ac1">float_activation_max</a>;</div>
<div class="line"><span class="lineno">   61</span> </div>
<div class="line"><span class="lineno">   62</span>  <span class="comment">// Below code was copied from tflite::cpu_backend_gemm::detail::GemmImplUsingRuy</span></div>
<div class="line"><span class="lineno">   63</span>  ::ruy::Matrix&lt;float&gt; ruy_lhs;</div>
<div class="line"><span class="lineno">   64</span>  ::ruy::Matrix&lt;float&gt; ruy_rhs;</div>
<div class="line"><span class="lineno">   65</span>  ::ruy::Matrix&lt;float&gt; ruy_dst;</div>
<div class="line"><span class="lineno">   66</span>  <span class="comment">// Note that cache is always enabled for input and weight tensors</span></div>
<div class="line"><span class="lineno">   67</span>  ruy_support::MakeRuyMatrix(lhs_params, weights_data, &amp;ruy_lhs, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">   68</span>  ruy_support::MakeRuyMatrix(rhs_params, input_data, &amp;ruy_rhs, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">   69</span>  ruy_support::MakeRuyMatrix(dst_params, output_data, &amp;ruy_dst);</div>
<div class="line"><span class="lineno">   70</span> </div>
<div class="line"><span class="lineno">   71</span>  ::ruy::MulParams&lt;float, float&gt; ruy_mul_params;</div>
<div class="line"><span class="lineno">   72</span>  ruy_support::MakeRuyMulParams(gemm_params, &amp;ruy_mul_params);</div>
<div class="line"><span class="lineno">   73</span> </div>
<div class="line"><span class="lineno">   74</span>  ::ruy::Mul(ruy_lhs, ruy_rhs, ruy_mul_params, ruy_context, &amp;ruy_dst);</div>
<div class="line"><span class="lineno">   75</span>}</div>
<div class="ttc" id="anamespacennfw_1_1ruy_html_a88bfa77bd1460059a8934b213d1cdb55"><div class="ttname"><a href="namespacennfw_1_1ruy.html#a88bfa77bd1460059a8934b213d1cdb55">nnfw::ruy::DefaultCachePolicy</a></div><div class="ttdeci">CachePolicy DefaultCachePolicy(bool is_constant_data)</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00267">Types.h:267</a></div></div>
<div class="ttc" id="astructnnfw_1_1ruy_1_1_fully_connected_params_html_a396bf9080402cea4d86929c5cf0e4cc4"><div class="ttname"><a href="structnnfw_1_1ruy_1_1_fully_connected_params.html#a396bf9080402cea4d86929c5cf0e4cc4">nnfw::ruy::FullyConnectedParams::float_activation_min</a></div><div class="ttdeci">float float_activation_min</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00096">Types.h:96</a></div></div>
<div class="ttc" id="astructnnfw_1_1ruy_1_1_fully_connected_params_html_a522ab5f0dc763cfa2b7c69b2ba66fbc1"><div class="ttname"><a href="structnnfw_1_1ruy_1_1_fully_connected_params.html#a522ab5f0dc763cfa2b7c69b2ba66fbc1">nnfw::ruy::FullyConnectedParams::lhs_cacheable</a></div><div class="ttdeci">bool lhs_cacheable</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00099">Types.h:99</a></div></div>
<div class="ttc" id="astructnnfw_1_1ruy_1_1_fully_connected_params_html_a891ee959936f360f30241acf36db9fb5"><div class="ttname"><a href="structnnfw_1_1ruy_1_1_fully_connected_params.html#a891ee959936f360f30241acf36db9fb5">nnfw::ruy::FullyConnectedParams::rhs_cacheable</a></div><div class="ttdeci">bool rhs_cacheable</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00100">Types.h:100</a></div></div>
<div class="ttc" id="astructnnfw_1_1ruy_1_1_fully_connected_params_html_ac559ef4a48fb62efb299c5b907a27ac1"><div class="ttname"><a href="structnnfw_1_1ruy_1_1_fully_connected_params.html#ac559ef4a48fb62efb299c5b907a27ac1">nnfw::ruy::FullyConnectedParams::float_activation_max</a></div><div class="ttdeci">float float_activation_max</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00097">Types.h:97</a></div></div>
<div class="ttc" id="astructnnfw_1_1ruy_1_1_gemm_params_html"><div class="ttname"><a href="structnnfw_1_1ruy_1_1_gemm_params.html">nnfw::ruy::GemmParams</a></div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00193">Types.h:194</a></div></div>
<div class="ttc" id="astructnnfw_1_1ruy_1_1_gemm_params_html_a4ba39a4d4636a712bfeccd41d74c1a5f"><div class="ttname"><a href="structnnfw_1_1ruy_1_1_gemm_params.html#a4ba39a4d4636a712bfeccd41d74c1a5f">nnfw::ruy::GemmParams::clamp_max</a></div><div class="ttdeci">DstScalar clamp_max</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00222">Types.h:222</a></div></div>
<div class="ttc" id="astructnnfw_1_1ruy_1_1_gemm_params_html_a8a5b6cb7e227fc96a597918d0446fda9"><div class="ttname"><a href="structnnfw_1_1ruy_1_1_gemm_params.html#a8a5b6cb7e227fc96a597918d0446fda9">nnfw::ruy::GemmParams::clamp_min</a></div><div class="ttdeci">DstScalar clamp_min</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00218">Types.h:218</a></div></div>
<div class="ttc" id="astructnnfw_1_1ruy_1_1_gemm_params_html_ad1be985901f918f00112523d7d7144b4"><div class="ttname"><a href="structnnfw_1_1ruy_1_1_gemm_params.html#ad1be985901f918f00112523d7d7144b4">nnfw::ruy::GemmParams::bias</a></div><div class="ttdeci">const AccumScalar * bias</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00216">Types.h:216</a></div></div>
<div class="ttc" id="astructnnfw_1_1ruy_1_1_matrix_params_html"><div class="ttname"><a href="structnnfw_1_1ruy_1_1_matrix_params.html">nnfw::ruy::MatrixParams</a></div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00123">Types.h:124</a></div></div>
<div class="ttc" id="astructnnfw_1_1ruy_1_1_matrix_params_html_a233691877b96d765e07e487c77bcbec8"><div class="ttname"><a href="structnnfw_1_1ruy_1_1_matrix_params.html#a233691877b96d765e07e487c77bcbec8">nnfw::ruy::MatrixParams::rows</a></div><div class="ttdeci">int rows</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00129">Types.h:129</a></div></div>
<div class="ttc" id="astructnnfw_1_1ruy_1_1_matrix_params_html_a588cd47be392bd205b62fbf85bcaa1e9"><div class="ttname"><a href="structnnfw_1_1ruy_1_1_matrix_params.html#a588cd47be392bd205b62fbf85bcaa1e9">nnfw::ruy::MatrixParams::cols</a></div><div class="ttdeci">int cols</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00131">Types.h:131</a></div></div>
<div class="ttc" id="astructnnfw_1_1ruy_1_1_matrix_params_html_aa7936ece99b29c1dee95eb22a8696142"><div class="ttname"><a href="structnnfw_1_1ruy_1_1_matrix_params.html#aa7936ece99b29c1dee95eb22a8696142">nnfw::ruy::MatrixParams::cache_policy</a></div><div class="ttdeci">CachePolicy cache_policy</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00141">Types.h:141</a></div></div>
<div class="ttc" id="astructnnfw_1_1ruy_1_1_matrix_params_html_ada2c29bf549297f111f9d954d5477802"><div class="ttname"><a href="structnnfw_1_1ruy_1_1_matrix_params.html#ada2c29bf549297f111f9d954d5477802">nnfw::ruy::MatrixParams::order</a></div><div class="ttdeci">Order order</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00127">Types.h:127</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00216">nnfw::ruy::GemmParams&lt; AccumScalar, DstScalar, quantization_flavor &gt;::bias</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00141">nnfw::ruy::MatrixParams&lt; Scalar &gt;::cache_policy</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00222">nnfw::ruy::GemmParams&lt; AccumScalar, DstScalar, quantization_flavor &gt;::clamp_max</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00218">nnfw::ruy::GemmParams&lt; AccumScalar, DstScalar, quantization_flavor &gt;::clamp_min</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00131">nnfw::ruy::MatrixParams&lt; Scalar &gt;::cols</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00267">DefaultCachePolicy()</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00093">nnfw::ruy::Shape::DimensionsCount()</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00094">nnfw::ruy::Shape::Dims()</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00183">nnfw::ruy::Shape::FlatSize()</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00258">FlatSizeSkipDim()</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00097">nnfw::ruy::FullyConnectedParams::float_activation_max</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00096">nnfw::ruy::FullyConnectedParams::float_activation_min</a>, <a class="el" href="namespacennfw_1_1ruy.html#a53e614d61e4a56cdc05773ce61d9179baf093768651925b22c4d08e33641f38f1">kColMajor</a>, <a class="el" href="namespacennfw_1_1ruy.html#a53e614d61e4a56cdc05773ce61d9179ba1ebc644af759b214a70279505401a0b9">kRowMajor</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00099">nnfw::ruy::FullyConnectedParams::lhs_cacheable</a>, <a class="el" href="ruy_2include_2ruy_2_ruy_support_8h_source.html#l00051">nnfw::ruy::ruy_support::MakeRuyMatrix()</a>, <a class="el" href="ruy_2include_2ruy_2_ruy_support_8h_source.html#l00069">nnfw::ruy::ruy_support::MakeRuyMulParams()</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00127">nnfw::ruy::MatrixParams&lt; Scalar &gt;::order</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00100">nnfw::ruy::FullyConnectedParams::rhs_cacheable</a>, and <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00129">nnfw::ruy::MatrixParams&lt; Scalar &gt;::rows</a>.</p>

<p class="reference">Referenced by <a class="el" href="ruy_2ops_2_fully_connected_layer_8cc_source.html#l00041">onert::backend::ruy::ops::FullyConnectedLayer::fullyConnectedFloat32()</a>.</p>

</div>
</div>
<a id="a2ff84d5a7c5d687bd28ed7e2f7977806" name="a2ff84d5a7c5d687bd28ed7e2f7977806"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ff84d5a7c5d687bd28ed7e2f7977806">&#9670;&#160;</a></span>GetShape()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> nnfw::ruy::GetShape </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; int32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00240">240</a> of file <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html">Shape.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  240</span>{ <span class="keywordflow">return</span> <a class="code hl_class" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a>(data.size(), data.data()); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3b04f0408a21443d97ed96ed27defbed" name="a3b04f0408a21443d97ed96ed27defbed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b04f0408a21443d97ed96ed27defbed">&#9670;&#160;</a></span>Im2col()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void nnfw::ruy::Im2col </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnnfw_1_1ruy_1_1_conv_params.html">ConvParams</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>kheight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>kwidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>zero_byte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>input_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>input_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compute_2ruy_2include_2ruy_2_utils_8h_source.html#l00219">219</a> of file <a class="el" href="compute_2ruy_2include_2ruy_2_utils_8h_source.html">Utils.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  222</span>{</div>
<div class="line"><span class="lineno">  223</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> stride_width = params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_conv_params.html#ab0212b7e051d5a680c25669ddf2ce572">stride_width</a>;</div>
<div class="line"><span class="lineno">  224</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> stride_height = params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_conv_params.html#aef97d78bc786af07e9fd95a8468e9be2">stride_height</a>;</div>
<div class="line"><span class="lineno">  225</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> pad_width = params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_conv_params.html#a1e6ea8c3dbf27068d5d6ea2d42583e61">padding_values</a>.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_padding_values.html#ac4b3817526f08ce587b1880fe42c3937">width</a>;</div>
<div class="line"><span class="lineno">  226</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> pad_height = params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_conv_params.html#a1e6ea8c3dbf27068d5d6ea2d42583e61">padding_values</a>.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_padding_values.html#a85fb24d87c88e4a2efa173307eb1e798">height</a>;</div>
<div class="line"><span class="lineno">  227</span>  assert(input_shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a8e89f0cf6e54db02feec9e0b9f1aaf53">DimensionsCount</a>() == 4);</div>
<div class="line"><span class="lineno">  228</span>  assert(output_shape.DimensionsCount() == 4);</div>
<div class="line"><span class="lineno">  229</span> </div>
<div class="line"><span class="lineno">  230</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> batches = MatchingDim(input_shape, 0, output_shape, 0);</div>
<div class="line"><span class="lineno">  231</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> input_depth = input_shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a9b1f58d358a03860559970e1899ac7d2">Dims</a>(3);</div>
<div class="line"><span class="lineno">  232</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> input_width = input_shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a9b1f58d358a03860559970e1899ac7d2">Dims</a>(2);</div>
<div class="line"><span class="lineno">  233</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> input_height = input_shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a9b1f58d358a03860559970e1899ac7d2">Dims</a>(1);</div>
<div class="line"><span class="lineno">  234</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> output_depth = output_shape.Dims(3);</div>
<div class="line"><span class="lineno">  235</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> output_width = output_shape.Dims(2);</div>
<div class="line"><span class="lineno">  236</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> output_height = output_shape.Dims(1);</div>
<div class="line"><span class="lineno">  237</span> </div>
<div class="line"><span class="lineno">  238</span>  <span class="keywordtype">int</span> buffer_id = 0;</div>
<div class="line"><span class="lineno">  239</span>  <span class="comment">// Loop over the output nodes.</span></div>
<div class="line"><span class="lineno">  240</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> b = 0; b &lt; batches; ++b)</div>
<div class="line"><span class="lineno">  241</span>  {</div>
<div class="line"><span class="lineno">  242</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> h = 0; h &lt; output_height; ++h)</div>
<div class="line"><span class="lineno">  243</span>    {</div>
<div class="line"><span class="lineno">  244</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> w = 0; w &lt; output_width; ++w)</div>
<div class="line"><span class="lineno">  245</span>      {</div>
<div class="line"><span class="lineno">  246</span>        <a class="code hl_function" href="_conv2_d_8float_8cpp.html#ae4aac893b639643d7687d01f8c4b28a9">ExtractPatchIntoBufferColumn</a>(input_shape, w, h, b, kheight, kwidth, stride_width,</div>
<div class="line"><span class="lineno">  247</span>                                     stride_height, pad_width, pad_height, input_width,</div>
<div class="line"><span class="lineno">  248</span>                                     input_height, input_depth, output_depth, buffer_id, input_data,</div>
<div class="line"><span class="lineno">  249</span>                                     output_data, zero_byte);</div>
<div class="line"><span class="lineno">  250</span>        ++buffer_id;</div>
<div class="line"><span class="lineno">  251</span>      }</div>
<div class="line"><span class="lineno">  252</span>    }</div>
<div class="line"><span class="lineno">  253</span>  }</div>
<div class="line"><span class="lineno">  254</span>}</div>
<div class="ttc" id="a_conv2_d_8float_8cpp_html_ae4aac893b639643d7687d01f8c4b28a9"><div class="ttname"><a href="_conv2_d_8float_8cpp.html#ae4aac893b639643d7687d01f8c4b28a9">ExtractPatchIntoBufferColumn</a></div><div class="ttdeci">void ExtractPatchIntoBufferColumn(const Dims&lt; 4 &gt; &amp;input_dims, int w, int h, int b, int kheight, int kwidth, int stride_width, int stride_height, int pad_width, int pad_height, int in_width, int in_height, int in_depth, int single_buffer_length, int buffer_id, const T *in_data, T *conv_buffer_data, uint8 byte_zero)</div><div class="ttdef"><b>Definition:</b> <a href="_conv2_d_8float_8cpp_source.html#l00030">Conv2D.float.cpp:30</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00093">nnfw::ruy::Shape::DimensionsCount()</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00094">nnfw::ruy::Shape::Dims()</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_utils_8h_source.html#l00031">ExtractPatchIntoBufferColumn()</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00053">nnfw::ruy::PaddingValues::height</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00223">MatchingDim()</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00059">nnfw::ruy::ConvParams::padding_values</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00062">nnfw::ruy::ConvParams::stride_height</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00061">nnfw::ruy::ConvParams::stride_width</a>, and <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00052">nnfw::ruy::PaddingValues::width</a>.</p>

</div>
</div>
<a id="a548b0759c09d63be5b761d49651cc50a" name="a548b0759c09d63be5b761d49651cc50a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a548b0759c09d63be5b761d49651cc50a">&#9670;&#160;</a></span>IsZeroVector()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool nnfw::ruy::IsZeroVector </td>
          <td>(</td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>v_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compute_2ruy_2include_2ruy_2_tensor_utils_8h_source.html#l00029">29</a> of file <a class="el" href="compute_2ruy_2include_2ruy_2_tensor_utils_8h_source.html">TensorUtils.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   30</span>{</div>
<div class="line"><span class="lineno">   31</span>  <span class="keywordflow">return</span> <a class="code hl_define" href="cker_2include_2cker_2neon_2neon__check_8h.html#a760b877375718ba22d08c55f221e4c99">NEON_OR_PORTABLE</a>(IsZeroVector, vector, v_size);</div>
<div class="line"><span class="lineno">   32</span>}</div>
<div class="ttc" id="acker_2include_2cker_2neon_2neon__check_8h_html_a760b877375718ba22d08c55f221e4c99"><div class="ttname"><a href="cker_2include_2cker_2neon_2neon__check_8h.html#a760b877375718ba22d08c55f221e4c99">NEON_OR_PORTABLE</a></div><div class="ttdeci">#define NEON_OR_PORTABLE(funcname,...)</div><div class="ttdef"><b>Definition:</b> <a href="cker_2include_2cker_2neon_2neon__check_8h_source.html#l00047">neon_check.h:47</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compute_2ruy_2include_2ruy_2_tensor_utils_8h_source.html#l00029">IsZeroVector()</a>, and <a class="el" href="cker_2include_2cker_2neon_2neon__check_8h_source.html#l00047">NEON_OR_PORTABLE</a>.</p>

<p class="reference">Referenced by <a class="el" href="compute_2ruy_2include_2ruy_2_tensor_utils_8h_source.html#l00029">IsZeroVector()</a>, and <a class="el" href="ruy_2ops_2_fully_connected_layer_8cc_source.html#l00088">onert::backend::ruy::ops::FullyConnectedLayer::prepare()</a>.</p>

</div>
</div>
<a id="af79b6729b43e12407ac4b76ad180f4f6" name="af79b6729b43e12407ac4b76ad180f4f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af79b6729b43e12407ac4b76ad180f4f6">&#9670;&#160;</a></span>MatchingDim() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int nnfw::ruy::MatchingDim </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>shape1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>shape2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00223">223</a> of file <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html">Shape.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  224</span>{</div>
<div class="line"><span class="lineno">  225</span>  <a class="code hl_define" href="compute_2cker_2include_2cker_2_shape_8h.html#a044d7f999713173dd3360b0aa40370fd">UNUSED_RELEASE</a>(shape2);</div>
<div class="line"><span class="lineno">  226</span>  <a class="code hl_define" href="compute_2cker_2include_2cker_2_shape_8h.html#a044d7f999713173dd3360b0aa40370fd">UNUSED_RELEASE</a>(index2);</div>
<div class="line"><span class="lineno">  227</span>  assert(shape1.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a9b1f58d358a03860559970e1899ac7d2">Dims</a>(index1) == shape2.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a9b1f58d358a03860559970e1899ac7d2">Dims</a>(index2));</div>
<div class="line"><span class="lineno">  228</span>  <span class="keywordflow">return</span> shape1.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a9b1f58d358a03860559970e1899ac7d2">Dims</a>(index1);</div>
<div class="line"><span class="lineno">  229</span>}</div>
<div class="ttc" id="acompute_2cker_2include_2cker_2_shape_8h_html_a044d7f999713173dd3360b0aa40370fd"><div class="ttname"><a href="compute_2cker_2include_2cker_2_shape_8h.html#a044d7f999713173dd3360b0aa40370fd">UNUSED_RELEASE</a></div><div class="ttdeci">#define UNUSED_RELEASE(a)</div><div class="ttdef"><b>Definition:</b> <a href="compute_2cker_2include_2cker_2_shape_8h_source.html#l00026">Shape.h:26</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00094">nnfw::ruy::Shape::Dims()</a>, and <a class="el" href="compute_2cker_2include_2cker_2_shape_8h_source.html#l00026">UNUSED_RELEASE</a>.</p>

<p class="reference">Referenced by <a class="el" href="compute_2ruy_2include_2ruy_2_utils_8h_source.html#l00118">DilatedIm2col()</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_utils_8h_source.html#l00219">Im2col()</a>, and <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00232">MatchingDim()</a>.</p>

</div>
</div>
<a id="a3a08b14bae8f7d68302652cae45deb20" name="a3a08b14bae8f7d68302652cae45deb20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a08b14bae8f7d68302652cae45deb20">&#9670;&#160;</a></span>MatchingDim() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int nnfw::ruy::MatchingDim </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>shape1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>shape2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00232">232</a> of file <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html">Shape.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  233</span>{</div>
<div class="line"><span class="lineno">  234</span>  assert(shape1.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a9b1f58d358a03860559970e1899ac7d2">Dims</a>(index1) == shape2.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a9b1f58d358a03860559970e1899ac7d2">Dims</a>(index2));</div>
<div class="line"><span class="lineno">  235</span>  <a class="code hl_define" href="compute_2cker_2include_2cker_2_shape_8h.html#a044d7f999713173dd3360b0aa40370fd">UNUSED_RELEASE</a>(shape2);</div>
<div class="line"><span class="lineno">  236</span>  <a class="code hl_define" href="compute_2cker_2include_2cker_2_shape_8h.html#a044d7f999713173dd3360b0aa40370fd">UNUSED_RELEASE</a>(index2);</div>
<div class="line"><span class="lineno">  237</span>  <span class="keywordflow">return</span> MatchingDim(shape1, index1, args...);</div>
<div class="line"><span class="lineno">  238</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00094">nnfw::ruy::Shape::Dims()</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00223">MatchingDim()</a>, and <a class="el" href="compute_2cker_2include_2cker_2_shape_8h_source.html#l00026">UNUSED_RELEASE</a>.</p>

</div>
</div>
<a id="a6752dc8511d72b68aa444c0abb372d17" name="a6752dc8511d72b68aa444c0abb372d17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6752dc8511d72b68aa444c0abb372d17">&#9670;&#160;</a></span>MatchingElementsSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int nnfw::ruy::MatchingElementsSize </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>check_shape_0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>check_shape_1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00338">338</a> of file <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html">Shape.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  340</span>{</div>
<div class="line"><span class="lineno">  341</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> size_1 = shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a0adf7074ff445fe6604bc94663fb8de1">FlatSize</a>();</div>
<div class="line"><span class="lineno">  342</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> size_2 = check_shape_0.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a0adf7074ff445fe6604bc94663fb8de1">FlatSize</a>();</div>
<div class="line"><span class="lineno">  343</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> size_3 = check_shape_1.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a0adf7074ff445fe6604bc94663fb8de1">FlatSize</a>();</div>
<div class="line"><span class="lineno">  344</span>  assert(size_1 == size_2);</div>
<div class="line"><span class="lineno">  345</span>  assert(size_2 == size_3);</div>
<div class="line"><span class="lineno">  346</span>  <a class="code hl_define" href="compute_2cker_2include_2cker_2_shape_8h.html#a044d7f999713173dd3360b0aa40370fd">UNUSED_RELEASE</a>(size_2);</div>
<div class="line"><span class="lineno">  347</span>  <a class="code hl_define" href="compute_2cker_2include_2cker_2_shape_8h.html#a044d7f999713173dd3360b0aa40370fd">UNUSED_RELEASE</a>(size_3);</div>
<div class="line"><span class="lineno">  348</span>  <span class="keywordflow">return</span> size_1;</div>
<div class="line"><span class="lineno">  349</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00183">nnfw::ruy::Shape::FlatSize()</a>, and <a class="el" href="compute_2cker_2include_2cker_2_shape_8h_source.html#l00026">UNUSED_RELEASE</a>.</p>

</div>
</div>
<a id="a90a2bc4b8b80caf84415844670939ec1" name="a90a2bc4b8b80caf84415844670939ec1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90a2bc4b8b80caf84415844670939ec1">&#9670;&#160;</a></span>MatchingFlatSize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Ts&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int nnfw::ruy::MatchingFlatSize </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Ts...&#160;</td>
          <td class="paramname"><em>check_shapes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00302">302</a> of file <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html">Shape.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  303</span>{</div>
<div class="line"><span class="lineno">  304</span>  <a class="code hl_struct" href="structnnfw_1_1ruy_1_1_u_n_u_s_e_d___a_l_l.html">UNUSED_ALL</a>{check_shapes...};</div>
<div class="line"><span class="lineno">  305</span>  assert(checkMatching(shape, std::forward&lt;Ts&gt;(check_shapes)...));</div>
<div class="line"><span class="lineno">  306</span>  <span class="keywordflow">return</span> shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a0adf7074ff445fe6604bc94663fb8de1">FlatSize</a>();</div>
<div class="line"><span class="lineno">  307</span>}</div>
<div class="ttc" id="astructnnfw_1_1ruy_1_1_u_n_u_s_e_d___a_l_l_html"><div class="ttname"><a href="structnnfw_1_1ruy_1_1_u_n_u_s_e_d___a_l_l.html">nnfw::ruy::UNUSED_ALL</a></div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00298">Shape.h:299</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00273">checkMatching()</a>, and <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00183">nnfw::ruy::Shape::FlatSize()</a>.</p>

</div>
</div>
<a id="a616a524b483b05714d724b66be425980" name="a616a524b483b05714d724b66be425980"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a616a524b483b05714d724b66be425980">&#9670;&#160;</a></span>MatchingFlatSizeSkipDim() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int nnfw::ruy::MatchingFlatSizeSkipDim </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>skip_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>check_shape_0</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00309">309</a> of file <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html">Shape.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  310</span>{</div>
<div class="line"><span class="lineno">  311</span>  <a class="code hl_define" href="compute_2cker_2include_2cker_2_shape_8h.html#a044d7f999713173dd3360b0aa40370fd">UNUSED_RELEASE</a>(check_shape_0);</div>
<div class="line"><span class="lineno">  312</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> dims_count = shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a8e89f0cf6e54db02feec9e0b9f1aaf53">DimensionsCount</a>();</div>
<div class="line"><span class="lineno">  313</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; dims_count; ++i)</div>
<div class="line"><span class="lineno">  314</span>  {</div>
<div class="line"><span class="lineno">  315</span>    <span class="keywordflow">if</span> (i != skip_dim)</div>
<div class="line"><span class="lineno">  316</span>    {</div>
<div class="line"><span class="lineno">  317</span>      assert(shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a9b1f58d358a03860559970e1899ac7d2">Dims</a>(i) == check_shape_0.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a9b1f58d358a03860559970e1899ac7d2">Dims</a>(i));</div>
<div class="line"><span class="lineno">  318</span>    }</div>
<div class="line"><span class="lineno">  319</span>  }</div>
<div class="line"><span class="lineno">  320</span>  <span class="keywordflow">return</span> FlatSizeSkipDim(shape, skip_dim);</div>
<div class="line"><span class="lineno">  321</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00093">nnfw::ruy::Shape::DimensionsCount()</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00094">nnfw::ruy::Shape::Dims()</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00258">FlatSizeSkipDim()</a>, and <a class="el" href="compute_2cker_2include_2cker_2_shape_8h_source.html#l00026">UNUSED_RELEASE</a>.</p>

<p class="reference">Referenced by <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00323">MatchingFlatSizeSkipDim()</a>.</p>

</div>
</div>
<a id="ab0673d7ffefb4a092ecda749d28c4413" name="ab0673d7ffefb4a092ecda749d28c4413"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0673d7ffefb4a092ecda749d28c4413">&#9670;&#160;</a></span>MatchingFlatSizeSkipDim() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int nnfw::ruy::MatchingFlatSizeSkipDim </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>skip_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>check_shape_0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>check_shape_1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00323">323</a> of file <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html">Shape.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  325</span>{</div>
<div class="line"><span class="lineno">  326</span>  <a class="code hl_define" href="compute_2cker_2include_2cker_2_shape_8h.html#a044d7f999713173dd3360b0aa40370fd">UNUSED_RELEASE</a>(check_shape_0);</div>
<div class="line"><span class="lineno">  327</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> dims_count = shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a8e89f0cf6e54db02feec9e0b9f1aaf53">DimensionsCount</a>();</div>
<div class="line"><span class="lineno">  328</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; dims_count; ++i)</div>
<div class="line"><span class="lineno">  329</span>  {</div>
<div class="line"><span class="lineno">  330</span>    <span class="keywordflow">if</span> (i != skip_dim)</div>
<div class="line"><span class="lineno">  331</span>    {</div>
<div class="line"><span class="lineno">  332</span>      assert(shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a9b1f58d358a03860559970e1899ac7d2">Dims</a>(i) == check_shape_0.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a9b1f58d358a03860559970e1899ac7d2">Dims</a>(i));</div>
<div class="line"><span class="lineno">  333</span>    }</div>
<div class="line"><span class="lineno">  334</span>  }</div>
<div class="line"><span class="lineno">  335</span>  <span class="keywordflow">return</span> MatchingFlatSizeSkipDim(shape, skip_dim, check_shape_1);</div>
<div class="line"><span class="lineno">  336</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00093">nnfw::ruy::Shape::DimensionsCount()</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00094">nnfw::ruy::Shape::Dims()</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00309">MatchingFlatSizeSkipDim()</a>, and <a class="el" href="compute_2cker_2include_2cker_2_shape_8h_source.html#l00026">UNUSED_RELEASE</a>.</p>

</div>
</div>
<a id="a9152485cbca1d5243f96f19d37a6477a" name="a9152485cbca1d5243f96f19d37a6477a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9152485cbca1d5243f96f19d37a6477a">&#9670;&#160;</a></span>Offset() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int nnfw::ruy::Offset </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00253">253</a> of file <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html">Shape.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  254</span>{</div>
<div class="line"><span class="lineno">  255</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a1c037ff89c0da8b5cd52088b914b9c1d">Offset</a>(shape, index[0], index[1], index[2], index[3]);</div>
<div class="line"><span class="lineno">  256</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00242">Offset()</a>.</p>

</div>
</div>
<a id="a3eb6cf080c5482b967cc28f8cb0374e2" name="a3eb6cf080c5482b967cc28f8cb0374e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eb6cf080c5482b967cc28f8cb0374e2">&#9670;&#160;</a></span>Offset() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int nnfw::ruy::Offset </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classnnfw_1_1ruy_1_1_shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i3</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00242">242</a> of file <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html">Shape.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  243</span>{</div>
<div class="line"><span class="lineno">  244</span>  assert(shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a8e89f0cf6e54db02feec9e0b9f1aaf53">DimensionsCount</a>() == 4);</div>
<div class="line"><span class="lineno">  245</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> *dims_data = shape.<a class="code hl_function" href="classnnfw_1_1ruy_1_1_shape.html#a8d6676c73976cc62d9653909185f98ed">DimsDataUpTo4D</a>();</div>
<div class="line"><span class="lineno">  246</span>  assert(i0 &gt;= 0 &amp;&amp; i0 &lt; dims_data[0]);</div>
<div class="line"><span class="lineno">  247</span>  assert(i1 &gt;= 0 &amp;&amp; i1 &lt; dims_data[1]);</div>
<div class="line"><span class="lineno">  248</span>  assert(i2 &gt;= 0 &amp;&amp; i2 &lt; dims_data[2]);</div>
<div class="line"><span class="lineno">  249</span>  assert(i3 &gt;= 0 &amp;&amp; i3 &lt; dims_data[3]);</div>
<div class="line"><span class="lineno">  250</span>  <span class="keywordflow">return</span> ((i0 * dims_data[1] + i1) * dims_data[2] + i2) * dims_data[3] + i3;</div>
<div class="line"><span class="lineno">  251</span>}</div>
<div class="ttc" id="aclassnnfw_1_1ruy_1_1_shape_html_a8d6676c73976cc62d9653909185f98ed"><div class="ttname"><a href="classnnfw_1_1ruy_1_1_shape.html#a8d6676c73976cc62d9653909185f98ed">nnfw::ruy::Shape::DimsDataUpTo4D</a></div><div class="ttdeci">const int32_t * DimsDataUpTo4D() const</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00117">Shape.h:117</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00093">nnfw::ruy::Shape::DimensionsCount()</a>, and <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00117">nnfw::ruy::Shape::DimsDataUpTo4D()</a>.</p>

<p class="reference">Referenced by <a class="el" href="compute_2ruy_2include_2ruy_2_utils_8h_source.html#l00118">DilatedIm2col()</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_utils_8h_source.html#l00031">ExtractPatchIntoBufferColumn()</a>, and <a class="el" href="compute_2ruy_2include_2ruy_2_shape_8h_source.html#l00253">Offset()</a>.</p>

</div>
</div>
<a id="a69cdbcdf96334211470a6cd5ef55ee88" name="a69cdbcdf96334211470a6cd5ef55ee88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69cdbcdf96334211470a6cd5ef55ee88">&#9670;&#160;</a></span>PortableIsZeroVector()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool nnfw::ruy::PortableIsZeroVector </td>
          <td>(</td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>v_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ruy_2include_2ruy_2_portable_tensor_utils_8h_source.html#l00026">26</a> of file <a class="el" href="ruy_2include_2ruy_2_portable_tensor_utils_8h_source.html">PortableTensorUtils.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   27</span>{</div>
<div class="line"><span class="lineno">   28</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; v_size; ++i)</div>
<div class="line"><span class="lineno">   29</span>  {</div>
<div class="line"><span class="lineno">   30</span>    <span class="keywordflow">if</span> (*vector++ != 0.0f)</div>
<div class="line"><span class="lineno">   31</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   32</span>  }</div>
<div class="line"><span class="lineno">   33</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   34</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a695d6cbce17540c90564d4c369083181" name="a695d6cbce17540c90564d4c369083181"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a695d6cbce17540c90564d4c369083181">&#9670;&#160;</a></span>ValidateGemmParams()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename AccumScalar , typename DstScalar , <a class="el" href="namespacennfw_1_1ruy.html#a719af35c91a72f276105e09b0a40395d">QuantizationFlavor</a> quantization_flavor&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void nnfw::ruy::ValidateGemmParams </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnnfw_1_1ruy_1_1_gemm_params.html">GemmParams</a>&lt; AccumScalar, DstScalar, quantization_flavor &gt; &amp;&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00229">229</a> of file <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html">Types.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  230</span>{</div>
<div class="line"><span class="lineno">  231</span>  <span class="comment">// Guard consistency of the quantized multiplier fields.</span></div>
<div class="line"><span class="lineno">  232</span>  <span class="keywordflow">if</span> (quantization_flavor == QuantizationFlavor::kFloatingPoint)</div>
<div class="line"><span class="lineno">  233</span>  {</div>
<div class="line"><span class="lineno">  234</span>    assert(!params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_gemm_params.html#a0d6ee937e371683348fa601b646b6c2c">multiplier_fixedpoint</a>);</div>
<div class="line"><span class="lineno">  235</span>    assert(!params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_gemm_params.html#acb43d47832a0ba9b6e96c7cd86e9e50c">multiplier_exponent</a>);</div>
<div class="line"><span class="lineno">  236</span>    assert(!params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_gemm_params.html#abdd21867a9ec19093b992c64d1059415">multiplier_fixedpoint_perchannel</a>);</div>
<div class="line"><span class="lineno">  237</span>    assert(!params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_gemm_params.html#a9a289aa96f8c4b91e147c13382d3d394">multiplier_exponent_perchannel</a>);</div>
<div class="line"><span class="lineno">  238</span>  }</div>
<div class="line"><span class="lineno">  239</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (quantization_flavor == QuantizationFlavor::kIntegerWithUniformMultiplier &amp;&amp;</div>
<div class="line"><span class="lineno">  240</span>           !std::is_same&lt;DstScalar, int32_t&gt;::value)</div>
<div class="line"><span class="lineno">  241</span>  {</div>
<div class="line"><span class="lineno">  242</span>    assert(params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_gemm_params.html#a0d6ee937e371683348fa601b646b6c2c">multiplier_fixedpoint</a>);</div>
<div class="line"><span class="lineno">  243</span>    <span class="comment">// Nothing to check about multiplier_exponent</span></div>
<div class="line"><span class="lineno">  244</span>    assert(!params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_gemm_params.html#abdd21867a9ec19093b992c64d1059415">multiplier_fixedpoint_perchannel</a>);</div>
<div class="line"><span class="lineno">  245</span>    assert(!params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_gemm_params.html#a9a289aa96f8c4b91e147c13382d3d394">multiplier_exponent_perchannel</a>);</div>
<div class="line"><span class="lineno">  246</span>  }</div>
<div class="line"><span class="lineno">  247</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (quantization_flavor == QuantizationFlavor::kIntegerWithPerRowMultiplier &amp;&amp;</div>
<div class="line"><span class="lineno">  248</span>           !std::is_same&lt;DstScalar, int32_t&gt;::value)</div>
<div class="line"><span class="lineno">  249</span>  {</div>
<div class="line"><span class="lineno">  250</span>    assert(!params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_gemm_params.html#a0d6ee937e371683348fa601b646b6c2c">multiplier_fixedpoint</a>);</div>
<div class="line"><span class="lineno">  251</span>    assert(!params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_gemm_params.html#acb43d47832a0ba9b6e96c7cd86e9e50c">multiplier_exponent</a>);</div>
<div class="line"><span class="lineno">  252</span>    assert(params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_gemm_params.html#abdd21867a9ec19093b992c64d1059415">multiplier_fixedpoint_perchannel</a>);</div>
<div class="line"><span class="lineno">  253</span>    assert(params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_gemm_params.html#a9a289aa96f8c4b91e147c13382d3d394">multiplier_exponent_perchannel</a>);</div>
<div class="line"><span class="lineno">  254</span>  }</div>
<div class="line"><span class="lineno">  255</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  256</span>  {</div>
<div class="line"><span class="lineno">  257</span>    <span class="comment">// For the get raw accumulator case, we should make sure none of the</span></div>
<div class="line"><span class="lineno">  258</span>    <span class="comment">// quantization params are set.</span></div>
<div class="line"><span class="lineno">  259</span>    assert(!params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_gemm_params.html#a0d6ee937e371683348fa601b646b6c2c">multiplier_fixedpoint</a>);</div>
<div class="line"><span class="lineno">  260</span>    assert(!params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_gemm_params.html#acb43d47832a0ba9b6e96c7cd86e9e50c">multiplier_exponent</a>);</div>
<div class="line"><span class="lineno">  261</span>    assert(!params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_gemm_params.html#abdd21867a9ec19093b992c64d1059415">multiplier_fixedpoint_perchannel</a>);</div>
<div class="line"><span class="lineno">  262</span>    assert(!params.<a class="code hl_variable" href="structnnfw_1_1ruy_1_1_gemm_params.html#a9a289aa96f8c4b91e147c13382d3d394">multiplier_exponent_perchannel</a>);</div>
<div class="line"><span class="lineno">  263</span>  }</div>
<div class="line"><span class="lineno">  264</span>  <a class="code hl_define" href="compute_2cker_2include_2cker_2_shape_8h.html#a044d7f999713173dd3360b0aa40370fd">UNUSED_RELEASE</a>(params);</div>
<div class="line"><span class="lineno">  265</span>}</div>
<div class="ttc" id="astructnnfw_1_1ruy_1_1_gemm_params_html_a0d6ee937e371683348fa601b646b6c2c"><div class="ttname"><a href="structnnfw_1_1ruy_1_1_gemm_params.html#a0d6ee937e371683348fa601b646b6c2c">nnfw::ruy::GemmParams::multiplier_fixedpoint</a></div><div class="ttdeci">AccumScalar multiplier_fixedpoint</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00198">Types.h:198</a></div></div>
<div class="ttc" id="astructnnfw_1_1ruy_1_1_gemm_params_html_a9a289aa96f8c4b91e147c13382d3d394"><div class="ttname"><a href="structnnfw_1_1ruy_1_1_gemm_params.html#a9a289aa96f8c4b91e147c13382d3d394">nnfw::ruy::GemmParams::multiplier_exponent_perchannel</a></div><div class="ttdeci">const int * multiplier_exponent_perchannel</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00214">Types.h:214</a></div></div>
<div class="ttc" id="astructnnfw_1_1ruy_1_1_gemm_params_html_abdd21867a9ec19093b992c64d1059415"><div class="ttname"><a href="structnnfw_1_1ruy_1_1_gemm_params.html#abdd21867a9ec19093b992c64d1059415">nnfw::ruy::GemmParams::multiplier_fixedpoint_perchannel</a></div><div class="ttdeci">const AccumScalar * multiplier_fixedpoint_perchannel</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00206">Types.h:206</a></div></div>
<div class="ttc" id="astructnnfw_1_1ruy_1_1_gemm_params_html_acb43d47832a0ba9b6e96c7cd86e9e50c"><div class="ttname"><a href="structnnfw_1_1ruy_1_1_gemm_params.html#acb43d47832a0ba9b6e96c7cd86e9e50c">nnfw::ruy::GemmParams::multiplier_exponent</a></div><div class="ttdeci">int multiplier_exponent</div><div class="ttdef"><b>Definition:</b> <a href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00201">Types.h:201</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacennfw_1_1ruy.html#a719af35c91a72f276105e09b0a40395da6b5725464f6e8ab0a2cdf49a29a0f4a9">kFloatingPoint</a>, <a class="el" href="namespacennfw_1_1ruy.html#a719af35c91a72f276105e09b0a40395da227d5cf4d9445848d0940bb4dd05ee37">kIntegerWithPerRowMultiplier</a>, <a class="el" href="namespacennfw_1_1ruy.html#a719af35c91a72f276105e09b0a40395dac11557b4d4fc196c43b4fa7eab201144">kIntegerWithUniformMultiplier</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00201">nnfw::ruy::GemmParams&lt; AccumScalar, DstScalar, quantization_flavor &gt;::multiplier_exponent</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00214">nnfw::ruy::GemmParams&lt; AccumScalar, DstScalar, quantization_flavor &gt;::multiplier_exponent_perchannel</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00198">nnfw::ruy::GemmParams&lt; AccumScalar, DstScalar, quantization_flavor &gt;::multiplier_fixedpoint</a>, <a class="el" href="compute_2ruy_2include_2ruy_2_types_8h_source.html#l00206">nnfw::ruy::GemmParams&lt; AccumScalar, DstScalar, quantization_flavor &gt;::multiplier_fixedpoint_perchannel</a>, and <a class="el" href="compute_2cker_2include_2cker_2_shape_8h_source.html#l00026">UNUSED_RELEASE</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacennfw.html">nnfw</a></li><li class="navelem"><a class="el" href="namespacennfw_1_1ruy.html">ruy</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
