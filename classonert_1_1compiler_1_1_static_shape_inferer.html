<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ONE - On-device Neural Engine: onert::compiler::StaticShapeInferer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ONE - On-device Neural Engine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classonert_1_1compiler_1_1_static_shape_inferer.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a>  </div>
  <div class="headertitle"><div class="title">onert::compiler::StaticShapeInferer Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Class to infer shape before running kernels. It does the following:  
 <a href="classonert_1_1compiler_1_1_static_shape_inferer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_static_shape_inferer_8h_source.html">StaticShapeInferer.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for onert::compiler::StaticShapeInferer:</div>
<div class="dyncontent">
<div class="center"><img src="classonert_1_1compiler_1_1_static_shape_inferer__coll__graph.png" border="0" usemap="#aonert_1_1compiler_1_1_static_shape_inferer_coll__map" alt="Collaboration graph"/></div>
<map name="aonert_1_1compiler_1_1_static_shape_inferer_coll__map" id="aonert_1_1compiler_1_1_static_shape_inferer_coll__map">
<area shape="rect" title="Class to infer shape before running kernels. It does the following:" alt="" coords="5,79,188,119"/>
<area shape="rect" href="structonert_1_1ir_1_1_operation_visitor.html" title=" " alt="" coords="15,5,178,31"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2318a8614ec77dec1470640ef5be967b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classonert_1_1compiler_1_1_static_shape_inferer.html#a2318a8614ec77dec1470640ef5be967b">StaticShapeInferer</a> (<a class="el" href="classonert_1_1compiler_1_1_lowered_graph.html">compiler::LoweredGraph</a> *lowered_subg)</td></tr>
<tr class="separator:a2318a8614ec77dec1470640ef5be967b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a168fb9ec0d69980a7ebdc03c7f27ac05"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classonert_1_1compiler_1_1_static_shape_inferer.html#a168fb9ec0d69980a7ebdc03c7f27ac05">~StaticShapeInferer</a> ()=default</td></tr>
<tr class="separator:a168fb9ec0d69980a7ebdc03c7f27ac05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2da1bf6b9b25be4745b83d35c09e958e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classonert_1_1compiler_1_1_static_shape_inferer.html#a2da1bf6b9b25be4745b83d35c09e958e">appendSubgInputObserver</a> (const <a class="el" href="namespaceonert_1_1ir.html#afff9e77cac191f4fcc8c447e4bea053c">ir::SubgraphIndex</a> &amp;subg_idx, std::unique_ptr&lt; <a class="el" href="classonert_1_1compiler_1_1_operand_observer.html">OperandObserver</a> &gt; &amp;&amp;subg_input_observer) noexcept</td></tr>
<tr class="separator:a2da1bf6b9b25be4745b83d35c09e958e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bb5c3fc5145ab61016a343f33b6faf8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classonert_1_1compiler_1_1_static_shape_inferer.html#a9bb5c3fc5145ab61016a343f33b6faf8">setControlflowOutputObserver</a> (std::unique_ptr&lt; <a class="el" href="classonert_1_1compiler_1_1_operand_observer.html">OperandObserver</a> &gt; &amp;&amp;output_observer) noexcept</td></tr>
<tr class="separator:a9bb5c3fc5145ab61016a343f33b6faf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fd33b799786e1595152848a18b1858d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classonert_1_1compiler_1_1_static_shape_inferer.html#a6fd33b799786e1595152848a18b1858d">appendChildInferer</a> (const <a class="el" href="namespaceonert_1_1ir.html#afff9e77cac191f4fcc8c447e4bea053c">ir::SubgraphIndex</a> &amp;subg_idx, <a class="el" href="classonert_1_1compiler_1_1_static_shape_inferer.html">compiler::StaticShapeInferer</a> *inferer)</td></tr>
<tr class="separator:a6fd33b799786e1595152848a18b1858d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c930381de38d7b175256fd53904fba6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classonert_1_1compiler_1_1_static_shape_inferer.html#a3c930381de38d7b175256fd53904fba6">infer</a> (void)</td></tr>
<tr class="memdesc:a3c930381de38d7b175256fd53904fba6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Infer shape of operands belonging to ops and set the output shape. If output shape cannot be known without running op, mark it so that it can be allocated when running kernel.  <a href="classonert_1_1compiler_1_1_static_shape_inferer.html#a3c930381de38d7b175256fd53904fba6">More...</a><br /></td></tr>
<tr class="separator:a3c930381de38d7b175256fd53904fba6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b929b0bae17b6236df9a113c625018d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classonert_1_1compiler_1_1_static_shape_inferer.html#a7b929b0bae17b6236df9a113c625018d">dump</a> ()</td></tr>
<tr class="separator:a7b929b0bae17b6236df9a113c625018d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_structonert_1_1ir_1_1_operation_visitor"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_structonert_1_1ir_1_1_operation_visitor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="structonert_1_1ir_1_1_operation_visitor.html">onert::ir::OperationVisitor</a></td></tr>
<tr class="memitem:afebd17f6e2e3a0cfecdea2ebc6b1bc1b inherit pub_methods_structonert_1_1ir_1_1_operation_visitor"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structonert_1_1ir_1_1_operation_visitor.html#afebd17f6e2e3a0cfecdea2ebc6b1bc1b">~OperationVisitor</a> ()=default</td></tr>
<tr class="separator:afebd17f6e2e3a0cfecdea2ebc6b1bc1b inherit pub_methods_structonert_1_1ir_1_1_operation_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a6823b6f3f47aff08fd5233a372e5e75e"><td class="memItemLeft" align="right" valign="top">static std::unordered_map&lt; <a class="el" href="namespaceonert_1_1ir.html#afff9e77cac191f4fcc8c447e4bea053c">ir::SubgraphIndex</a>, std::unique_ptr&lt; <a class="el" href="classonert_1_1compiler_1_1_static_shape_inferer.html">StaticShapeInferer</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classonert_1_1compiler_1_1_static_shape_inferer.html#a6823b6f3f47aff08fd5233a372e5e75e">createStaticShapeInferers</a> (const std::unordered_map&lt; <a class="el" href="namespaceonert_1_1ir.html#afff9e77cac191f4fcc8c447e4bea053c">ir::SubgraphIndex</a>, std::unique_ptr&lt; <a class="el" href="classonert_1_1compiler_1_1_lowered_graph.html">LoweredGraph</a> &gt; &gt; &amp;lowered_subgs)</td></tr>
<tr class="memdesc:a6823b6f3f47aff08fd5233a372e5e75e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a lowered model shape inferer map.  <a href="classonert_1_1compiler_1_1_static_shape_inferer.html#a6823b6f3f47aff08fd5233a372e5e75e">More...</a><br /></td></tr>
<tr class="separator:a6823b6f3f47aff08fd5233a372e5e75e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Class to infer shape before running kernels. It does the following: </p>
<ul>
<li>re-calculate and set output shape at compile time (before running kernels)</li>
<li>if calculation cannot be done at compile time, mark the outputs to be dynamic, meaning shapes of outputs will be calculated during running kernels </li>
</ul>

<p class="definition">Definition at line <a class="el" href="_static_shape_inferer_8h_source.html#l00068">68</a> of file <a class="el" href="_static_shape_inferer_8h_source.html">StaticShapeInferer.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a2318a8614ec77dec1470640ef5be967b" name="a2318a8614ec77dec1470640ef5be967b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2318a8614ec77dec1470640ef5be967b">&#9670;&#160;</a></span>StaticShapeInferer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">onert::compiler::StaticShapeInferer::StaticShapeInferer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classonert_1_1compiler_1_1_lowered_graph.html">compiler::LoweredGraph</a> *&#160;</td>
          <td class="paramname"><em>lowered_subg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_static_shape_inferer_8h_source.html#l00071">71</a> of file <a class="el" href="_static_shape_inferer_8h_source.html">StaticShapeInferer.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   72</span>    : _lowered_subg{lowered_subg}, _subg_input_observers{}, _controlflow_output_observer{<span class="keyword">nullptr</span>},</div>
<div class="line"><span class="lineno">   73</span>      _child_inferers{}</div>
<div class="line"><span class="lineno">   74</span>  {</div>
<div class="line"><span class="lineno">   75</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a168fb9ec0d69980a7ebdc03c7f27ac05" name="a168fb9ec0d69980a7ebdc03c7f27ac05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a168fb9ec0d69980a7ebdc03c7f27ac05">&#9670;&#160;</a></span>~StaticShapeInferer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual onert::compiler::StaticShapeInferer::~StaticShapeInferer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6fd33b799786e1595152848a18b1858d" name="a6fd33b799786e1595152848a18b1858d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fd33b799786e1595152848a18b1858d">&#9670;&#160;</a></span>appendChildInferer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void onert::compiler::StaticShapeInferer::appendChildInferer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceonert_1_1ir.html#afff9e77cac191f4fcc8c447e4bea053c">ir::SubgraphIndex</a> &amp;&#160;</td>
          <td class="paramname"><em>subg_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classonert_1_1compiler_1_1_static_shape_inferer.html">compiler::StaticShapeInferer</a> *&#160;</td>
          <td class="paramname"><em>inferer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_static_shape_inferer_8h_source.html#l00090">90</a> of file <a class="el" href="_static_shape_inferer_8h_source.html">StaticShapeInferer.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   91</span>  {</div>
<div class="line"><span class="lineno">   92</span>    _child_inferers[subg_idx] = inferer;</div>
<div class="line"><span class="lineno">   93</span>  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="_static_shape_inferer_8cc_source.html#l00194">createStaticShapeInferers()</a>.</p>

</div>
</div>
<a id="a2da1bf6b9b25be4745b83d35c09e958e" name="a2da1bf6b9b25be4745b83d35c09e958e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2da1bf6b9b25be4745b83d35c09e958e">&#9670;&#160;</a></span>appendSubgInputObserver()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void onert::compiler::StaticShapeInferer::appendSubgInputObserver </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceonert_1_1ir.html#afff9e77cac191f4fcc8c447e4bea053c">ir::SubgraphIndex</a> &amp;&#160;</td>
          <td class="paramname"><em>subg_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classonert_1_1compiler_1_1_operand_observer.html">OperandObserver</a> &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>subg_input_observer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_static_shape_inferer_8h_source.html#l00079">79</a> of file <a class="el" href="_static_shape_inferer_8h_source.html">StaticShapeInferer.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   81</span>  {</div>
<div class="line"><span class="lineno">   82</span>    _subg_input_observers[subg_idx] = std::move(subg_input_observer);</div>
<div class="line"><span class="lineno">   83</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6823b6f3f47aff08fd5233a372e5e75e" name="a6823b6f3f47aff08fd5233a372e5e75e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6823b6f3f47aff08fd5233a372e5e75e">&#9670;&#160;</a></span>createStaticShapeInferers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; <a class="el" href="namespaceonert_1_1ir.html#afff9e77cac191f4fcc8c447e4bea053c">ir::SubgraphIndex</a>, std::unique_ptr&lt; <a class="el" href="classonert_1_1compiler_1_1_static_shape_inferer.html">StaticShapeInferer</a> &gt; &gt; onert::compiler::StaticShapeInferer::createStaticShapeInferers </td>
          <td>(</td>
          <td class="paramtype">const std::unordered_map&lt; <a class="el" href="namespaceonert_1_1ir.html#afff9e77cac191f4fcc8c447e4bea053c">ir::SubgraphIndex</a>, std::unique_ptr&lt; <a class="el" href="classonert_1_1compiler_1_1_lowered_graph.html">LoweredGraph</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>lowered_subgs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a lowered model shape inferer map. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lowered_subgs</td><td>lowered model subgraph map </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Shape inferer map </dd></dl>

<p class="definition">Definition at line <a class="el" href="_static_shape_inferer_8cc_source.html#l00194">194</a> of file <a class="el" href="_static_shape_inferer_8cc_source.html">StaticShapeInferer.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  196</span>{</div>
<div class="line"><span class="lineno">  197</span>  <span class="comment">// Allocate StaticShapeInferer per each subgraph</span></div>
<div class="line"><span class="lineno">  198</span>  std::unordered_map&lt;ir::SubgraphIndex, std::unique_ptr&lt;StaticShapeInferer&gt;&gt; inferers;</div>
<div class="line"><span class="lineno">  199</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;pair : lowered_subgs)</div>
<div class="line"><span class="lineno">  200</span>  {</div>
<div class="line"><span class="lineno">  201</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;subg_index = pair.first;</div>
<div class="line"><span class="lineno">  202</span>    <span class="keyword">auto</span> &amp;lowered_subg = pair.second;</div>
<div class="line"><span class="lineno">  203</span>    inferers[subg_index] = std::make_unique&lt;StaticShapeInferer&gt;(lowered_subg.get());</div>
<div class="line"><span class="lineno">  204</span>  }</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span>  <span class="comment">// Append observers in all StaticShapeInferers</span></div>
<div class="line"><span class="lineno">  207</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;pair : lowered_subgs)</div>
<div class="line"><span class="lineno">  208</span>  {</div>
<div class="line"><span class="lineno">  209</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;subg_index = pair.first;</div>
<div class="line"><span class="lineno">  210</span>    <span class="keyword">auto</span> &amp;lowered_subg = pair.second;</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>    <span class="comment">// TODO: Change this iteration for all to controlflow iteration</span></div>
<div class="line"><span class="lineno">  213</span>    lowered_subg-&gt;graph().operations().iterate(</div>
<div class="line"><span class="lineno">  214</span>      [&amp;](<span class="keyword">const</span> <a class="code hl_typedef" href="namespaceonert_1_1ir.html#a96178eda8f56c7ef3d89961856ace347">ir::OperationIndex</a> &amp;, <span class="keyword">const</span> ir::Operation &amp;op) {</div>
<div class="line"><span class="lineno">  215</span>        <span class="comment">// A Function to append child inferers. These make it possible for a StaticShapeInferer to</span></div>
<div class="line"><span class="lineno">  216</span>        <span class="comment">// call StaticShapeInferes of child subgraphs recursively</span></div>
<div class="line"><span class="lineno">  217</span>        <span class="keyword">auto</span> <a class="code hl_function" href="classonert_1_1compiler_1_1_static_shape_inferer.html#a6fd33b799786e1595152848a18b1858d">appendChildInferer</a> = [&amp;](<span class="keyword">const</span> <a class="code hl_typedef" href="namespaceonert_1_1ir.html#afff9e77cac191f4fcc8c447e4bea053c">ir::SubgraphIndex</a> &amp;child_subg_idx) {</div>
<div class="line"><span class="lineno">  218</span>          <span class="keyword">auto</span> *child_inferer = inferers.at(child_subg_idx).get();</div>
<div class="line"><span class="lineno">  219</span>          inferers.at(subg_index)-&gt;appendChildInferer(child_subg_idx, child_inferer);</div>
<div class="line"><span class="lineno">  220</span>        };</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>        <span class="comment">// A Function to appaend subg input observers. This makes it possible for a</span></div>
<div class="line"><span class="lineno">  223</span>        <span class="comment">// StaticShapeInferer to update inputs of child subgraphs</span></div>
<div class="line"><span class="lineno">  224</span>        <span class="keyword">auto</span> appendSubgraphInputObserver = [&amp;](<span class="keyword">const</span> <a class="code hl_typedef" href="namespaceonert_1_1ir.html#afff9e77cac191f4fcc8c447e4bea053c">ir::SubgraphIndex</a> &amp;child_subg_idx) {</div>
<div class="line"><span class="lineno">  225</span>          std::vector&lt;ir::Operand *&gt; child_subg_inputs;</div>
<div class="line"><span class="lineno">  226</span>          <span class="keyword">auto</span> &amp;child_subg = lowered_subgs.at(child_subg_idx)-&gt;graph();</div>
<div class="line"><span class="lineno">  227</span>          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;input_idx : child_subg.getInputs())</div>
<div class="line"><span class="lineno">  228</span>          {</div>
<div class="line"><span class="lineno">  229</span>            <span class="keyword">auto</span> operand_ptr = child_subg.operands().getRawPtr(input_idx);</div>
<div class="line"><span class="lineno">  230</span>            child_subg_inputs.emplace_back(operand_ptr);</div>
<div class="line"><span class="lineno">  231</span>          }</div>
<div class="line"><span class="lineno">  232</span>          inferers.at(subg_index)</div>
<div class="line"><span class="lineno">  233</span>            -&gt;appendSubgInputObserver(child_subg_idx,</div>
<div class="line"><span class="lineno">  234</span>                                      std::make_unique&lt;OperandObserver&gt;(child_subg_inputs));</div>
<div class="line"><span class="lineno">  235</span>        };</div>
<div class="line"><span class="lineno">  236</span> </div>
<div class="line"><span class="lineno">  237</span>        <span class="comment">// A Function to set controlflow output observers. This makes it possible for a</span></div>
<div class="line"><span class="lineno">  238</span>        <span class="comment">// StaticShapeInferer to update outputs of parent controlflow opeerations</span></div>
<div class="line"><span class="lineno">  239</span>        <span class="keyword">auto</span> setControlFlowOutputObserver = [&amp;](<span class="keyword">const</span> <a class="code hl_typedef" href="namespaceonert_1_1ir.html#afff9e77cac191f4fcc8c447e4bea053c">ir::SubgraphIndex</a> &amp;child_subg_idx) {</div>
<div class="line"><span class="lineno">  240</span>          std::vector&lt;ir::Operand *&gt; cf_outputs;</div>
<div class="line"><span class="lineno">  241</span>          <span class="keyword">auto</span> &amp;subg = lowered_subg-&gt;graph();</div>
<div class="line"><span class="lineno">  242</span>          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;output_idx : op.getOutputs())</div>
<div class="line"><span class="lineno">  243</span>          {</div>
<div class="line"><span class="lineno">  244</span>            <span class="keyword">auto</span> operand_ptr = subg.operands().getRawPtr(output_idx);</div>
<div class="line"><span class="lineno">  245</span>            cf_outputs.emplace_back(operand_ptr);</div>
<div class="line"><span class="lineno">  246</span>          }</div>
<div class="line"><span class="lineno">  247</span>          inferers.at(child_subg_idx)</div>
<div class="line"><span class="lineno">  248</span>            -&gt;setControlflowOutputObserver(std::make_unique&lt;OperandObserver&gt;(cf_outputs));</div>
<div class="line"><span class="lineno">  249</span>        };</div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span>        <span class="comment">// Append Observers in a StaticShapeInferer</span></div>
<div class="line"><span class="lineno">  252</span>        <span class="keywordflow">if</span> (op.opcode() == ir::OpCode::If)</div>
<div class="line"><span class="lineno">  253</span>        {</div>
<div class="line"><span class="lineno">  254</span>          <span class="keyword">const</span> <span class="keyword">auto</span> &amp;if_op = nnfw::misc::polymorphic_downcast&lt;const ir::operation::If &amp;&gt;(op);</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>          <a class="code hl_function" href="classonert_1_1compiler_1_1_static_shape_inferer.html#a6fd33b799786e1595152848a18b1858d">appendChildInferer</a>(if_op.param().then_subg_index);</div>
<div class="line"><span class="lineno">  257</span>          <a class="code hl_function" href="classonert_1_1compiler_1_1_static_shape_inferer.html#a6fd33b799786e1595152848a18b1858d">appendChildInferer</a>(if_op.param().else_subg_index);</div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span>          appendSubgraphInputObserver(if_op.param().then_subg_index);</div>
<div class="line"><span class="lineno">  260</span>          appendSubgraphInputObserver(if_op.param().else_subg_index);</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span>          setControlFlowOutputObserver(if_op.param().then_subg_index);</div>
<div class="line"><span class="lineno">  263</span>        }</div>
<div class="line"><span class="lineno">  264</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (op.opcode() == ir::OpCode::While)</div>
<div class="line"><span class="lineno">  265</span>        {</div>
<div class="line"><span class="lineno">  266</span>          <span class="keyword">const</span> <span class="keyword">auto</span> &amp;while_op = nnfw::misc::polymorphic_downcast&lt;const ir::operation::While &amp;&gt;(op);</div>
<div class="line"><span class="lineno">  267</span> </div>
<div class="line"><span class="lineno">  268</span>          <a class="code hl_function" href="classonert_1_1compiler_1_1_static_shape_inferer.html#a6fd33b799786e1595152848a18b1858d">appendChildInferer</a>(while_op.param().cond_subg_index);</div>
<div class="line"><span class="lineno">  269</span>          <a class="code hl_function" href="classonert_1_1compiler_1_1_static_shape_inferer.html#a6fd33b799786e1595152848a18b1858d">appendChildInferer</a>(while_op.param().body_subg_index);</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>          appendSubgraphInputObserver(while_op.param().cond_subg_index);</div>
<div class="line"><span class="lineno">  272</span>          appendSubgraphInputObserver(while_op.param().body_subg_index);</div>
<div class="line"><span class="lineno">  273</span> </div>
<div class="line"><span class="lineno">  274</span>          setControlFlowOutputObserver(while_op.param().body_subg_index);</div>
<div class="line"><span class="lineno">  275</span>        }</div>
<div class="line"><span class="lineno">  276</span>      });</div>
<div class="line"><span class="lineno">  277</span>  }</div>
<div class="line"><span class="lineno">  278</span> </div>
<div class="line"><span class="lineno">  279</span>  <span class="keywordflow">return</span> inferers;</div>
<div class="line"><span class="lineno">  280</span>}</div>
<div class="ttc" id="aclassonert_1_1compiler_1_1_static_shape_inferer_html_a6fd33b799786e1595152848a18b1858d"><div class="ttname"><a href="classonert_1_1compiler_1_1_static_shape_inferer.html#a6fd33b799786e1595152848a18b1858d">onert::compiler::StaticShapeInferer::appendChildInferer</a></div><div class="ttdeci">void appendChildInferer(const ir::SubgraphIndex &amp;subg_idx, compiler::StaticShapeInferer *inferer)</div><div class="ttdef"><b>Definition:</b> <a href="_static_shape_inferer_8h_source.html#l00090">StaticShapeInferer.h:90</a></div></div>
<div class="ttc" id="anamespaceonert_1_1ir_html_a96178eda8f56c7ef3d89961856ace347"><div class="ttname"><a href="namespaceonert_1_1ir.html#a96178eda8f56c7ef3d89961856ace347">onert::ir::OperationIndex</a></div><div class="ttdeci">::onert::util::Index&lt; uint32_t, OperationIndexTag &gt; OperationIndex</div><div class="ttdef"><b>Definition:</b> <a href="runtime_2onert_2core_2include_2ir_2_index_8h_source.html#l00030">Index.h:30</a></div></div>
<div class="ttc" id="anamespaceonert_1_1ir_html_afff9e77cac191f4fcc8c447e4bea053c"><div class="ttname"><a href="namespaceonert_1_1ir.html#afff9e77cac191f4fcc8c447e4bea053c">onert::ir::SubgraphIndex</a></div><div class="ttdeci">::onert::util::Index&lt; uint16_t, SubgraphIndexTag &gt; SubgraphIndex</div><div class="ttdef"><b>Definition:</b> <a href="runtime_2onert_2core_2include_2ir_2_index_8h_source.html#l00039">Index.h:39</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_static_shape_inferer_8h_source.html#l00090">appendChildInferer()</a>, <a class="el" href="runtime_2onert_2core_2include_2ir_2_operation_8h_source.html#l00061">onert::ir::Operation::getOutputs()</a>, and <a class="el" href="classonert_1_1ir_1_1_operation.html#ae3e4b8ce8ebe921aeb805a0edae6a83e">onert::ir::Operation::opcode()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_compiler_8cc_source.html#l00054">onert::compiler::Compiler::compile()</a>, and <a class="el" href="_multi_model_compiler_8cc_source.html#l00051">onert::compiler::MultiModelCompiler::compile()</a>.</p>

</div>
</div>
<a id="a7b929b0bae17b6236df9a113c625018d" name="a7b929b0bae17b6236df9a113c625018d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b929b0bae17b6236df9a113c625018d">&#9670;&#160;</a></span>dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void onert::compiler::StaticShapeInferer::dump </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_static_shape_inferer_8cc_source.html#l00169">169</a> of file <a class="el" href="_static_shape_inferer_8cc_source.html">StaticShapeInferer.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  170</span>{</div>
<div class="line"><span class="lineno">  171</span>  <span class="keyword">auto</span> get_shape_str = [](<span class="keyword">const</span> ir::Shape &amp;shape) {</div>
<div class="line"><span class="lineno">  172</span>    std::stringstream sstream;</div>
<div class="line"><span class="lineno">  173</span>    sstream &lt;&lt; <span class="stringliteral">&quot;shape : {&quot;</span>;</div>
<div class="line"><span class="lineno">  174</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; shape.rank(); i++)</div>
<div class="line"><span class="lineno">  175</span>    {</div>
<div class="line"><span class="lineno">  176</span>      <span class="keywordflow">if</span> (i == 0)</div>
<div class="line"><span class="lineno">  177</span>        sstream &lt;&lt; shape.dim(i);</div>
<div class="line"><span class="lineno">  178</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  179</span>        sstream &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; shape.dim(i);</div>
<div class="line"><span class="lineno">  180</span>    }</div>
<div class="line"><span class="lineno">  181</span>    sstream &lt;&lt; <span class="stringliteral">&quot;}&quot;</span>;</div>
<div class="line"><span class="lineno">  182</span>    <span class="keywordflow">return</span> sstream.str();</div>
<div class="line"><span class="lineno">  183</span>  };</div>
<div class="line"><span class="lineno">  184</span> </div>
<div class="line"><span class="lineno">  185</span>  _lowered_subg-&gt;<a class="code hl_function" href="classonert_1_1compiler_1_1_lowered_graph.html#a305319d758a4dc30f3606e680d30af96">graph</a>().<a class="code hl_function" href="classonert_1_1ir_1_1_graph.html#a22112007ffac1f6dcfced6eb000639b2">operands</a>().<a class="code hl_function" href="classonert_1_1util_1_1_object_manager.html#ac73c1ef157e3bbe47709a786ebc6aae2">iterate</a>(</div>
<div class="line"><span class="lineno">  186</span>    [&amp;](<span class="keyword">const</span> <a class="code hl_typedef" href="namespaceonert_1_1ir.html#ae9d6514c748e05f0254717f688bc458f">ir::OperandIndex</a> &amp;ind, <span class="keyword">const</span> ir::Operand &amp;operand) {</div>
<div class="line"><span class="lineno">  187</span>      <a class="code hl_define" href="luci_2log_2include_2luci_2_log_8h.html#a212d71bce44cd84d4fe678058cd5eccd">VERBOSE</a>(StaticShapeInferer) &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; ind &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line"><span class="lineno">  188</span>                                  &lt;&lt; (operand.info().isDynamic() ? <span class="stringliteral">&quot;Dynamic&quot;</span> : <span class="stringliteral">&quot;Static&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line"><span class="lineno">  189</span>                                  &lt;&lt; get_shape_str(operand.info().shape()) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  190</span>    });</div>
<div class="line"><span class="lineno">  191</span>}</div>
<div class="ttc" id="aclassonert_1_1compiler_1_1_lowered_graph_html_a305319d758a4dc30f3606e680d30af96"><div class="ttname"><a href="classonert_1_1compiler_1_1_lowered_graph.html#a305319d758a4dc30f3606e680d30af96">onert::compiler::LoweredGraph::graph</a></div><div class="ttdeci">ir::Graph &amp; graph()</div><div class="ttdef"><b>Definition:</b> <a href="_lowered_graph_8h_source.html#l00040">LoweredGraph.h:40</a></div></div>
<div class="ttc" id="aclassonert_1_1ir_1_1_graph_html_a22112007ffac1f6dcfced6eb000639b2"><div class="ttname"><a href="classonert_1_1ir_1_1_graph.html#a22112007ffac1f6dcfced6eb000639b2">onert::ir::Graph::operands</a></div><div class="ttdeci">const Operands &amp; operands() const</div><div class="ttdef"><b>Definition:</b> <a href="runtime_2onert_2core_2include_2ir_2_graph_8h_source.html#l00125">Graph.h:125</a></div></div>
<div class="ttc" id="aclassonert_1_1util_1_1_object_manager_html_ac73c1ef157e3bbe47709a786ebc6aae2"><div class="ttname"><a href="classonert_1_1util_1_1_object_manager.html#ac73c1ef157e3bbe47709a786ebc6aae2">onert::util::ObjectManager::iterate</a></div><div class="ttdeci">void iterate(const std::function&lt; void(const Index &amp;, const Object &amp;)&gt; &amp;fn) const</div><div class="ttdoc">Iterate over the container with given function.</div><div class="ttdef"><b>Definition:</b> <a href="runtime_2onert_2core_2include_2util_2_object_manager_8h_source.html#l00186">ObjectManager.h:186</a></div></div>
<div class="ttc" id="aluci_2log_2include_2luci_2_log_8h_html_a212d71bce44cd84d4fe678058cd5eccd"><div class="ttname"><a href="luci_2log_2include_2luci_2_log_8h.html#a212d71bce44cd84d4fe678058cd5eccd">VERBOSE</a></div><div class="ttdeci">#define VERBOSE(name, lv)</div><div class="ttdef"><b>Definition:</b> <a href="luci_2log_2include_2luci_2_log_8h_source.html#l00071">Log.h:71</a></div></div>
<div class="ttc" id="anamespaceonert_1_1ir_html_ae9d6514c748e05f0254717f688bc458f"><div class="ttname"><a href="namespaceonert_1_1ir.html#ae9d6514c748e05f0254717f688bc458f">onert::ir::OperandIndex</a></div><div class="ttdeci">::onert::util::Index&lt; uint32_t, OperandIndexTag &gt; OperandIndex</div><div class="ttdef"><b>Definition:</b> <a href="runtime_2onert_2core_2include_2ir_2_index_8h_source.html#l00033">Index.h:33</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_lowered_graph_8h_source.html#l00040">onert::compiler::LoweredGraph::graph()</a>, <a class="el" href="runtime_2onert_2core_2include_2ir_2_operand_8h_source.html#l00048">onert::ir::Operand::info()</a>, <a class="el" href="_operand_info_8h_source.html#l00136">onert::ir::OperandInfo::isDynamic()</a>, <a class="el" href="runtime_2onert_2core_2include_2util_2_object_manager_8h_source.html#l00186">onert::util::ObjectManager&lt; Index, Object &gt;::iterate()</a>, <a class="el" href="runtime_2onert_2core_2include_2ir_2_graph_8h_source.html#l00125">onert::ir::Graph::operands()</a>, <a class="el" href="_operand_info_8h_source.html#l00094">onert::ir::OperandInfo::shape()</a>, and <a class="el" href="luci_2log_2include_2luci_2_log_8h_source.html#l00071">VERBOSE</a>.</p>

</div>
</div>
<a id="a3c930381de38d7b175256fd53904fba6" name="a3c930381de38d7b175256fd53904fba6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c930381de38d7b175256fd53904fba6">&#9670;&#160;</a></span>infer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void onert::compiler::StaticShapeInferer::infer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Infer shape of operands belonging to ops and set the output shape. If output shape cannot be known without running op, mark it so that it can be allocated when running kernel. </p>

<p class="definition">Definition at line <a class="el" href="_static_shape_inferer_8cc_source.html#l00058">58</a> of file <a class="el" href="_static_shape_inferer_8cc_source.html">StaticShapeInferer.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   59</span>{</div>
<div class="line"><span class="lineno">   60</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;op_idx : _lowered_subg-&gt;<a class="code hl_function" href="classonert_1_1compiler_1_1_lowered_graph.html#a305319d758a4dc30f3606e680d30af96">graph</a>().<a class="code hl_function" href="classonert_1_1ir_1_1_graph.html#a0bb6bcdff8092785afb4f8dca50ecfc5">topolSortOperations</a>())</div>
<div class="line"><span class="lineno">   61</span>  {</div>
<div class="line"><span class="lineno">   62</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;op = _lowered_subg-&gt;<a class="code hl_function" href="classonert_1_1compiler_1_1_lowered_graph.html#a305319d758a4dc30f3606e680d30af96">graph</a>().<a class="code hl_function" href="classonert_1_1ir_1_1_graph.html#a8ae82869b2deebb0f6edd2bbf37a7418">operations</a>().<a class="code hl_function" href="classonert_1_1util_1_1_object_manager.html#adb269e5affe5040bceb6a80b457a01be">at</a>(op_idx);</div>
<div class="line"><span class="lineno">   63</span>    <span class="keywordtype">bool</span> has_dynamic_tensor = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   64</span>    <span class="keyword">const</span> <span class="keyword">auto</span> opcode = op.opcode();</div>
<div class="line"><span class="lineno">   65</span>    <span class="comment">// IF: requires shape inference for then, else</span></div>
<div class="line"><span class="lineno">   66</span>    <span class="comment">// While: requires shape inference for condition, body</span></div>
<div class="line"><span class="lineno">   67</span>    <span class="keywordflow">if</span> (opcode == ir::OpCode::If || opcode == ir::OpCode::While)</div>
<div class="line"><span class="lineno">   68</span>    {</div>
<div class="line"><span class="lineno">   69</span>      op.accept(*<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno">   70</span>    }</div>
<div class="line"><span class="lineno">   71</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   72</span>    {</div>
<div class="line"><span class="lineno">   73</span>      has_dynamic_tensor = checkDynamicInput(op);</div>
<div class="line"><span class="lineno">   74</span>      <span class="keywordflow">if</span> (has_dynamic_tensor)</div>
<div class="line"><span class="lineno">   75</span>      {</div>
<div class="line"><span class="lineno">   76</span>        setDynamicOutput(op);</div>
<div class="line"><span class="lineno">   77</span>      }</div>
<div class="line"><span class="lineno">   78</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   79</span>      {</div>
<div class="line"><span class="lineno">   80</span>        op.accept(*<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno">   81</span>      }</div>
<div class="line"><span class="lineno">   82</span>    }</div>
<div class="line"><span class="lineno">   83</span>    has_dynamic_tensor = has_dynamic_tensor || checkDynamicOutput(op);</div>
<div class="line"><span class="lineno">   84</span>    _lowered_subg-&gt;<a class="code hl_function" href="classonert_1_1compiler_1_1_lowered_graph.html#a59e857ee217b4bc66aa706e3869b874e">setHasDynamicTensor</a>(op_idx, has_dynamic_tensor);</div>
<div class="line"><span class="lineno">   85</span>  }</div>
<div class="line"><span class="lineno">   86</span> </div>
<div class="line"><span class="lineno">   87</span>  <span class="keywordflow">if</span> (_controlflow_output_observer != <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno">   88</span>  {</div>
<div class="line"><span class="lineno">   89</span>    <span class="comment">// re-sizing output shapes of the controflow operation branching to this subgraph</span></div>
<div class="line"><span class="lineno">   90</span>    std::vector&lt;ir::OperandInfo&gt; outputs_info;</div>
<div class="line"><span class="lineno">   91</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_variable" href="namespace_gen_h5_random_inputs.html#ac7f0f74f10011f31ef450dc70f8918af">graph</a> = _lowered_subg-&gt;<a class="code hl_function" href="classonert_1_1compiler_1_1_lowered_graph.html#a305319d758a4dc30f3606e680d30af96">graph</a>();</div>
<div class="line"><span class="lineno">   92</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;outputs = <a class="code hl_variable" href="namespace_gen_h5_random_inputs.html#ac7f0f74f10011f31ef450dc70f8918af">graph</a>.getOutputs();</div>
<div class="line"><span class="lineno">   93</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; outputs.size(); ++i)</div>
<div class="line"><span class="lineno">   94</span>    {</div>
<div class="line"><span class="lineno">   95</span>      <span class="keyword">const</span> <span class="keyword">auto</span> &amp;operand_info = <a class="code hl_variable" href="namespace_gen_h5_random_inputs.html#ac7f0f74f10011f31ef450dc70f8918af">graph</a>.operands().at(outputs.at(i)).info();</div>
<div class="line"><span class="lineno">   96</span>      outputs_info.emplace_back(operand_info);</div>
<div class="line"><span class="lineno">   97</span>    }</div>
<div class="line"><span class="lineno">   98</span>    _controlflow_output_observer-&gt;updateShapes(outputs_info);</div>
<div class="line"><span class="lineno">   99</span>  }</div>
<div class="line"><span class="lineno">  100</span>}</div>
<div class="ttc" id="aclassonert_1_1compiler_1_1_lowered_graph_html_a59e857ee217b4bc66aa706e3869b874e"><div class="ttname"><a href="classonert_1_1compiler_1_1_lowered_graph.html#a59e857ee217b4bc66aa706e3869b874e">onert::compiler::LoweredGraph::setHasDynamicTensor</a></div><div class="ttdeci">void setHasDynamicTensor(ir::OperationIndex ind, bool val)</div><div class="ttdef"><b>Definition:</b> <a href="_lowered_graph_8h_source.html#l00046">LoweredGraph.h:46</a></div></div>
<div class="ttc" id="aclassonert_1_1ir_1_1_graph_html_a0bb6bcdff8092785afb4f8dca50ecfc5"><div class="ttname"><a href="classonert_1_1ir_1_1_graph.html#a0bb6bcdff8092785afb4f8dca50ecfc5">onert::ir::Graph::topolSortOperations</a></div><div class="ttdeci">std::vector&lt; ir::OperationIndex &gt; topolSortOperations() const</div><div class="ttdef"><b>Definition:</b> <a href="_graph_8cc_source.html#l00161">Graph.cc:161</a></div></div>
<div class="ttc" id="aclassonert_1_1ir_1_1_graph_html_a8ae82869b2deebb0f6edd2bbf37a7418"><div class="ttname"><a href="classonert_1_1ir_1_1_graph.html#a8ae82869b2deebb0f6edd2bbf37a7418">onert::ir::Graph::operations</a></div><div class="ttdeci">const Operations &amp; operations() const</div><div class="ttdef"><b>Definition:</b> <a href="runtime_2onert_2core_2include_2ir_2_graph_8h_source.html#l00127">Graph.h:127</a></div></div>
<div class="ttc" id="aclassonert_1_1util_1_1_object_manager_html_adb269e5affe5040bceb6a80b457a01be"><div class="ttname"><a href="classonert_1_1util_1_1_object_manager.html#adb269e5affe5040bceb6a80b457a01be">onert::util::ObjectManager::at</a></div><div class="ttdeci">const Object &amp; at(const Index &amp;index) const</div><div class="ttdoc">Get the object that is associated with the given index.</div><div class="ttdef"><b>Definition:</b> <a href="runtime_2onert_2core_2include_2util_2_object_manager_8h_source.html#l00121">ObjectManager.h:121</a></div></div>
<div class="ttc" id="anamespace_gen_h5_random_inputs_html_ac7f0f74f10011f31ef450dc70f8918af"><div class="ttname"><a href="namespace_gen_h5_random_inputs.html#ac7f0f74f10011f31ef450dc70f8918af">GenH5RandomInputs.graph</a></div><div class="ttdeci">graph</div><div class="ttdef"><b>Definition:</b> <a href="_gen_h5_random_inputs_8py_source.html#l00048">GenH5RandomInputs.py:48</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="runtime_2onert_2core_2include_2util_2_object_manager_8h_source.html#l00121">onert::util::ObjectManager&lt; Index, Object &gt;::at()</a>, <a class="el" href="_lowered_graph_8h_source.html#l00040">onert::compiler::LoweredGraph::graph()</a>, <a class="el" href="runtime_2onert_2core_2include_2ir_2_graph_8h_source.html#l00127">onert::ir::Graph::operations()</a>, <a class="el" href="_lowered_graph_8h_source.html#l00046">onert::compiler::LoweredGraph::setHasDynamicTensor()</a>, and <a class="el" href="_graph_8cc_source.html#l00161">onert::ir::Graph::topolSortOperations()</a>.</p>

</div>
</div>
<a id="a9bb5c3fc5145ab61016a343f33b6faf8" name="a9bb5c3fc5145ab61016a343f33b6faf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bb5c3fc5145ab61016a343f33b6faf8">&#9670;&#160;</a></span>setControlflowOutputObserver()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void onert::compiler::StaticShapeInferer::setControlflowOutputObserver </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classonert_1_1compiler_1_1_operand_observer.html">OperandObserver</a> &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>output_observer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_static_shape_inferer_8h_source.html#l00085">85</a> of file <a class="el" href="_static_shape_inferer_8h_source.html">StaticShapeInferer.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   86</span>  {</div>
<div class="line"><span class="lineno">   87</span>    _controlflow_output_observer = std::move(output_observer);</div>
<div class="line"><span class="lineno">   88</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>runtime/onert/core/include/compiler/<a class="el" href="_static_shape_inferer_8h_source.html">StaticShapeInferer.h</a></li>
<li>runtime/onert/core/src/compiler/<a class="el" href="_static_shape_inferer_8cc_source.html">StaticShapeInferer.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceonert.html">onert</a></li><li class="navelem"><a class="el" href="namespaceonert_1_1compiler.html">compiler</a></li><li class="navelem"><a class="el" href="classonert_1_1compiler_1_1_static_shape_inferer.html">StaticShapeInferer</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
