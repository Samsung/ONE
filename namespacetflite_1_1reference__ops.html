<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ONE - On-device Neural Engine: tflite::reference_ops Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ONE - On-device Neural Engine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('namespacetflite_1_1reference__ops.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">tflite::reference_ops Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html">GatherNdHelperResult</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a48484c4af55919a1b26d57d40df486b7"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a48484c4af55919a1b26d57d40df486b7"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a48484c4af55919a1b26d57d40df486b7">Relu</a> (const RuntimeShape &amp;input_shape, const T *input_data, const RuntimeShape &amp;output_shape, T *output_data)</td></tr>
<tr class="separator:a48484c4af55919a1b26d57d40df486b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3293ba16b45d007a43ac991cd7b8fe11"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a3293ba16b45d007a43ac991cd7b8fe11"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a3293ba16b45d007a43ac991cd7b8fe11">Relu1</a> (const RuntimeShape &amp;input_shape, const T *input_data, const RuntimeShape &amp;output_shape, T *output_data)</td></tr>
<tr class="separator:a3293ba16b45d007a43ac991cd7b8fe11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae925470e0eab006f4a8fa173803c1a24"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#ae925470e0eab006f4a8fa173803c1a24">Relu6</a> (const RuntimeShape &amp;input_shape, const float *input_data, const RuntimeShape &amp;output_shape, float *output_data)</td></tr>
<tr class="separator:ae925470e0eab006f4a8fa173803c1a24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d1befec941404872969d43fc23fecab"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a6d1befec941404872969d43fc23fecab"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a6d1befec941404872969d43fc23fecab">ReluX</a> (const tflite::ReluParams &amp;params, const RuntimeShape &amp;input_shape, const T *input_data, const RuntimeShape &amp;output_shape, T *output_data)</td></tr>
<tr class="separator:a6d1befec941404872969d43fc23fecab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a584ec31500f6592d84a3f2f72c73cebd"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a584ec31500f6592d84a3f2f72c73cebd"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a584ec31500f6592d84a3f2f72c73cebd">ReluX</a> (const tflite::ActivationParams &amp;params, const RuntimeShape &amp;input_shape, const T *input_data, const RuntimeShape &amp;output_shape, T *output_data)</td></tr>
<tr class="separator:a584ec31500f6592d84a3f2f72c73cebd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca81634257d4800e6c5d25d9fd3da086"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#aca81634257d4800e6c5d25d9fd3da086">BroadcastMulFivefold</a> (const ArithmeticParams &amp;unswitched_params, const RuntimeShape &amp;unswitched_input1_shape, const <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *unswitched_input1_data, const RuntimeShape &amp;unswitched_input2_shape, const <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *unswitched_input2_data, const RuntimeShape &amp;output_shape, <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *output_data)</td></tr>
<tr class="separator:aca81634257d4800e6c5d25d9fd3da086"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93b1b0b7d4b90e161a7deb12f6b120a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a93b1b0b7d4b90e161a7deb12f6b120a1">Mul</a> (const ArithmeticParams &amp;params, const RuntimeShape &amp;input1_shape, const <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> *input1_data, const RuntimeShape &amp;input2_shape, const <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> *input2_data, const RuntimeShape &amp;output_shape, <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> *output_data)</td></tr>
<tr class="separator:a93b1b0b7d4b90e161a7deb12f6b120a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cbb042a8910b2a54cc01b147198c9af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a1cbb042a8910b2a54cc01b147198c9af">Mul</a> (const ArithmeticParams &amp;params, const RuntimeShape &amp;input1_shape, const <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> *input1_data, const RuntimeShape &amp;input2_shape, const <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> *input2_data, const RuntimeShape &amp;output_shape, <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *output_data)</td></tr>
<tr class="separator:a1cbb042a8910b2a54cc01b147198c9af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26da6c958ae0c54fdda2919e683a3107"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a26da6c958ae0c54fdda2919e683a3107">Sub16</a> (const ArithmeticParams &amp;params, const RuntimeShape &amp;input1_shape, const int16_t *input1_data, const RuntimeShape &amp;input2_shape, const int16_t *input2_data, const RuntimeShape &amp;output_shape, int16_t *output_data)</td></tr>
<tr class="separator:a26da6c958ae0c54fdda2919e683a3107"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8d5cc06793963a3880f564ae2744404"><td class="memTemplParams" colspan="2">template&lt;typename Scalar &gt; </td></tr>
<tr class="memitem:ab8d5cc06793963a3880f564ae2744404"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#ab8d5cc06793963a3880f564ae2744404">Pack</a> (const PackParams &amp;params, const RuntimeShape *const *input_shapes, const Scalar *const *input_data, const RuntimeShape &amp;output_shape, Scalar *output_data)</td></tr>
<tr class="separator:ab8d5cc06793963a3880f564ae2744404"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee588f8fd7ff0c851e3ed76e424f7383"><td class="memTemplParams" colspan="2">template&lt;typename Scalar &gt; </td></tr>
<tr class="memitem:aee588f8fd7ff0c851e3ed76e424f7383"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#aee588f8fd7ff0c851e3ed76e424f7383">Unpack</a> (const UnpackParams &amp;params, const RuntimeShape &amp;input_shape, const Scalar *input_data, const RuntimeShape &amp;output_shape, Scalar *const *output_datas)</td></tr>
<tr class="separator:aee588f8fd7ff0c851e3ed76e424f7383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab420aab0d44c8ef32a3d7b2aa6787fac"><td class="memTemplParams" colspan="2">template&lt;typename Scalar &gt; </td></tr>
<tr class="memitem:ab420aab0d44c8ef32a3d7b2aa6787fac"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#ab420aab0d44c8ef32a3d7b2aa6787fac">PackWithScaling</a> (const PackParams &amp;params, const RuntimeShape *const *input_shapes, const <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *const *input_data, const RuntimeShape &amp;output_shape, <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *output_data)</td></tr>
<tr class="separator:ab420aab0d44c8ef32a3d7b2aa6787fac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab391fc0611d267f426d4423e8c39aabc"><td class="memTemplParams" colspan="2">template&lt;typename Scalar &gt; </td></tr>
<tr class="memitem:ab391fc0611d267f426d4423e8c39aabc"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#ab391fc0611d267f426d4423e8c39aabc">DepthConcatenation</a> (const ConcatenationParams &amp;params, const RuntimeShape *const *input_shapes, const Scalar *const *input_data, const RuntimeShape &amp;output_shape, Scalar *output_data)</td></tr>
<tr class="separator:ab391fc0611d267f426d4423e8c39aabc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2da4a98ea8c598133e34cabcd103d9d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a2da4a98ea8c598133e34cabcd103d9d9">LstmCell</a> (const LstmCellParams &amp;params, const RuntimeShape &amp;unextended_input_shape, const float *input_data, const RuntimeShape &amp;unextended_prev_activ_shape, const float *prev_activ_data, const RuntimeShape &amp;weights_shape, const float *weights_data, const RuntimeShape &amp;unextended_bias_shape, const float *bias_data, const RuntimeShape &amp;unextended_prev_state_shape, const float *prev_state_data, const RuntimeShape &amp;unextended_output_state_shape, float *output_state_data, const RuntimeShape &amp;unextended_output_activ_shape, float *output_activ_data, const RuntimeShape &amp;unextended_concat_temp_shape, float *concat_temp_data, const RuntimeShape &amp;unextended_activ_temp_shape, float *activ_temp_data)</td></tr>
<tr class="separator:a2da4a98ea8c598133e34cabcd103d9d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a987e96858b96fbe5f214c37a5a871f8f"><td class="memTemplParams" colspan="2">template&lt;int StateIntegerBits&gt; </td></tr>
<tr class="memitem:a987e96858b96fbe5f214c37a5a871f8f"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a987e96858b96fbe5f214c37a5a871f8f">LstmCell</a> (const LstmCellParams &amp;params, const RuntimeShape &amp;unextended_input_shape, const <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *input_data_uint8, const RuntimeShape &amp;unextended_prev_activ_shape, const <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *prev_activ_data_uint8, const RuntimeShape &amp;weights_shape, const <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *weights_data_uint8, const RuntimeShape &amp;unextended_bias_shape, const <a class="el" href="topk__v2_8h.html#ab7903878916593daecbeb95b98115ab0">int32</a> *bias_data_int32, const RuntimeShape &amp;unextended_prev_state_shape, const <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> *prev_state_data_int16, const RuntimeShape &amp;unextended_output_state_shape, <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> *output_state_data_int16, const RuntimeShape &amp;unextended_output_activ_shape, <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *output_activ_data_uint8, const RuntimeShape &amp;unextended_concat_temp_shape, <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *concat_temp_data_uint8, const RuntimeShape &amp;unextended_activ_temp_shape, <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> *activ_temp_data_int16, void *gemmlowp_context)</td></tr>
<tr class="separator:a987e96858b96fbe5f214c37a5a871f8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af32af7cfa302e051cd9b5551db8c6182"><td class="memTemplParams" colspan="2">template&lt;typename Scalar &gt; </td></tr>
<tr class="memitem:af32af7cfa302e051cd9b5551db8c6182"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#af32af7cfa302e051cd9b5551db8c6182">Split</a> (const SplitParams &amp;params, const RuntimeShape &amp;input_shape, const Scalar *input_data, const RuntimeShape *const *output_shapes, Scalar *const *output_data)</td></tr>
<tr class="separator:af32af7cfa302e051cd9b5551db8c6182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad25c386ad338ae43ace667a04f011ab4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#ad25c386ad338ae43ace667a04f011ab4">NodeOffset</a> (int b, int h, int w, int height, int width)</td></tr>
<tr class="separator:ad25c386ad338ae43ace667a04f011ab4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22d946352e7c3646592ff66c8d827f3e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a22d946352e7c3646592ff66c8d827f3e">LocalResponseNormalization</a> (const tflite::LocalResponseNormalizationParams &amp;op_params, const RuntimeShape &amp;input_shape, const float *input_data, const RuntimeShape &amp;output_shape, float *output_data)</td></tr>
<tr class="separator:a22d946352e7c3646592ff66c8d827f3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38a3a9e11bc655f8e94a58313e236e26"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a38a3a9e11bc655f8e94a58313e236e26">Dequantize</a> (const RuntimeShape &amp;input_shape, const Eigen::half *input_data, const RuntimeShape &amp;output_shape, float *output_data)</td></tr>
<tr class="separator:a38a3a9e11bc655f8e94a58313e236e26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26741bf3e0a1fb0e6b9014bcc3a7fb34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a26741bf3e0a1fb0e6b9014bcc3a7fb34">FakeQuant</a> (const tflite::FakeQuantParams &amp;op_params, const RuntimeShape &amp;input_shape, const float *input_data, const RuntimeShape &amp;output_shape, float *output_data)</td></tr>
<tr class="separator:a26741bf3e0a1fb0e6b9014bcc3a7fb34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ff6b571ca7bb6abd8025f55b31926e9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html">GatherNdHelperResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a4ff6b571ca7bb6abd8025f55b31926e9">GatherNdHelper</a> (const RuntimeShape &amp;params_shape, const RuntimeShape &amp;indices_shape)</td></tr>
<tr class="separator:a4ff6b571ca7bb6abd8025f55b31926e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a147fdc60b816c6a43cacfafb177551be"><td class="memTemplParams" colspan="2">template&lt;typename ParamsT , typename IndicesT  = int32&gt; </td></tr>
<tr class="memitem:a147fdc60b816c6a43cacfafb177551be"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a147fdc60b816c6a43cacfafb177551be">GatherNd</a> (const RuntimeShape &amp;params_shape, const ParamsT *params_data, const RuntimeShape &amp;indices_shape, const IndicesT *indices_data, const RuntimeShape &amp;output_shape, ParamsT *output_data)</td></tr>
<tr class="separator:a147fdc60b816c6a43cacfafb177551be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a597e281a6e2f37292131019e9cd9cff6"><td class="memTemplParams" colspan="2">template&lt;typename IndicesT  = int32&gt; </td></tr>
<tr class="memitem:a597e281a6e2f37292131019e9cd9cff6"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a597e281a6e2f37292131019e9cd9cff6">GatherNdString</a> (const RuntimeShape &amp;params_shape, const TfLiteTensor *params_data, const RuntimeShape &amp;indices_shape, const IndicesT *indices_data, const RuntimeShape &amp;output_shape, TfLiteTensor *output_data)</td></tr>
<tr class="separator:a597e281a6e2f37292131019e9cd9cff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd3ca61646e93f592e2fa9e046ea5fb7"><td class="memTemplParams" colspan="2">template&lt;typename IndicesT , typename UpdatesT &gt; </td></tr>
<tr class="memitem:afd3ca61646e93f592e2fa9e046ea5fb7"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#afd3ca61646e93f592e2fa9e046ea5fb7">ScatterNd</a> (const RuntimeShape &amp;indices_shape, const IndicesT *indices_data, const RuntimeShape &amp;updates_shape, const UpdatesT *updates_data, const RuntimeShape &amp;output_shape, UpdatesT *output_data)</td></tr>
<tr class="separator:afd3ca61646e93f592e2fa9e046ea5fb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3a82cc36f8d187c7cc7c1d54ea8823a"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:aa3a82cc36f8d187c7cc7c1d54ea8823a"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#aa3a82cc36f8d187c7cc7c1d54ea8823a">Slice</a> (const tflite::SliceParams &amp;op_params, const RuntimeShape &amp;input_shape, const RuntimeShape &amp;output_shape, SequentialTensorWriter&lt; T &gt; *writer)</td></tr>
<tr class="separator:aa3a82cc36f8d187c7cc7c1d54ea8823a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdbd930de35a4e2bab9c1d07be8292f3"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:acdbd930de35a4e2bab9c1d07be8292f3"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#acdbd930de35a4e2bab9c1d07be8292f3">Slice</a> (const tflite::SliceParams &amp;op_params, const RuntimeShape &amp;input_shape, const T *input_data, const RuntimeShape &amp;output_shape, T *output_data)</td></tr>
<tr class="separator:acdbd930de35a4e2bab9c1d07be8292f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeee67b87383de3d7041c0cc0499f3450"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:aeee67b87383de3d7041c0cc0499f3450"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#aeee67b87383de3d7041c0cc0499f3450">Slice</a> (const tflite::SliceParams &amp;op_params, const RuntimeShape &amp;input_shape, const TfLiteTensor *input, const RuntimeShape &amp;output_shape, TfLiteTensor *output)</td></tr>
<tr class="separator:aeee67b87383de3d7041c0cc0499f3450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f84e456857e3dcb9390c19e22746045"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a7f84e456857e3dcb9390c19e22746045"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a7f84e456857e3dcb9390c19e22746045">Minimum</a> (const RuntimeShape &amp;input1_shape, const T *input1_data, const T *input2_data, const RuntimeShape &amp;output_shape, T *output_data)</td></tr>
<tr class="separator:a7f84e456857e3dcb9390c19e22746045"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a728abbca6372288df2090a720ca312b3"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a728abbca6372288df2090a720ca312b3"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a728abbca6372288df2090a720ca312b3">Minimum</a> (const RuntimeShape &amp;input1_shape, const T *input1_data, const RuntimeShape &amp;, const T *input2_data, const RuntimeShape &amp;output_shape, T *output_data)</td></tr>
<tr class="separator:a728abbca6372288df2090a720ca312b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3b384754e031b093a289db3290dae5c"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:af3b384754e031b093a289db3290dae5c"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#af3b384754e031b093a289db3290dae5c">Maximum</a> (const RuntimeShape &amp;input1_shape, const T *input1_data, const T *input2_data, const RuntimeShape &amp;output_shape, T *output_data)</td></tr>
<tr class="separator:af3b384754e031b093a289db3290dae5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a141c7c0947fa0aee69d80429223e711c"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a141c7c0947fa0aee69d80429223e711c"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a141c7c0947fa0aee69d80429223e711c">Maximum</a> (const RuntimeShape &amp;input1_shape, const T *input1_data, const RuntimeShape &amp;, const T *input2_data, const RuntimeShape &amp;output_shape, T *output_data)</td></tr>
<tr class="separator:a141c7c0947fa0aee69d80429223e711c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64b9eee778a750ccc4d2939c5dd2eafe"><td class="memTemplParams" colspan="2">template&lt;typename T1 , typename T2 , typename T3 &gt; </td></tr>
<tr class="memitem:a64b9eee778a750ccc4d2939c5dd2eafe"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a64b9eee778a750ccc4d2939c5dd2eafe">ArgMax</a> (const RuntimeShape &amp;input1_shape, const T1 *input1_data, const T3 *input2_data, const RuntimeShape &amp;output_shape, T2 *output_data)</td></tr>
<tr class="separator:a64b9eee778a750ccc4d2939c5dd2eafe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d5808f246fb5659c0bd9441491317d6"><td class="memTemplParams" colspan="2">template&lt;typename T1 , typename T2 , typename T3 &gt; </td></tr>
<tr class="memitem:a4d5808f246fb5659c0bd9441491317d6"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a4d5808f246fb5659c0bd9441491317d6">ArgMax</a> (const RuntimeShape &amp;input1_shape, const T1 *input1_data, const RuntimeShape &amp;input2_shape, const T3 *input2_data, const RuntimeShape &amp;output_shape, T2 *output_data)</td></tr>
<tr class="separator:a4d5808f246fb5659c0bd9441491317d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70a86b550a5376939a6b070130a21c1b"><td class="memTemplParams" colspan="2">template&lt;typename D , typename T &gt; </td></tr>
<tr class="memitem:a70a86b550a5376939a6b070130a21c1b"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a70a86b550a5376939a6b070130a21c1b">Select</a> (const RuntimeShape &amp;input_condition_shape, const D *input_condition_data, const RuntimeShape &amp;input_x_shape, const T *input_x_data, const RuntimeShape &amp;input_y_shape, const T *input_y_data, const RuntimeShape &amp;output_shape, T *output_data)</td></tr>
<tr class="separator:a70a86b550a5376939a6b070130a21c1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8823474ca8abbdb3cf4c1b8f8414eb0e"><td class="memTemplParams" colspan="2">template&lt;typename D , typename T &gt; </td></tr>
<tr class="memitem:a8823474ca8abbdb3cf4c1b8f8414eb0e"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a8823474ca8abbdb3cf4c1b8f8414eb0e">RankOneSelect</a> (const RuntimeShape &amp;input_condition_shape, const D *input_condition_data, const RuntimeShape &amp;input_x_shape, const T *input_x_data, const RuntimeShape &amp;input_y_shape, const T *input_y_data, const RuntimeShape &amp;output_shape, T *output_data)</td></tr>
<tr class="separator:a8823474ca8abbdb3cf4c1b8f8414eb0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a794d26c909176e9e66ec4d676a68941d"><td class="memTemplParams" colspan="2">template&lt;typename D , typename T &gt; </td></tr>
<tr class="memitem:a794d26c909176e9e66ec4d676a68941d"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a794d26c909176e9e66ec4d676a68941d">BroadcastSelect4DSlow</a> (const RuntimeShape &amp;input_condition_shape, const D *input_condition_data, const RuntimeShape &amp;input_x_shape, const T *input_x_data, const RuntimeShape &amp;input_y_shape, const T *input_y_data, const RuntimeShape &amp;output_shape, T *output_data)</td></tr>
<tr class="separator:a794d26c909176e9e66ec4d676a68941d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c5e7c05aa64532ff575876202474d73"><td class="memTemplParams" colspan="2">template&lt;typename D , typename T &gt; </td></tr>
<tr class="memitem:a9c5e7c05aa64532ff575876202474d73"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a9c5e7c05aa64532ff575876202474d73">SelectTrueCoords</a> (const RuntimeShape &amp;input_condition_shape, const D *input_condition_data, T *output_data)</td></tr>
<tr class="separator:a9c5e7c05aa64532ff575876202474d73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61d3fcb3794da1b3df276c1a8e35aa3c"><td class="memTemplParams" colspan="2">template&lt;typename T , typename TI &gt; </td></tr>
<tr class="memitem:a61d3fcb3794da1b3df276c1a8e35aa3c"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a61d3fcb3794da1b3df276c1a8e35aa3c">SparseToDense</a> (const std::vector&lt; std::vector&lt; TI &gt; &gt; &amp;indices, const T *values, T default_value, bool value_is_scalar, const RuntimeShape &amp;unextended_output_shape, T *output_data)</td></tr>
<tr class="separator:a61d3fcb3794da1b3df276c1a8e35aa3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a4c2f62ac2c7b27d513aa8446a8fca6"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a8a4c2f62ac2c7b27d513aa8446a8fca6"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a8a4c2f62ac2c7b27d513aa8446a8fca6">Pow</a> (const RuntimeShape &amp;input1_shape, const T *input1_data, const RuntimeShape &amp;input2_shape, const T *input2_data, const RuntimeShape &amp;output_shape, T *output_data)</td></tr>
<tr class="separator:a8a4c2f62ac2c7b27d513aa8446a8fca6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7146cd650887d79d050376c8aa586064"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a7146cd650887d79d050376c8aa586064"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a7146cd650887d79d050376c8aa586064">BroadcastPow4DSlow</a> (const RuntimeShape &amp;unextended_input1_shape, const T *input1_data, const RuntimeShape &amp;unextended_input2_shape, const T *input2_data, const RuntimeShape &amp;unextended_output_shape, T *output_data)</td></tr>
<tr class="separator:a7146cd650887d79d050376c8aa586064"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae03d7aa2131ec45a3230b2ffd31db5a7"><td class="memTemplParams" colspan="2">template&lt;typename Scalar &gt; </td></tr>
<tr class="memitem:ae03d7aa2131ec45a3230b2ffd31db5a7"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#ae03d7aa2131ec45a3230b2ffd31db5a7">Reverse</a> (int axis, const RuntimeShape &amp;input_shape, const Scalar *input_data, const RuntimeShape &amp;output_shape, Scalar *output_data)</td></tr>
<tr class="separator:ae03d7aa2131ec45a3230b2ffd31db5a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a776948853856336ae0b5d060a2b1e3d0"><td class="memTemplParams" colspan="2">template&lt;typename Scalar , typename TS &gt; </td></tr>
<tr class="memitem:a776948853856336ae0b5d060a2b1e3d0"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#a776948853856336ae0b5d060a2b1e3d0">ReverseSequence</a> (const TS *seq_lengths, const int seq_dim, const int batch_dim, const RuntimeShape &amp;input_shape, const Scalar *input_data, const RuntimeShape &amp;output_shape, Scalar *output_data)</td></tr>
<tr class="separator:a776948853856336ae0b5d060a2b1e3d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7d13895af79b810b442e9d1c1c7d524"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:aa7d13895af79b810b442e9d1c1c7d524"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetflite_1_1reference__ops.html#aa7d13895af79b810b442e9d1c1c7d524">SegmentSum</a> (const RuntimeShape &amp;input_shape, const T *input_data, const RuntimeShape &amp;segment_ids_shape, const int32_t *segment_ids_data, const RuntimeShape &amp;output_shape, T *output_data)</td></tr>
<tr class="separator:aa7d13895af79b810b442e9d1c1c7d524"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a4d5808f246fb5659c0bd9441491317d6" name="a4d5808f246fb5659c0bd9441491317d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d5808f246fb5659c0bd9441491317d6">&#9670;&#160;</a></span>ArgMax() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T1 , typename T2 , typename T3 &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::ArgMax </td>
          <td>(</td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input1_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T1 *&#160;</td>
          <td class="paramname"><em>input1_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input2_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T3 *&#160;</td>
          <td class="paramname"><em>input2_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T2 *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01188">1188</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1191</span>{</div>
<div class="line"><span class="lineno"> 1192</span>  <span class="comment">// Drop shape of second input: not needed.</span></div>
<div class="line"><span class="lineno"> 1193</span>  <a class="code hl_function" href="namespacetflite_1_1reference__ops.html#a64b9eee778a750ccc4d2939c5dd2eafe">ArgMax</a>(input1_shape, input1_data, input2_data, output_shape, output_data);</div>
<div class="line"><span class="lineno"> 1194</span>}</div>
<div class="ttc" id="anamespacetflite_1_1reference__ops_html_a64b9eee778a750ccc4d2939c5dd2eafe"><div class="ttname"><a href="namespacetflite_1_1reference__ops.html#a64b9eee778a750ccc4d2939c5dd2eafe">tflite::reference_ops::ArgMax</a></div><div class="ttdeci">void ArgMax(const RuntimeShape &amp;input1_shape, const T1 *input1_data, const T3 *input2_data, const RuntimeShape &amp;output_shape, T2 *output_data)</div><div class="ttdef"><b>Definition:</b> <a href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01179">PALreference_ops.h:1179</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01179">ArgMax()</a>.</p>

</div>
</div>
<a id="a64b9eee778a750ccc4d2939c5dd2eafe" name="a64b9eee778a750ccc4d2939c5dd2eafe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64b9eee778a750ccc4d2939c5dd2eafe">&#9670;&#160;</a></span>ArgMax() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T1 , typename T2 , typename T3 &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::ArgMax </td>
          <td>(</td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input1_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T1 *&#160;</td>
          <td class="paramname"><em>input1_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T3 *&#160;</td>
          <td class="paramname"><em>input2_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T2 *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01179">1179</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1181</span>{</div>
<div class="line"><span class="lineno"> 1182</span>  ArgMinMax(input1_shape, input1_data, input2_data, output_shape, output_data, std::greater&lt;T1&gt;());</div>
<div class="line"><span class="lineno"> 1183</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01188">ArgMax()</a>.</p>

</div>
</div>
<a id="aca81634257d4800e6c5d25d9fd3da086" name="aca81634257d4800e6c5d25d9fd3da086"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca81634257d4800e6c5d25d9fd3da086">&#9670;&#160;</a></span>BroadcastMulFivefold()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::BroadcastMulFivefold </td>
          <td>(</td>
          <td class="paramtype">const ArithmeticParams &amp;&#160;</td>
          <td class="paramname"><em>unswitched_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>unswitched_input1_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *&#160;</td>
          <td class="paramname"><em>unswitched_input1_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>unswitched_input2_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *&#160;</td>
          <td class="paramname"><em>unswitched_input2_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00191">191</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  197</span>{</div>
<div class="line"><span class="lineno">  198</span>  ArithmeticParams switched_params = unswitched_params;</div>
<div class="line"><span class="lineno">  199</span>  switched_params.input1_offset = unswitched_params.input2_offset;</div>
<div class="line"><span class="lineno">  200</span>  switched_params.input2_offset = unswitched_params.input1_offset;</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> use_unswitched = unswitched_params.broadcast_category ==</div>
<div class="line"><span class="lineno">  203</span>                              tflite::BroadcastableOpCategory::kFirstInputBroadcastsFast;</div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>  <span class="keyword">const</span> ArithmeticParams &amp;params = use_unswitched ? unswitched_params : switched_params;</div>
<div class="line"><span class="lineno">  206</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *input1_data = use_unswitched ? unswitched_input1_data : unswitched_input2_data;</div>
<div class="line"><span class="lineno">  207</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *input2_data = use_unswitched ? unswitched_input2_data : unswitched_input1_data;</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>  <span class="comment">// Fivefold nested loops. The second input resets its position for each</span></div>
<div class="line"><span class="lineno">  210</span>  <span class="comment">// iteration of the second loop. The first input resets its position at the</span></div>
<div class="line"><span class="lineno">  211</span>  <span class="comment">// beginning of the fourth loop. The innermost loop is an elementwise Mul of</span></div>
<div class="line"><span class="lineno">  212</span>  <span class="comment">// sections of the arrays.</span></div>
<div class="line"><span class="lineno">  213</span>  <a class="code hl_typedef" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *output_data_ptr = output_data;</div>
<div class="line"><span class="lineno">  214</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *input1_data_ptr = input1_data;</div>
<div class="line"><span class="lineno">  215</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *input2_data_reset = input2_data;</div>
<div class="line"><span class="lineno">  216</span>  <span class="keywordtype">int</span> y0 = params.broadcast_shape[0];</div>
<div class="line"><span class="lineno">  217</span>  <span class="keywordtype">int</span> y1 = params.broadcast_shape[1];</div>
<div class="line"><span class="lineno">  218</span>  <span class="keywordtype">int</span> y2 = params.broadcast_shape[2];</div>
<div class="line"><span class="lineno">  219</span>  <span class="keywordtype">int</span> y3 = params.broadcast_shape[3];</div>
<div class="line"><span class="lineno">  220</span>  <span class="keywordtype">int</span> y4 = params.broadcast_shape[4];</div>
<div class="line"><span class="lineno">  221</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i0 = 0; i0 &lt; y0; ++i0)</div>
<div class="line"><span class="lineno">  222</span>  {</div>
<div class="line"><span class="lineno">  223</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *input2_data_ptr;</div>
<div class="line"><span class="lineno">  224</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i1 = 0; i1 &lt; y1; ++i1)</div>
<div class="line"><span class="lineno">  225</span>    {</div>
<div class="line"><span class="lineno">  226</span>      input2_data_ptr = input2_data_reset;</div>
<div class="line"><span class="lineno">  227</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i2 = 0; i2 &lt; y2; ++i2)</div>
<div class="line"><span class="lineno">  228</span>      {</div>
<div class="line"><span class="lineno">  229</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i3 = 0; i3 &lt; y3; ++i3)</div>
<div class="line"><span class="lineno">  230</span>        {</div>
<div class="line"><span class="lineno">  231</span>          MulElementwise(y4, params, input1_data_ptr, input2_data_ptr, output_data_ptr);</div>
<div class="line"><span class="lineno">  232</span>          input2_data_ptr += y4;</div>
<div class="line"><span class="lineno">  233</span>          output_data_ptr += y4;</div>
<div class="line"><span class="lineno">  234</span>        }</div>
<div class="line"><span class="lineno">  235</span>        input1_data_ptr += y4;</div>
<div class="line"><span class="lineno">  236</span>      }</div>
<div class="line"><span class="lineno">  237</span>    }</div>
<div class="line"><span class="lineno">  238</span>    input2_data_reset = input2_data_ptr;</div>
<div class="line"><span class="lineno">  239</span>  }</div>
<div class="line"><span class="lineno">  240</span>}</div>
<div class="ttc" id="aann-ref_2src_2ops_2internal_2_macro_8h_html_a115946cb5fc5879545e9ccea096a6031"><div class="ttname"><a href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a></div><div class="ttdeci">std::uint8_t uint8</div><div class="ttdef"><b>Definition:</b> <a href="ann-ref_2src_2ops_2internal_2_macro_8h_source.html#l00052">Macro.h:52</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7146cd650887d79d050376c8aa586064" name="a7146cd650887d79d050376c8aa586064"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7146cd650887d79d050376c8aa586064">&#9670;&#160;</a></span>BroadcastPow4DSlow()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::BroadcastPow4DSlow </td>
          <td>(</td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>unextended_input1_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>input1_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>unextended_input2_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>input2_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>unextended_output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01388">1388</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1391</span>{</div>
<div class="line"><span class="lineno"> 1392</span>  TFLITE_DCHECK_LE(unextended_input1_shape.DimensionsCount(), 4);</div>
<div class="line"><span class="lineno"> 1393</span>  TFLITE_DCHECK_LE(unextended_input2_shape.DimensionsCount(), 4);</div>
<div class="line"><span class="lineno"> 1394</span>  TFLITE_DCHECK_LE(unextended_output_shape.DimensionsCount(), 4);</div>
<div class="line"><span class="lineno"> 1395</span>  <span class="keyword">const</span> RuntimeShape output_shape = RuntimeShape::ExtendedShape(4, unextended_output_shape);</div>
<div class="line"><span class="lineno"> 1396</span> </div>
<div class="line"><span class="lineno"> 1397</span>  <a class="code hl_struct" href="struct_nd_array_desc.html">NdArrayDesc&lt;4&gt;</a> desc1;</div>
<div class="line"><span class="lineno"> 1398</span>  <a class="code hl_struct" href="struct_nd_array_desc.html">NdArrayDesc&lt;4&gt;</a> desc2;</div>
<div class="line"><span class="lineno"> 1399</span>  <a class="code hl_function" href="_n_d_array_8h.html#a256945a34650c9e1803de88c828ef724">NdArrayDescsForElementwiseBroadcast</a>(unextended_input1_shape, unextended_input2_shape, &amp;desc1,</div>
<div class="line"><span class="lineno"> 1400</span>                                      &amp;desc2);</div>
<div class="line"><span class="lineno"> 1401</span> </div>
<div class="line"><span class="lineno"> 1402</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> b = 0; b &lt; output_shape.Dims(0); ++b)</div>
<div class="line"><span class="lineno"> 1403</span>  {</div>
<div class="line"><span class="lineno"> 1404</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = 0; y &lt; output_shape.Dims(1); ++y)</div>
<div class="line"><span class="lineno"> 1405</span>    {</div>
<div class="line"><span class="lineno"> 1406</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; output_shape.Dims(2); ++x)</div>
<div class="line"><span class="lineno"> 1407</span>      {</div>
<div class="line"><span class="lineno"> 1408</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = 0; c &lt; output_shape.Dims(3); ++c)</div>
<div class="line"><span class="lineno"> 1409</span>        {</div>
<div class="line"><span class="lineno"> 1410</span>          <span class="keyword">auto</span> out_idx = <a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a1c037ff89c0da8b5cd52088b914b9c1d">Offset</a>(output_shape, b, y, x, c);</div>
<div class="line"><span class="lineno"> 1411</span>          <span class="keyword">auto</span> in1_idx = <a class="code hl_function" href="_n_d_array_8h.html#a635d76912989ba020d1eeada22742b0d">SubscriptToIndex</a>(desc1, b, y, x, c);</div>
<div class="line"><span class="lineno"> 1412</span>          <span class="keyword">auto</span> in2_idx = <a class="code hl_function" href="_n_d_array_8h.html#a635d76912989ba020d1eeada22742b0d">SubscriptToIndex</a>(desc2, b, y, x, c);</div>
<div class="line"><span class="lineno"> 1413</span>          <span class="keyword">auto</span> in1_val = input1_data[in1_idx];</div>
<div class="line"><span class="lineno"> 1414</span>          <span class="keyword">auto</span> in2_val = input2_data[in2_idx];</div>
<div class="line"><span class="lineno"> 1415</span>          output_data[out_idx] = std::pow(in1_val, in2_val);</div>
<div class="line"><span class="lineno"> 1416</span>        }</div>
<div class="line"><span class="lineno"> 1417</span>      }</div>
<div class="line"><span class="lineno"> 1418</span>    }</div>
<div class="line"><span class="lineno"> 1419</span>  }</div>
<div class="line"><span class="lineno"> 1420</span>}</div>
<div class="ttc" id="a_n_d_array_8h_html_a256945a34650c9e1803de88c828ef724"><div class="ttname"><a href="_n_d_array_8h.html#a256945a34650c9e1803de88c828ef724">NdArrayDescsForElementwiseBroadcast</a></div><div class="ttdeci">void NdArrayDescsForElementwiseBroadcast(const Dims&lt; N &gt; &amp;input0_dims, const Dims&lt; N &gt; &amp;input1_dims, NdArrayDesc&lt; N &gt; *desc0_out, NdArrayDesc&lt; N &gt; *desc1_out)</div><div class="ttdef"><b>Definition:</b> <a href="_n_d_array_8h_source.html#l00089">NDArray.h:89</a></div></div>
<div class="ttc" id="a_n_d_array_8h_html_a635d76912989ba020d1eeada22742b0d"><div class="ttname"><a href="_n_d_array_8h.html#a635d76912989ba020d1eeada22742b0d">SubscriptToIndex</a></div><div class="ttdeci">int SubscriptToIndex(const NdArrayDesc&lt; 4 &gt; &amp;desc, int i0, int i1, int i2, int i3)</div><div class="ttdef"><b>Definition:</b> <a href="_n_d_array_8h_source.html#l00054">NDArray.h:54</a></div></div>
<div class="ttc" id="aann-ref_2src_2ops_2internal_2dims_8h_html_a1c037ff89c0da8b5cd52088b914b9c1d"><div class="ttname"><a href="ann-ref_2src_2ops_2internal_2dims_8h.html#a1c037ff89c0da8b5cd52088b914b9c1d">Offset</a></div><div class="ttdeci">int Offset(const Dims&lt; 4 &gt; &amp;dims, int i0, int i1, int i2, int i3)</div><div class="ttdef"><b>Definition:</b> <a href="ann-ref_2src_2ops_2internal_2dims_8h_source.html#l00064">Dims.h:64</a></div></div>
<div class="ttc" id="astruct_nd_array_desc_html"><div class="ttname"><a href="struct_nd_array_desc.html">NdArrayDesc</a></div><div class="ttdef"><b>Definition:</b> <a href="_n_d_array_8h_source.html#l00037">NDArray.h:38</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_n_d_array_8h_source.html#l00089">NdArrayDescsForElementwiseBroadcast()</a>, <a class="el" href="ann-ref_2src_2ops_2internal_2dims_8h_source.html#l00064">Offset()</a>, and <a class="el" href="_n_d_array_8h_source.html#l00054">SubscriptToIndex()</a>.</p>

</div>
</div>
<a id="a794d26c909176e9e66ec4d676a68941d" name="a794d26c909176e9e66ec4d676a68941d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a794d26c909176e9e66ec4d676a68941d">&#9670;&#160;</a></span>BroadcastSelect4DSlow()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename D , typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::BroadcastSelect4DSlow </td>
          <td>(</td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input_condition_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const D *&#160;</td>
          <td class="paramname"><em>input_condition_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input_x_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>input_x_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input_y_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>input_y_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01248">1248</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1252</span>{</div>
<div class="line"><span class="lineno"> 1253</span>  TFLITE_DCHECK_LE(input_condition_shape.DimensionsCount(), 4);</div>
<div class="line"><span class="lineno"> 1254</span>  TFLITE_DCHECK_LE(input_x_shape.DimensionsCount(), 4);</div>
<div class="line"><span class="lineno"> 1255</span>  TFLITE_DCHECK_LE(input_y_shape.DimensionsCount(), 4);</div>
<div class="line"><span class="lineno"> 1256</span>  TFLITE_DCHECK_LE(output_shape.DimensionsCount(), 4);</div>
<div class="line"><span class="lineno"> 1257</span> </div>
<div class="line"><span class="lineno"> 1258</span>  <span class="keyword">const</span> RuntimeShape extended_output_shape = RuntimeShape::ExtendedShape(4, output_shape);</div>
<div class="line"><span class="lineno"> 1259</span> </div>
<div class="line"><span class="lineno"> 1260</span>  <a class="code hl_struct" href="struct_nd_array_desc.html">NdArrayDesc&lt;4&gt;</a> desc_condition;</div>
<div class="line"><span class="lineno"> 1261</span>  <a class="code hl_struct" href="struct_nd_array_desc.html">NdArrayDesc&lt;4&gt;</a> desc_x;</div>
<div class="line"><span class="lineno"> 1262</span>  <a class="code hl_struct" href="struct_nd_array_desc.html">NdArrayDesc&lt;4&gt;</a> desc_y;</div>
<div class="line"><span class="lineno"> 1263</span>  <a class="code hl_function" href="_n_d_array_8h.html#a256945a34650c9e1803de88c828ef724">NdArrayDescsForElementwiseBroadcast</a>(input_condition_shape, input_x_shape, input_y_shape,</div>
<div class="line"><span class="lineno"> 1264</span>                                      &amp;desc_condition, &amp;desc_x, &amp;desc_y);</div>
<div class="line"><span class="lineno"> 1265</span> </div>
<div class="line"><span class="lineno"> 1266</span>  <span class="comment">// In Tensorflow, the dimensions are canonically named (batch_number, row,</span></div>
<div class="line"><span class="lineno"> 1267</span>  <span class="comment">// col, channel), with extents (batches, height, width, depth), with the</span></div>
<div class="line"><span class="lineno"> 1268</span>  <span class="comment">// trailing dimension changing most rapidly (channels has the smallest</span></div>
<div class="line"><span class="lineno"> 1269</span>  <span class="comment">// stride, typically 1 element).</span></div>
<div class="line"><span class="lineno"> 1270</span>  <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1271</span>  <span class="comment">// In generated C code, we store arrays with the dimensions reversed. The</span></div>
<div class="line"><span class="lineno"> 1272</span>  <span class="comment">// first dimension has smallest stride.</span></div>
<div class="line"><span class="lineno"> 1273</span>  <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1274</span>  <span class="comment">// We name our variables by their Tensorflow convention, but generate C code</span></div>
<div class="line"><span class="lineno"> 1275</span>  <span class="comment">// nesting loops such that the innermost loop has the smallest stride for</span></div>
<div class="line"><span class="lineno"> 1276</span>  <span class="comment">// the best cache behavior.</span></div>
<div class="line"><span class="lineno"> 1277</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> b = 0; b &lt; extended_output_shape.Dims(0); ++b)</div>
<div class="line"><span class="lineno"> 1278</span>  {</div>
<div class="line"><span class="lineno"> 1279</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = 0; y &lt; extended_output_shape.Dims(1); ++y)</div>
<div class="line"><span class="lineno"> 1280</span>    {</div>
<div class="line"><span class="lineno"> 1281</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; extended_output_shape.Dims(2); ++x)</div>
<div class="line"><span class="lineno"> 1282</span>      {</div>
<div class="line"><span class="lineno"> 1283</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = 0; c &lt; extended_output_shape.Dims(3); ++c)</div>
<div class="line"><span class="lineno"> 1284</span>        {</div>
<div class="line"><span class="lineno"> 1285</span>          <span class="keyword">const</span> <span class="keywordtype">int</span> condition_index = <a class="code hl_function" href="_n_d_array_8h.html#a635d76912989ba020d1eeada22742b0d">SubscriptToIndex</a>(desc_condition, b, y, x, c);</div>
<div class="line"><span class="lineno"> 1286</span>          <span class="keyword">const</span> <span class="keywordtype">int</span> x_index = <a class="code hl_function" href="_n_d_array_8h.html#a635d76912989ba020d1eeada22742b0d">SubscriptToIndex</a>(desc_x, b, y, x, c);</div>
<div class="line"><span class="lineno"> 1287</span>          <span class="keyword">const</span> <span class="keywordtype">int</span> y_index = <a class="code hl_function" href="_n_d_array_8h.html#a635d76912989ba020d1eeada22742b0d">SubscriptToIndex</a>(desc_y, b, y, x, c);</div>
<div class="line"><span class="lineno"> 1288</span>          output_data[<a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a1c037ff89c0da8b5cd52088b914b9c1d">Offset</a>(extended_output_shape, b, y, x, c)] =</div>
<div class="line"><span class="lineno"> 1289</span>            input_condition_data[condition_index] ? input_x_data[x_index] : input_y_data[y_index];</div>
<div class="line"><span class="lineno"> 1290</span>        }</div>
<div class="line"><span class="lineno"> 1291</span>      }</div>
<div class="line"><span class="lineno"> 1292</span>    }</div>
<div class="line"><span class="lineno"> 1293</span>  }</div>
<div class="line"><span class="lineno"> 1294</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_n_d_array_8h_source.html#l00089">NdArrayDescsForElementwiseBroadcast()</a>, <a class="el" href="ann-ref_2src_2ops_2internal_2dims_8h_source.html#l00064">Offset()</a>, and <a class="el" href="_n_d_array_8h_source.html#l00054">SubscriptToIndex()</a>.</p>

</div>
</div>
<a id="ab391fc0611d267f426d4423e8c39aabc" name="ab391fc0611d267f426d4423e8c39aabc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab391fc0611d267f426d4423e8c39aabc">&#9670;&#160;</a></span>DepthConcatenation()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::DepthConcatenation </td>
          <td>(</td>
          <td class="paramtype">const ConcatenationParams &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape *const *&#160;</td>
          <td class="paramname"><em>input_shapes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Scalar *const *&#160;</td>
          <td class="paramname"><em>input_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Scalar *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00462">462</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  465</span>{</div>
<div class="line"><span class="lineno">  466</span>  ruy::profiler::ScopeLabel label(<span class="stringliteral">&quot;DepthConcatenation&quot;</span>);</div>
<div class="line"><span class="lineno">  467</span>  <span class="keyword">auto</span> params_copy = params;</div>
<div class="line"><span class="lineno">  468</span>  params_copy.axis = 3;</div>
<div class="line"><span class="lineno">  469</span>  <a class="code hl_function" href="_concatenation_8float_8cpp.html#a020b76a4c94f8290d95dfd1766d1ca41">Concatenation</a>(params_copy, input_shapes, input_data, output_shape, output_data);</div>
<div class="line"><span class="lineno">  470</span>}</div>
<div class="ttc" id="a_concatenation_8float_8cpp_html_a020b76a4c94f8290d95dfd1766d1ca41"><div class="ttname"><a href="_concatenation_8float_8cpp.html#a020b76a4c94f8290d95dfd1766d1ca41">Concatenation</a></div><div class="ttdeci">void Concatenation(int concat_dim, const Scalar *const *input_data, const Dims&lt; 4 &gt; *const *input_dims, int inputs_count, Scalar *output_data, const Dims&lt; 4 &gt; &amp;output_dims)</div><div class="ttdef"><b>Definition:</b> <a href="_concatenation_8float_8cpp_source.html#l00027">Concatenation.float.cpp:27</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_concatenation_8float_8cpp_source.html#l00027">Concatenation()</a>.</p>

</div>
</div>
<a id="a38a3a9e11bc655f8e94a58313e236e26" name="a38a3a9e11bc655f8e94a58313e236e26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38a3a9e11bc655f8e94a58313e236e26">&#9670;&#160;</a></span>Dequantize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::Dequantize </td>
          <td>(</td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Eigen::half *&#160;</td>
          <td class="paramname"><em>input_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00913">913</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  915</span>{</div>
<div class="line"><span class="lineno">  916</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> flat_size = <a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a93604338a7a3801ed30692282ff124ce">MatchingFlatSize</a>(input_shape, output_shape);</div>
<div class="line"><span class="lineno">  917</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; flat_size; i++)</div>
<div class="line"><span class="lineno">  918</span>  {</div>
<div class="line"><span class="lineno">  919</span>    output_data[i] = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(input_data[i]);</div>
<div class="line"><span class="lineno">  920</span>  }</div>
<div class="line"><span class="lineno">  921</span>}</div>
<div class="ttc" id="aann-ref_2src_2ops_2internal_2dims_8h_html_a93604338a7a3801ed30692282ff124ce"><div class="ttname"><a href="ann-ref_2src_2ops_2internal_2dims_8h.html#a93604338a7a3801ed30692282ff124ce">MatchingFlatSize</a></div><div class="ttdeci">int MatchingFlatSize(const Dims&lt; N &gt; &amp;dims, const Dims&lt; N &gt; &amp;check_dims_0)</div><div class="ttdef"><b>Definition:</b> <a href="ann-ref_2src_2ops_2internal_2dims_8h_source.html#l00108">Dims.h:108</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ann-ref_2src_2ops_2internal_2dims_8h_source.html#l00108">MatchingFlatSize()</a>.</p>

</div>
</div>
<a id="a26741bf3e0a1fb0e6b9014bcc3a7fb34" name="a26741bf3e0a1fb0e6b9014bcc3a7fb34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26741bf3e0a1fb0e6b9014bcc3a7fb34">&#9670;&#160;</a></span>FakeQuant()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::FakeQuant </td>
          <td>(</td>
          <td class="paramtype">const tflite::FakeQuantParams &amp;&#160;</td>
          <td class="paramname"><em>op_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>input_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00923">923</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  925</span>{</div>
<div class="line"><span class="lineno">  926</span>  ruy::profiler::ScopeLabel label(<span class="stringliteral">&quot;FakeQuant&quot;</span>);</div>
<div class="line"><span class="lineno">  927</span>  <span class="keywordtype">float</span> rmin = op_params.minmax.min;</div>
<div class="line"><span class="lineno">  928</span>  <span class="keywordtype">float</span> rmax = op_params.minmax.max;</div>
<div class="line"><span class="lineno">  929</span>  <span class="keywordtype">int</span> num_bits = op_params.num_bits;</div>
<div class="line"><span class="lineno">  930</span>  <span class="comment">// 0 should always be a representable value. Let&#39;s assume that the initial</span></div>
<div class="line"><span class="lineno">  931</span>  <span class="comment">// min,max range contains 0.</span></div>
<div class="line"><span class="lineno">  932</span>  TFLITE_DCHECK_LE(rmin, 0.0f);</div>
<div class="line"><span class="lineno">  933</span>  TFLITE_DCHECK_GE(rmax, 0.0f);</div>
<div class="line"><span class="lineno">  934</span>  TFLITE_DCHECK_LT(rmin, rmax);</div>
<div class="line"><span class="lineno">  935</span> </div>
<div class="line"><span class="lineno">  936</span>  <span class="comment">// Code matches tensorflow&#39;s FakeQuantWithMinMaxArgsFunctor.</span></div>
<div class="line"><span class="lineno">  937</span>  <span class="keywordtype">int</span> quant_min = 0;</div>
<div class="line"><span class="lineno">  938</span>  <span class="keywordtype">int</span> quant_max = (1 &lt;&lt; num_bits) - 1;</div>
<div class="line"><span class="lineno">  939</span>  <span class="keywordtype">float</span> nudged_min, nudged_max, nudged_scale;</div>
<div class="line"><span class="lineno">  940</span>  NudgeQuantizationRange(rmin, rmax, quant_min, quant_max, &amp;nudged_min, &amp;nudged_max, &amp;nudged_scale);</div>
<div class="line"><span class="lineno">  941</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> flat_size = <a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a93604338a7a3801ed30692282ff124ce">MatchingFlatSize</a>(input_shape, output_shape);</div>
<div class="line"><span class="lineno">  942</span>  FakeQuantizeArray(nudged_scale, nudged_min, nudged_max, input_data, output_data, flat_size);</div>
<div class="line"><span class="lineno">  943</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ann-ref_2src_2ops_2internal_2dims_8h_source.html#l00108">MatchingFlatSize()</a>.</p>

</div>
</div>
<a id="a147fdc60b816c6a43cacfafb177551be" name="a147fdc60b816c6a43cacfafb177551be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a147fdc60b816c6a43cacfafb177551be">&#9670;&#160;</a></span>GatherNd()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ParamsT , typename IndicesT  = int32&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::GatherNd </td>
          <td>(</td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>params_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ParamsT *&#160;</td>
          <td class="paramname"><em>params_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>indices_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const IndicesT *&#160;</td>
          <td class="paramname"><em>indices_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ParamsT *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00985">985</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  988</span>{</div>
<div class="line"><span class="lineno">  989</span>  ruy::profiler::ScopeLabel label(<span class="stringliteral">&quot;GatherNd&quot;</span>);</div>
<div class="line"><span class="lineno">  990</span> </div>
<div class="line"><span class="lineno">  991</span>  <span class="keyword">const</span> <a class="code hl_struct" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html">GatherNdHelperResult</a> res = <a class="code hl_function" href="namespacetflite_1_1reference__ops.html#a4ff6b571ca7bb6abd8025f55b31926e9">GatherNdHelper</a>(params_shape, indices_shape);</div>
<div class="line"><span class="lineno">  992</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; res.<a class="code hl_variable" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html#a4a4f464659994c208be80dea6467fccb">n_slices</a>; ++i)</div>
<div class="line"><span class="lineno">  993</span>  {</div>
<div class="line"><span class="lineno">  994</span>    <span class="keywordtype">int</span> from_pos = 0;</div>
<div class="line"><span class="lineno">  995</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; res.<a class="code hl_variable" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html#a58bd72991530e7665d063b1af0518fd2">indices_nd</a>; ++j)</div>
<div class="line"><span class="lineno">  996</span>    {</div>
<div class="line"><span class="lineno">  997</span>      from_pos += indices_data[i * res.<a class="code hl_variable" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html#a58bd72991530e7665d063b1af0518fd2">indices_nd</a> + j] * res.<a class="code hl_variable" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html#ad77fcb7404831ff5710003a5065008d2">dims_to_count</a>[j];</div>
<div class="line"><span class="lineno">  998</span>    }</div>
<div class="line"><span class="lineno">  999</span>    std::memcpy(output_data + i * res.<a class="code hl_variable" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html#a9d16231127852dd65b17335330b7293b">slice_size</a>, params_data + from_pos,</div>
<div class="line"><span class="lineno"> 1000</span>                <span class="keyword">sizeof</span>(ParamsT) * res.<a class="code hl_variable" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html#a9d16231127852dd65b17335330b7293b">slice_size</a>);</div>
<div class="line"><span class="lineno"> 1001</span>  }</div>
<div class="line"><span class="lineno"> 1002</span>}</div>
<div class="ttc" id="anamespacetflite_1_1reference__ops_html_a4ff6b571ca7bb6abd8025f55b31926e9"><div class="ttname"><a href="namespacetflite_1_1reference__ops.html#a4ff6b571ca7bb6abd8025f55b31926e9">tflite::reference_ops::GatherNdHelper</a></div><div class="ttdeci">GatherNdHelperResult GatherNdHelper(const RuntimeShape &amp;params_shape, const RuntimeShape &amp;indices_shape)</div><div class="ttdef"><b>Definition:</b> <a href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00955">PALreference_ops.h:955</a></div></div>
<div class="ttc" id="astructtflite_1_1reference__ops_1_1_gather_nd_helper_result_html"><div class="ttname"><a href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html">tflite::reference_ops::GatherNdHelperResult</a></div><div class="ttdef"><b>Definition:</b> <a href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00946">PALreference_ops.h:947</a></div></div>
<div class="ttc" id="astructtflite_1_1reference__ops_1_1_gather_nd_helper_result_html_a4a4f464659994c208be80dea6467fccb"><div class="ttname"><a href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html#a4a4f464659994c208be80dea6467fccb">tflite::reference_ops::GatherNdHelperResult::n_slices</a></div><div class="ttdeci">int n_slices</div><div class="ttdef"><b>Definition:</b> <a href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00948">PALreference_ops.h:948</a></div></div>
<div class="ttc" id="astructtflite_1_1reference__ops_1_1_gather_nd_helper_result_html_a58bd72991530e7665d063b1af0518fd2"><div class="ttname"><a href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html#a58bd72991530e7665d063b1af0518fd2">tflite::reference_ops::GatherNdHelperResult::indices_nd</a></div><div class="ttdeci">int indices_nd</div><div class="ttdef"><b>Definition:</b> <a href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00950">PALreference_ops.h:950</a></div></div>
<div class="ttc" id="astructtflite_1_1reference__ops_1_1_gather_nd_helper_result_html_a9d16231127852dd65b17335330b7293b"><div class="ttname"><a href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html#a9d16231127852dd65b17335330b7293b">tflite::reference_ops::GatherNdHelperResult::slice_size</a></div><div class="ttdeci">int slice_size</div><div class="ttdef"><b>Definition:</b> <a href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00949">PALreference_ops.h:949</a></div></div>
<div class="ttc" id="astructtflite_1_1reference__ops_1_1_gather_nd_helper_result_html_ad77fcb7404831ff5710003a5065008d2"><div class="ttname"><a href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html#ad77fcb7404831ff5710003a5065008d2">tflite::reference_ops::GatherNdHelperResult::dims_to_count</a></div><div class="ttdeci">std::vector&lt; int &gt; dims_to_count</div><div class="ttdef"><b>Definition:</b> <a href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00951">PALreference_ops.h:951</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00951">tflite::reference_ops::GatherNdHelperResult::dims_to_count</a>, <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00955">GatherNdHelper()</a>, <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00950">tflite::reference_ops::GatherNdHelperResult::indices_nd</a>, <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00948">tflite::reference_ops::GatherNdHelperResult::n_slices</a>, and <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00949">tflite::reference_ops::GatherNdHelperResult::slice_size</a>.</p>

</div>
</div>
<a id="a4ff6b571ca7bb6abd8025f55b31926e9" name="a4ff6b571ca7bb6abd8025f55b31926e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ff6b571ca7bb6abd8025f55b31926e9">&#9670;&#160;</a></span>GatherNdHelper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html">GatherNdHelperResult</a> tflite::reference_ops::GatherNdHelper </td>
          <td>(</td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>params_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>indices_shape</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00955">955</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  957</span>{</div>
<div class="line"><span class="lineno">  958</span>  <a class="code hl_struct" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html">GatherNdHelperResult</a> ret;</div>
<div class="line"><span class="lineno">  959</span>  ret.<a class="code hl_variable" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html#a4a4f464659994c208be80dea6467fccb">n_slices</a> = 1;</div>
<div class="line"><span class="lineno">  960</span>  ret.<a class="code hl_variable" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html#a9d16231127852dd65b17335330b7293b">slice_size</a> = 1;</div>
<div class="line"><span class="lineno">  961</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> indices_dims = indices_shape.DimensionsCount();</div>
<div class="line"><span class="lineno">  962</span>  ret.<a class="code hl_variable" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html#a58bd72991530e7665d063b1af0518fd2">indices_nd</a> = indices_shape.Dims(indices_dims - 1);</div>
<div class="line"><span class="lineno">  963</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> params_dims = params_shape.DimensionsCount();</div>
<div class="line"><span class="lineno">  964</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; indices_dims - 1; ++i)</div>
<div class="line"><span class="lineno">  965</span>  {</div>
<div class="line"><span class="lineno">  966</span>    ret.<a class="code hl_variable" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html#a4a4f464659994c208be80dea6467fccb">n_slices</a> *= indices_shape.Dims(i);</div>
<div class="line"><span class="lineno">  967</span>  }</div>
<div class="line"><span class="lineno">  968</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = ret.<a class="code hl_variable" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html#a58bd72991530e7665d063b1af0518fd2">indices_nd</a>; i &lt; params_dims; ++i)</div>
<div class="line"><span class="lineno">  969</span>  {</div>
<div class="line"><span class="lineno">  970</span>    ret.<a class="code hl_variable" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html#a9d16231127852dd65b17335330b7293b">slice_size</a> *= params_shape.Dims(i);</div>
<div class="line"><span class="lineno">  971</span>  }</div>
<div class="line"><span class="lineno">  972</span> </div>
<div class="line"><span class="lineno">  973</span>  <span class="keywordtype">int</span> remain_flat_size = params_shape.FlatSize();</div>
<div class="line"><span class="lineno">  974</span>  ret.<a class="code hl_variable" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html#ad77fcb7404831ff5710003a5065008d2">dims_to_count</a> = std::vector&lt;int&gt;(ret.<a class="code hl_variable" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html#a58bd72991530e7665d063b1af0518fd2">indices_nd</a>, 0);</div>
<div class="line"><span class="lineno">  975</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; ret.<a class="code hl_variable" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html#a58bd72991530e7665d063b1af0518fd2">indices_nd</a>; ++i)</div>
<div class="line"><span class="lineno">  976</span>  {</div>
<div class="line"><span class="lineno">  977</span>    ret.<a class="code hl_variable" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html#ad77fcb7404831ff5710003a5065008d2">dims_to_count</a>[i] = remain_flat_size / params_shape.Dims(i);</div>
<div class="line"><span class="lineno">  978</span>    remain_flat_size = ret.<a class="code hl_variable" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html#ad77fcb7404831ff5710003a5065008d2">dims_to_count</a>[i];</div>
<div class="line"><span class="lineno">  979</span>  }</div>
<div class="line"><span class="lineno">  980</span> </div>
<div class="line"><span class="lineno">  981</span>  <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  982</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00951">tflite::reference_ops::GatherNdHelperResult::dims_to_count</a>, <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00950">tflite::reference_ops::GatherNdHelperResult::indices_nd</a>, <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00948">tflite::reference_ops::GatherNdHelperResult::n_slices</a>, and <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00949">tflite::reference_ops::GatherNdHelperResult::slice_size</a>.</p>

<p class="reference">Referenced by <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00985">GatherNd()</a>, and <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01006">GatherNdString()</a>.</p>

</div>
</div>
<a id="a597e281a6e2f37292131019e9cd9cff6" name="a597e281a6e2f37292131019e9cd9cff6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a597e281a6e2f37292131019e9cd9cff6">&#9670;&#160;</a></span>GatherNdString()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename IndicesT  = int32&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::GatherNdString </td>
          <td>(</td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>params_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TfLiteTensor *&#160;</td>
          <td class="paramname"><em>params_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>indices_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const IndicesT *&#160;</td>
          <td class="paramname"><em>indices_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TfLiteTensor *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01006">1006</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1009</span>{</div>
<div class="line"><span class="lineno"> 1010</span>  ruy::profiler::ScopeLabel label(<span class="stringliteral">&quot;GatherNdString&quot;</span>);</div>
<div class="line"><span class="lineno"> 1011</span> </div>
<div class="line"><span class="lineno"> 1012</span>  <span class="keyword">const</span> <a class="code hl_struct" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html">GatherNdHelperResult</a> res = <a class="code hl_function" href="namespacetflite_1_1reference__ops.html#a4ff6b571ca7bb6abd8025f55b31926e9">GatherNdHelper</a>(params_shape, indices_shape);</div>
<div class="line"><span class="lineno"> 1013</span>  DynamicBuffer buffer;</div>
<div class="line"><span class="lineno"> 1014</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; res.<a class="code hl_variable" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html#a4a4f464659994c208be80dea6467fccb">n_slices</a>; ++i)</div>
<div class="line"><span class="lineno"> 1015</span>  {</div>
<div class="line"><span class="lineno"> 1016</span>    <span class="keywordtype">int</span> from_pos = 0;</div>
<div class="line"><span class="lineno"> 1017</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; res.<a class="code hl_variable" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html#a58bd72991530e7665d063b1af0518fd2">indices_nd</a>; ++j)</div>
<div class="line"><span class="lineno"> 1018</span>    {</div>
<div class="line"><span class="lineno"> 1019</span>      from_pos += indices_data[i * res.<a class="code hl_variable" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html#a58bd72991530e7665d063b1af0518fd2">indices_nd</a> + j] * res.<a class="code hl_variable" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html#ad77fcb7404831ff5710003a5065008d2">dims_to_count</a>[j];</div>
<div class="line"><span class="lineno"> 1020</span>    }</div>
<div class="line"><span class="lineno"> 1021</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; res.<a class="code hl_variable" href="structtflite_1_1reference__ops_1_1_gather_nd_helper_result.html#a9d16231127852dd65b17335330b7293b">slice_size</a>; ++j)</div>
<div class="line"><span class="lineno"> 1022</span>    {</div>
<div class="line"><span class="lineno"> 1023</span>      buffer.AddString(GetString(params_data, from_pos + j));</div>
<div class="line"><span class="lineno"> 1024</span>    }</div>
<div class="line"><span class="lineno"> 1025</span>  }</div>
<div class="line"><span class="lineno"> 1026</span>  buffer.WriteToTensor(output_data, <span class="comment">/*new_shape=*/</span><span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 1027</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00951">tflite::reference_ops::GatherNdHelperResult::dims_to_count</a>, <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00955">GatherNdHelper()</a>, <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00950">tflite::reference_ops::GatherNdHelperResult::indices_nd</a>, <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00948">tflite::reference_ops::GatherNdHelperResult::n_slices</a>, and <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00949">tflite::reference_ops::GatherNdHelperResult::slice_size</a>.</p>

</div>
</div>
<a id="a22d946352e7c3646592ff66c8d827f3e" name="a22d946352e7c3646592ff66c8d827f3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22d946352e7c3646592ff66c8d827f3e">&#9670;&#160;</a></span>LocalResponseNormalization()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::LocalResponseNormalization </td>
          <td>(</td>
          <td class="paramtype">const tflite::LocalResponseNormalizationParams &amp;&#160;</td>
          <td class="paramname"><em>op_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>input_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00887">887</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  890</span>{</div>
<div class="line"><span class="lineno">  891</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> trailing_dim = input_shape.DimensionsCount() - 1;</div>
<div class="line"><span class="lineno">  892</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> outer_size = MatchingFlatSizeSkipDim(input_shape, trailing_dim, output_shape);</div>
<div class="line"><span class="lineno">  893</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> depth = MatchingDim(input_shape, trailing_dim, output_shape, trailing_dim);</div>
<div class="line"><span class="lineno">  894</span> </div>
<div class="line"><span class="lineno">  895</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; outer_size; ++i)</div>
<div class="line"><span class="lineno">  896</span>  {</div>
<div class="line"><span class="lineno">  897</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = 0; c &lt; depth; ++c)</div>
<div class="line"><span class="lineno">  898</span>    {</div>
<div class="line"><span class="lineno">  899</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> begin_input_c = std::max(0, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(c - op_params.range));</div>
<div class="line"><span class="lineno">  900</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> end_input_c = std::min(depth, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(c + op_params.range));</div>
<div class="line"><span class="lineno">  901</span>      <span class="keywordtype">float</span> accum = 0.f;</div>
<div class="line"><span class="lineno">  902</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> input_c = begin_input_c; input_c &lt; end_input_c; ++input_c)</div>
<div class="line"><span class="lineno">  903</span>      {</div>
<div class="line"><span class="lineno">  904</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> input_val = input_data[i * depth + input_c];</div>
<div class="line"><span class="lineno">  905</span>        accum += input_val * input_val;</div>
<div class="line"><span class="lineno">  906</span>      }</div>
<div class="line"><span class="lineno">  907</span>      <span class="keyword">const</span> <span class="keywordtype">float</span> multiplier = std::pow(op_params.bias + op_params.alpha * accum, -op_params.beta);</div>
<div class="line"><span class="lineno">  908</span>      output_data[i * depth + c] = input_data[i * depth + c] * multiplier;</div>
<div class="line"><span class="lineno">  909</span>    }</div>
<div class="line"><span class="lineno">  910</span>  }</div>
<div class="line"><span class="lineno">  911</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2da4a98ea8c598133e34cabcd103d9d9" name="a2da4a98ea8c598133e34cabcd103d9d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2da4a98ea8c598133e34cabcd103d9d9">&#9670;&#160;</a></span>LstmCell() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::LstmCell </td>
          <td>(</td>
          <td class="paramtype">const LstmCellParams &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>unextended_input_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>input_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>unextended_prev_activ_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>prev_activ_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>weights_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>weights_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>unextended_bias_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>bias_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>unextended_prev_state_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>prev_state_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>unextended_output_state_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>output_state_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>unextended_output_activ_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>output_activ_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>unextended_concat_temp_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>concat_temp_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>unextended_activ_temp_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>activ_temp_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00472">472</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  482</span>{</div>
<div class="line"><span class="lineno">  483</span>  TFLITE_DCHECK_LE(unextended_input_shape.DimensionsCount(), 4);</div>
<div class="line"><span class="lineno">  484</span>  TFLITE_DCHECK_LE(unextended_prev_activ_shape.DimensionsCount(), 4);</div>
<div class="line"><span class="lineno">  485</span>  TFLITE_DCHECK_LE(unextended_bias_shape.DimensionsCount(), 4);</div>
<div class="line"><span class="lineno">  486</span>  TFLITE_DCHECK_LE(unextended_prev_state_shape.DimensionsCount(), 4);</div>
<div class="line"><span class="lineno">  487</span>  TFLITE_DCHECK_LE(unextended_output_state_shape.DimensionsCount(), 4);</div>
<div class="line"><span class="lineno">  488</span>  TFLITE_DCHECK_LE(unextended_output_activ_shape.DimensionsCount(), 4);</div>
<div class="line"><span class="lineno">  489</span>  TFLITE_DCHECK_LE(unextended_concat_temp_shape.DimensionsCount(), 4);</div>
<div class="line"><span class="lineno">  490</span>  TFLITE_DCHECK_LE(unextended_activ_temp_shape.DimensionsCount(), 4);</div>
<div class="line"><span class="lineno">  491</span>  <span class="keyword">const</span> RuntimeShape input_shape = RuntimeShape::ExtendedShape(4, unextended_input_shape);</div>
<div class="line"><span class="lineno">  492</span>  <span class="keyword">const</span> RuntimeShape prev_activ_shape = RuntimeShape::ExtendedShape(4, unextended_prev_activ_shape);</div>
<div class="line"><span class="lineno">  493</span>  <span class="keyword">const</span> RuntimeShape bias_shape = RuntimeShape::ExtendedShape(4, unextended_bias_shape);</div>
<div class="line"><span class="lineno">  494</span>  <span class="keyword">const</span> RuntimeShape prev_state_shape = RuntimeShape::ExtendedShape(4, unextended_prev_state_shape);</div>
<div class="line"><span class="lineno">  495</span>  <span class="keyword">const</span> RuntimeShape output_state_shape =</div>
<div class="line"><span class="lineno">  496</span>    RuntimeShape::ExtendedShape(4, unextended_output_state_shape);</div>
<div class="line"><span class="lineno">  497</span>  <span class="keyword">const</span> RuntimeShape output_activ_shape =</div>
<div class="line"><span class="lineno">  498</span>    RuntimeShape::ExtendedShape(4, unextended_output_activ_shape);</div>
<div class="line"><span class="lineno">  499</span>  <span class="keyword">const</span> RuntimeShape concat_temp_shape =</div>
<div class="line"><span class="lineno">  500</span>    RuntimeShape::ExtendedShape(4, unextended_concat_temp_shape);</div>
<div class="line"><span class="lineno">  501</span>  <span class="keyword">const</span> RuntimeShape activ_temp_shape = RuntimeShape::ExtendedShape(4, unextended_activ_temp_shape);</div>
<div class="line"><span class="lineno">  502</span>  TFLITE_DCHECK_GE(weights_shape.DimensionsCount(), 2);</div>
<div class="line"><span class="lineno">  503</span> </div>
<div class="line"><span class="lineno">  504</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> weights_dim_count = weights_shape.DimensionsCount();</div>
<div class="line"><span class="lineno">  505</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> batches = MatchingDim(input_shape, 0, prev_activ_shape, 0, prev_state_shape, 0,</div>
<div class="line"><span class="lineno">  506</span>                                  output_state_shape, 0, output_activ_shape, 0);</div>
<div class="line"><span class="lineno">  507</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> height = MatchingDim(input_shape, 1, prev_activ_shape, 1, prev_state_shape, 1,</div>
<div class="line"><span class="lineno">  508</span>                                 output_state_shape, 1, output_activ_shape, 1);</div>
<div class="line"><span class="lineno">  509</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> width = MatchingDim(input_shape, 2, prev_activ_shape, 2, prev_state_shape, 2,</div>
<div class="line"><span class="lineno">  510</span>                                output_state_shape, 2, output_activ_shape, 2);</div>
<div class="line"><span class="lineno">  511</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> input_depth = input_shape.Dims(3);</div>
<div class="line"><span class="lineno">  512</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> prev_activ_depth = prev_activ_shape.Dims(3);</div>
<div class="line"><span class="lineno">  513</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> total_input_depth = prev_activ_depth + input_depth;</div>
<div class="line"><span class="lineno">  514</span>  TFLITE_DCHECK_EQ(weights_shape.Dims(weights_dim_count - 1), total_input_depth);</div>
<div class="line"><span class="lineno">  515</span>  TFLITE_DCHECK_EQ(FlatSizeSkipDim(bias_shape, 3), 1);</div>
<div class="line"><span class="lineno">  516</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> intern_activ_depth = MatchingDim(weights_shape, weights_dim_count - 2, bias_shape, 3);</div>
<div class="line"><span class="lineno">  517</span>  TFLITE_DCHECK_EQ(weights_shape.FlatSize(), intern_activ_depth * total_input_depth);</div>
<div class="line"><span class="lineno">  518</span>  TFLITE_DCHECK_EQ(intern_activ_depth % 4, 0);</div>
<div class="line"><span class="lineno">  519</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> output_depth = MatchingDim(prev_state_shape, 3, prev_activ_shape, 3, output_state_shape,</div>
<div class="line"><span class="lineno">  520</span>                                       3, output_activ_shape, 3);</div>
<div class="line"><span class="lineno">  521</span>  TFLITE_DCHECK_EQ(output_depth, intern_activ_depth / 4);</div>
<div class="line"><span class="lineno">  522</span> </div>
<div class="line"><span class="lineno">  523</span>  <span class="comment">// Concatenate prev_activ and input data together</span></div>
<div class="line"><span class="lineno">  524</span>  std::vector&lt;float const *&gt; concat_input_arrays_data;</div>
<div class="line"><span class="lineno">  525</span>  std::vector&lt;RuntimeShape const *&gt; concat_input_arrays_shapes;</div>
<div class="line"><span class="lineno">  526</span>  concat_input_arrays_data.push_back(input_data);</div>
<div class="line"><span class="lineno">  527</span>  concat_input_arrays_data.push_back(prev_activ_data);</div>
<div class="line"><span class="lineno">  528</span>  concat_input_arrays_shapes.push_back(&amp;input_shape);</div>
<div class="line"><span class="lineno">  529</span>  concat_input_arrays_shapes.push_back(&amp;prev_activ_shape);</div>
<div class="line"><span class="lineno">  530</span>  tflite::ConcatenationParams concat_params;</div>
<div class="line"><span class="lineno">  531</span>  concat_params.axis = 3;</div>
<div class="line"><span class="lineno">  532</span>  concat_params.inputs_count = concat_input_arrays_data.size();</div>
<div class="line"><span class="lineno">  533</span>  <a class="code hl_function" href="_concatenation_8float_8cpp.html#a020b76a4c94f8290d95dfd1766d1ca41">Concatenation</a>(concat_params, &amp;(concat_input_arrays_shapes[0]), &amp;(concat_input_arrays_data[0]),</div>
<div class="line"><span class="lineno">  534</span>                concat_temp_shape, concat_temp_data);</div>
<div class="line"><span class="lineno">  535</span> </div>
<div class="line"><span class="lineno">  536</span>  <span class="comment">// Fully connected</span></div>
<div class="line"><span class="lineno">  537</span>  tflite::FullyConnectedParams fc_params;</div>
<div class="line"><span class="lineno">  538</span>  fc_params.float_activation_min = std::numeric_limits&lt;float&gt;::lowest();</div>
<div class="line"><span class="lineno">  539</span>  fc_params.float_activation_max = std::numeric_limits&lt;float&gt;::max();</div>
<div class="line"><span class="lineno">  540</span>  <a class="code hl_function" href="_fully_connected_8float_8cpp.html#a4fa8df12e6b9a0dea1e7b7e2fb060de1">FullyConnected</a>(fc_params, concat_temp_shape, concat_temp_data, weights_shape, weights_data,</div>
<div class="line"><span class="lineno">  541</span>                 bias_shape, bias_data, activ_temp_shape, activ_temp_data);</div>
<div class="line"><span class="lineno">  542</span> </div>
<div class="line"><span class="lineno">  543</span>  <span class="comment">// Memory state update (the LSTM &quot;guts&quot;)</span></div>
<div class="line"><span class="lineno">  544</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> b = 0; b &lt; batches; ++b)</div>
<div class="line"><span class="lineno">  545</span>  {</div>
<div class="line"><span class="lineno">  546</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> w = 0; w &lt; width; ++w)</div>
<div class="line"><span class="lineno">  547</span>    {</div>
<div class="line"><span class="lineno">  548</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> h = 0; h &lt; height; ++h)</div>
<div class="line"><span class="lineno">  549</span>      {</div>
<div class="line"><span class="lineno">  550</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = 0; c &lt; output_depth; ++c)</div>
<div class="line"><span class="lineno">  551</span>        {</div>
<div class="line"><span class="lineno">  552</span>          <span class="keyword">const</span> <span class="keywordtype">float</span> input_gate =</div>
<div class="line"><span class="lineno">  553</span>            1.f /</div>
<div class="line"><span class="lineno">  554</span>            (1.f +</div>
<div class="line"><span class="lineno">  555</span>             std::exp(-activ_temp_data[<a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a1c037ff89c0da8b5cd52088b914b9c1d">Offset</a>(activ_temp_shape, b, h, w, 0 * output_depth + c)]));</div>
<div class="line"><span class="lineno">  556</span>          <span class="keyword">const</span> <span class="keywordtype">float</span> new_input =</div>
<div class="line"><span class="lineno">  557</span>            std::tanh(activ_temp_data[<a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a1c037ff89c0da8b5cd52088b914b9c1d">Offset</a>(activ_temp_shape, b, h, w, 1 * output_depth + c)]);</div>
<div class="line"><span class="lineno">  558</span>          <span class="keyword">const</span> <span class="keywordtype">float</span> forget_gate =</div>
<div class="line"><span class="lineno">  559</span>            1.f /</div>
<div class="line"><span class="lineno">  560</span>            (1.f +</div>
<div class="line"><span class="lineno">  561</span>             std::exp(-activ_temp_data[<a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a1c037ff89c0da8b5cd52088b914b9c1d">Offset</a>(activ_temp_shape, b, h, w, 2 * output_depth + c)]));</div>
<div class="line"><span class="lineno">  562</span>          <span class="keyword">const</span> <span class="keywordtype">float</span> output_gate =</div>
<div class="line"><span class="lineno">  563</span>            1.f /</div>
<div class="line"><span class="lineno">  564</span>            (1.f +</div>
<div class="line"><span class="lineno">  565</span>             std::exp(-activ_temp_data[<a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a1c037ff89c0da8b5cd52088b914b9c1d">Offset</a>(activ_temp_shape, b, h, w, 3 * output_depth + c)]));</div>
<div class="line"><span class="lineno">  566</span>          <span class="keyword">const</span> <span class="keywordtype">float</span> new_state =</div>
<div class="line"><span class="lineno">  567</span>            input_gate * new_input +</div>
<div class="line"><span class="lineno">  568</span>            forget_gate * prev_state_data[<a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a1c037ff89c0da8b5cd52088b914b9c1d">Offset</a>(prev_state_shape, b, h, w, c)];</div>
<div class="line"><span class="lineno">  569</span>          output_state_data[<a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a1c037ff89c0da8b5cd52088b914b9c1d">Offset</a>(output_state_shape, b, h, w, c)] = new_state;</div>
<div class="line"><span class="lineno">  570</span>          output_activ_data[<a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a1c037ff89c0da8b5cd52088b914b9c1d">Offset</a>(output_activ_shape, b, h, w, c)] =</div>
<div class="line"><span class="lineno">  571</span>            output_gate * std::tanh(new_state);</div>
<div class="line"><span class="lineno">  572</span>        }</div>
<div class="line"><span class="lineno">  573</span>      }</div>
<div class="line"><span class="lineno">  574</span>    }</div>
<div class="line"><span class="lineno">  575</span>  }</div>
<div class="line"><span class="lineno">  576</span>}</div>
<div class="ttc" id="a_fully_connected_8float_8cpp_html_a4fa8df12e6b9a0dea1e7b7e2fb060de1"><div class="ttname"><a href="_fully_connected_8float_8cpp.html#a4fa8df12e6b9a0dea1e7b7e2fb060de1">FullyConnected</a></div><div class="ttdeci">void FullyConnected(const float *input_data, const Dims&lt; 4 &gt; &amp;input_dims, const float *weights_data, const Dims&lt; 4 &gt; &amp;weights_dims, const float *bias_data, const Dims&lt; 4 &gt; &amp;bias_dims, float *output_data, const Dims&lt; 4 &gt; &amp;output_dims)</div><div class="ttdef"><b>Definition:</b> <a href="_fully_connected_8float_8cpp_source.html#l00029">FullyConnected.float.cpp:29</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_concatenation_8float_8cpp_source.html#l00027">Concatenation()</a>, <a class="el" href="_fully_connected_8float_8cpp_source.html#l00029">FullyConnected()</a>, and <a class="el" href="ann-ref_2src_2ops_2internal_2dims_8h_source.html#l00064">Offset()</a>.</p>

</div>
</div>
<a id="a987e96858b96fbe5f214c37a5a871f8f" name="a987e96858b96fbe5f214c37a5a871f8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a987e96858b96fbe5f214c37a5a871f8f">&#9670;&#160;</a></span>LstmCell() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int StateIntegerBits&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::LstmCell </td>
          <td>(</td>
          <td class="paramtype">const LstmCellParams &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>unextended_input_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *&#160;</td>
          <td class="paramname"><em>input_data_uint8</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>unextended_prev_activ_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *&#160;</td>
          <td class="paramname"><em>prev_activ_data_uint8</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>weights_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *&#160;</td>
          <td class="paramname"><em>weights_data_uint8</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>unextended_bias_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="topk__v2_8h.html#ab7903878916593daecbeb95b98115ab0">int32</a> *&#160;</td>
          <td class="paramname"><em>bias_data_int32</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>unextended_prev_state_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> *&#160;</td>
          <td class="paramname"><em>prev_state_data_int16</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>unextended_output_state_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> *&#160;</td>
          <td class="paramname"><em>output_state_data_int16</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>unextended_output_activ_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *&#160;</td>
          <td class="paramname"><em>output_activ_data_uint8</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>unextended_concat_temp_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *&#160;</td>
          <td class="paramname"><em>concat_temp_data_uint8</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>unextended_activ_temp_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> *&#160;</td>
          <td class="paramname"><em>activ_temp_data_int16</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>gemmlowp_context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00664">664</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  674</span>{</div>
<div class="line"><span class="lineno">  675</span>  (void)gemmlowp_context; <span class="comment">// only used in optimized code.</span></div>
<div class="line"><span class="lineno">  676</span>  <a class="code hl_typedef" href="topk__v2_8h.html#ab7903878916593daecbeb95b98115ab0">int32</a> weights_zero_point = params.weights_zero_point;</div>
<div class="line"><span class="lineno">  677</span>  <a class="code hl_typedef" href="topk__v2_8h.html#ab7903878916593daecbeb95b98115ab0">int32</a> accum_multiplier = params.accum_multiplier;</div>
<div class="line"><span class="lineno">  678</span>  <span class="keywordtype">int</span> accum_shift = params.accum_shift;</div>
<div class="line"><span class="lineno">  679</span>  TFLITE_DCHECK_LE(unextended_input_shape.DimensionsCount(), 4);</div>
<div class="line"><span class="lineno">  680</span>  TFLITE_DCHECK_LE(unextended_prev_activ_shape.DimensionsCount(), 4);</div>
<div class="line"><span class="lineno">  681</span>  TFLITE_DCHECK_LE(unextended_bias_shape.DimensionsCount(), 4);</div>
<div class="line"><span class="lineno">  682</span>  TFLITE_DCHECK_LE(unextended_prev_state_shape.DimensionsCount(), 4);</div>
<div class="line"><span class="lineno">  683</span>  TFLITE_DCHECK_LE(unextended_output_state_shape.DimensionsCount(), 4);</div>
<div class="line"><span class="lineno">  684</span>  TFLITE_DCHECK_LE(unextended_output_activ_shape.DimensionsCount(), 4);</div>
<div class="line"><span class="lineno">  685</span>  TFLITE_DCHECK_LE(unextended_concat_temp_shape.DimensionsCount(), 4);</div>
<div class="line"><span class="lineno">  686</span>  TFLITE_DCHECK_LE(unextended_activ_temp_shape.DimensionsCount(), 4);</div>
<div class="line"><span class="lineno">  687</span>  <span class="keyword">const</span> RuntimeShape input_shape = RuntimeShape::ExtendedShape(4, unextended_input_shape);</div>
<div class="line"><span class="lineno">  688</span>  <span class="keyword">const</span> RuntimeShape prev_activ_shape = RuntimeShape::ExtendedShape(4, unextended_prev_activ_shape);</div>
<div class="line"><span class="lineno">  689</span>  <span class="keyword">const</span> RuntimeShape bias_shape = RuntimeShape::ExtendedShape(4, unextended_bias_shape);</div>
<div class="line"><span class="lineno">  690</span>  <span class="keyword">const</span> RuntimeShape prev_state_shape = RuntimeShape::ExtendedShape(4, unextended_prev_state_shape);</div>
<div class="line"><span class="lineno">  691</span>  <span class="keyword">const</span> RuntimeShape output_state_shape =</div>
<div class="line"><span class="lineno">  692</span>    RuntimeShape::ExtendedShape(4, unextended_output_state_shape);</div>
<div class="line"><span class="lineno">  693</span>  <span class="keyword">const</span> RuntimeShape output_activ_shape =</div>
<div class="line"><span class="lineno">  694</span>    RuntimeShape::ExtendedShape(4, unextended_output_activ_shape);</div>
<div class="line"><span class="lineno">  695</span>  <span class="keyword">const</span> RuntimeShape concat_temp_shape =</div>
<div class="line"><span class="lineno">  696</span>    RuntimeShape::ExtendedShape(4, unextended_concat_temp_shape);</div>
<div class="line"><span class="lineno">  697</span>  <span class="keyword">const</span> RuntimeShape activ_temp_shape = RuntimeShape::ExtendedShape(4, unextended_activ_temp_shape);</div>
<div class="line"><span class="lineno">  698</span>  TFLITE_DCHECK_GE(weights_shape.DimensionsCount(), 2);</div>
<div class="line"><span class="lineno">  699</span> </div>
<div class="line"><span class="lineno">  700</span>  <span class="comment">// Gather dimensions information, and perform consistency checks.</span></div>
<div class="line"><span class="lineno">  701</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> weights_dim_count = weights_shape.DimensionsCount();</div>
<div class="line"><span class="lineno">  702</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> outer_size = MatchingFlatSizeSkipDim(input_shape, 3, prev_activ_shape, prev_state_shape,</div>
<div class="line"><span class="lineno">  703</span>                                                 output_state_shape, output_activ_shape);</div>
<div class="line"><span class="lineno">  704</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> input_depth = input_shape.Dims(3);</div>
<div class="line"><span class="lineno">  705</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> prev_activ_depth = prev_activ_shape.Dims(3);</div>
<div class="line"><span class="lineno">  706</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> total_input_depth = prev_activ_depth + input_depth;</div>
<div class="line"><span class="lineno">  707</span>  TFLITE_DCHECK_EQ(weights_shape.Dims(weights_dim_count - 1), total_input_depth);</div>
<div class="line"><span class="lineno">  708</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> intern_activ_depth = MatchingDim(weights_shape, weights_dim_count - 2, bias_shape, 3);</div>
<div class="line"><span class="lineno">  709</span>  TFLITE_DCHECK_EQ(weights_shape.FlatSize(), intern_activ_depth * total_input_depth);</div>
<div class="line"><span class="lineno">  710</span>  TFLITE_DCHECK_EQ(FlatSizeSkipDim(bias_shape, 3), 1);</div>
<div class="line"><span class="lineno">  711</span>  TFLITE_DCHECK_EQ(intern_activ_depth % 4, 0);</div>
<div class="line"><span class="lineno">  712</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> output_depth = MatchingDim(prev_state_shape, 3, prev_activ_shape, 3, output_state_shape,</div>
<div class="line"><span class="lineno">  713</span>                                       3, output_activ_shape, 3);</div>
<div class="line"><span class="lineno">  714</span>  TFLITE_DCHECK_EQ(output_depth, intern_activ_depth / 4);</div>
<div class="line"><span class="lineno">  715</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> fc_batches = FlatSizeSkipDim(activ_temp_shape, 3);</div>
<div class="line"><span class="lineno">  716</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> fc_output_depth =</div>
<div class="line"><span class="lineno">  717</span>    MatchingDim(weights_shape, weights_dim_count - 2, activ_temp_shape, 3);</div>
<div class="line"><span class="lineno">  718</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> fc_accum_depth = total_input_depth;</div>
<div class="line"><span class="lineno">  719</span>  TFLITE_DCHECK_EQ(fc_output_depth, 4 * output_depth);</div>
<div class="line"><span class="lineno">  720</span> </div>
<div class="line"><span class="lineno">  721</span>  <span class="comment">// Depth-concatenate prev_activ and input data together.</span></div>
<div class="line"><span class="lineno">  722</span>  <a class="code hl_typedef" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> <span class="keyword">const</span> *concat_input_arrays_data[2] = {input_data_uint8, prev_activ_data_uint8};</div>
<div class="line"><span class="lineno">  723</span>  <span class="keyword">const</span> RuntimeShape *concat_input_arrays_shapes[2] = {&amp;input_shape, &amp;prev_activ_shape};</div>
<div class="line"><span class="lineno">  724</span>  tflite::ConcatenationParams concat_params;</div>
<div class="line"><span class="lineno">  725</span>  concat_params.axis = 3;</div>
<div class="line"><span class="lineno">  726</span>  concat_params.inputs_count = 2;</div>
<div class="line"><span class="lineno">  727</span>  <a class="code hl_function" href="_concatenation_8float_8cpp.html#a020b76a4c94f8290d95dfd1766d1ca41">Concatenation</a>(concat_params, concat_input_arrays_shapes, concat_input_arrays_data,</div>
<div class="line"><span class="lineno">  728</span>                concat_temp_shape, concat_temp_data_uint8);</div>
<div class="line"><span class="lineno">  729</span> </div>
<div class="line"><span class="lineno">  730</span>  <span class="comment">// Implementation of the fully connected node inside the LSTM cell.</span></div>
<div class="line"><span class="lineno">  731</span>  <span class="comment">// The operands are 8-bit integers, the accumulators are internally 32bit</span></div>
<div class="line"><span class="lineno">  732</span>  <span class="comment">// integers, and the output is 16-bit fixed-point with 3 integer bits so</span></div>
<div class="line"><span class="lineno">  733</span>  <span class="comment">// the output range is [-2^3, 2^3] == [-8, 8]. The rationale for that</span></div>
<div class="line"><span class="lineno">  734</span>  <span class="comment">// is explained in the function comment above.</span></div>
<div class="line"><span class="lineno">  735</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> b = 0; b &lt; fc_batches; ++b)</div>
<div class="line"><span class="lineno">  736</span>  {</div>
<div class="line"><span class="lineno">  737</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> out_c = 0; out_c &lt; fc_output_depth; ++out_c)</div>
<div class="line"><span class="lineno">  738</span>    {</div>
<div class="line"><span class="lineno">  739</span>      <span class="comment">// Internal accumulation.</span></div>
<div class="line"><span class="lineno">  740</span>      <span class="comment">// Initialize accumulator with the bias-value.</span></div>
<div class="line"><span class="lineno">  741</span>      <a class="code hl_typedef" href="topk__v2_8h.html#ab7903878916593daecbeb95b98115ab0">int32</a> accum = bias_data_int32[out_c];</div>
<div class="line"><span class="lineno">  742</span>      <span class="comment">// Accumulation loop.</span></div>
<div class="line"><span class="lineno">  743</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d = 0; d &lt; fc_accum_depth; ++d)</div>
<div class="line"><span class="lineno">  744</span>      {</div>
<div class="line"><span class="lineno">  745</span>        <a class="code hl_typedef" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> input_val = concat_temp_data_uint8[b * fc_accum_depth + d] - 128;</div>
<div class="line"><span class="lineno">  746</span>        <a class="code hl_typedef" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> weights_val = weights_data_uint8[out_c * fc_accum_depth + d] - weights_zero_point;</div>
<div class="line"><span class="lineno">  747</span>        accum += input_val * weights_val;</div>
<div class="line"><span class="lineno">  748</span>      }</div>
<div class="line"><span class="lineno">  749</span>      <span class="comment">// Down-scale the final int32 accumulator to the scale used by our</span></div>
<div class="line"><span class="lineno">  750</span>      <span class="comment">// (16-bit, using 3 integer bits) fixed-point format. The quantized</span></div>
<div class="line"><span class="lineno">  751</span>      <span class="comment">// multiplier and shift here have been pre-computed offline</span></div>
<div class="line"><span class="lineno">  752</span>      <span class="comment">// (e.g. by toco).</span></div>
<div class="line"><span class="lineno">  753</span>      accum = <a class="code hl_function" href="namespacennfw_1_1cker.html#af6b33a8f0c1d60e578337bdb8dcb3673">MultiplyByQuantizedMultiplier</a>(accum, accum_multiplier, accum_shift);</div>
<div class="line"><span class="lineno">  754</span>      <span class="comment">// Saturate, cast to int16, and store to the temporary activations array.</span></div>
<div class="line"><span class="lineno">  755</span>      accum = std::max(-32768, std::min(32767, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(accum)));</div>
<div class="line"><span class="lineno">  756</span>      activ_temp_data_int16[out_c + fc_output_depth * <a class="code hl_variable" href="namespacejpeg2hdf5.html#a1a0fe2ec4c2bc8757bcf4f0fcd4f74c1">b</a>] = accum;</div>
<div class="line"><span class="lineno">  757</span>    }</div>
<div class="line"><span class="lineno">  758</span>  }</div>
<div class="line"><span class="lineno">  759</span> </div>
<div class="line"><span class="lineno">  760</span>  <span class="comment">// Rest of the LSTM cell: tanh and logistic math functions, and some adds</span></div>
<div class="line"><span class="lineno">  761</span>  <span class="comment">// and muls, all done in 16-bit fixed-point.</span></div>
<div class="line"><span class="lineno">  762</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> b = 0; <a class="code hl_variable" href="namespacejpeg2hdf5.html#a1a0fe2ec4c2bc8757bcf4f0fcd4f74c1">b</a> &lt; outer_size; ++<a class="code hl_variable" href="namespacejpeg2hdf5.html#a1a0fe2ec4c2bc8757bcf4f0fcd4f74c1">b</a>)</div>
<div class="line"><span class="lineno">  763</span>  {</div>
<div class="line"><span class="lineno">  764</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = 0; c &lt; output_depth; ++c)</div>
<div class="line"><span class="lineno">  765</span>    {</div>
<div class="line"><span class="lineno">  766</span>      <span class="comment">// Define the fixed-point data types that we will use here. All use</span></div>
<div class="line"><span class="lineno">  767</span>      <span class="comment">// int16 as the underlying integer type i.e. all are 16-bit fixed-point.</span></div>
<div class="line"><span class="lineno">  768</span>      <span class="comment">// They only differ by the number of integral vs. fractional bits,</span></div>
<div class="line"><span class="lineno">  769</span>      <span class="comment">// determining the range of values that they can represent.</span></div>
<div class="line"><span class="lineno">  770</span>      <span class="comment">//</span></div>
<div class="line"><span class="lineno">  771</span>      <span class="comment">// F0 uses 0 integer bits, range [-1, 1].</span></div>
<div class="line"><span class="lineno">  772</span>      <span class="comment">// This is the return type of math functions such as tanh, logistic,</span></div>
<div class="line"><span class="lineno">  773</span>      <span class="comment">// whose range is in [-1, 1].</span></div>
<div class="line"><span class="lineno">  774</span>      <span class="keyword">using </span>F0 = gemmlowp::FixedPoint&lt;std::int16_t, 0&gt;;</div>
<div class="line"><span class="lineno">  775</span>      <span class="comment">// F3 uses 3 integer bits, range [-8, 8].</span></div>
<div class="line"><span class="lineno">  776</span>      <span class="comment">// This is the range of the previous fully-connected node&#39;s output,</span></div>
<div class="line"><span class="lineno">  777</span>      <span class="comment">// which is our input here.</span></div>
<div class="line"><span class="lineno">  778</span>      <span class="keyword">using </span>F3 = gemmlowp::FixedPoint&lt;std::int16_t, 3&gt;;</div>
<div class="line"><span class="lineno">  779</span>      <span class="comment">// FS uses StateIntegerBits integer bits, range [-2^StateIntegerBits,</span></div>
<div class="line"><span class="lineno">  780</span>      <span class="comment">// 2^StateIntegerBits]. It&#39;s used to represent the internal state, whose</span></div>
<div class="line"><span class="lineno">  781</span>      <span class="comment">// number of integer bits is currently dictated by the model. See comment</span></div>
<div class="line"><span class="lineno">  782</span>      <span class="comment">// on the StateIntegerBits template parameter above.</span></div>
<div class="line"><span class="lineno">  783</span>      <span class="keyword">using </span>FS = gemmlowp::FixedPoint&lt;std::int16_t, StateIntegerBits&gt;;</div>
<div class="line"><span class="lineno">  784</span>      <span class="comment">// Implementation of input gate, using fixed-point logistic function.</span></div>
<div class="line"><span class="lineno">  785</span>      F3 input_gate_input =</div>
<div class="line"><span class="lineno">  786</span>        F3::FromRaw(activ_temp_data_int16[b * fc_output_depth + 0 * output_depth + c]);</div>
<div class="line"><span class="lineno">  787</span>      F0 input_gate_output = gemmlowp::logistic(input_gate_input);</div>
<div class="line"><span class="lineno">  788</span>      <span class="comment">// Implementation of input modulation gate, using fixed-point tanh</span></div>
<div class="line"><span class="lineno">  789</span>      <span class="comment">// function.</span></div>
<div class="line"><span class="lineno">  790</span>      F3 input_modulation_gate_input =</div>
<div class="line"><span class="lineno">  791</span>        F3::FromRaw(activ_temp_data_int16[b * fc_output_depth + 1 * output_depth + c]);</div>
<div class="line"><span class="lineno">  792</span>      F0 input_modulation_gate_output = gemmlowp::tanh(input_modulation_gate_input);</div>
<div class="line"><span class="lineno">  793</span>      <span class="comment">// Implementation of forget gate, using fixed-point logistic function.</span></div>
<div class="line"><span class="lineno">  794</span>      F3 forget_gate_input =</div>
<div class="line"><span class="lineno">  795</span>        F3::FromRaw(activ_temp_data_int16[b * fc_output_depth + 2 * output_depth + c]);</div>
<div class="line"><span class="lineno">  796</span>      F0 forget_gate_output = gemmlowp::logistic(forget_gate_input);</div>
<div class="line"><span class="lineno">  797</span>      <span class="comment">// Implementation of output gate, using fixed-point logistic function.</span></div>
<div class="line"><span class="lineno">  798</span>      F3 output_gate_input =</div>
<div class="line"><span class="lineno">  799</span>        F3::FromRaw(activ_temp_data_int16[b * fc_output_depth + 3 * output_depth + c]);</div>
<div class="line"><span class="lineno">  800</span>      F0 output_gate_output = gemmlowp::logistic(output_gate_input);</div>
<div class="line"><span class="lineno">  801</span>      <span class="comment">// Implementation of internal multiplication nodes, still in fixed-point.</span></div>
<div class="line"><span class="lineno">  802</span>      F0 input_times_input_modulation = input_gate_output * input_modulation_gate_output;</div>
<div class="line"><span class="lineno">  803</span>      FS prev_state = FS::FromRaw(prev_state_data_int16[b * output_depth + c]);</div>
<div class="line"><span class="lineno">  804</span>      FS prev_state_times_forget_state = forget_gate_output * prev_state;</div>
<div class="line"><span class="lineno">  805</span>      <span class="comment">// Implementation of internal addition node, saturating.</span></div>
<div class="line"><span class="lineno">  806</span>      FS new_state =</div>
<div class="line"><span class="lineno">  807</span>        gemmlowp::SaturatingAdd(gemmlowp::Rescale&lt;StateIntegerBits&gt;(input_times_input_modulation),</div>
<div class="line"><span class="lineno">  808</span>                                prev_state_times_forget_state);</div>
<div class="line"><span class="lineno">  809</span>      <span class="comment">// Implementation of last internal Tanh node, still in fixed-point.</span></div>
<div class="line"><span class="lineno">  810</span>      <span class="comment">// Since a Tanh fixed-point implementation is specialized for a given</span></div>
<div class="line"><span class="lineno">  811</span>      <span class="comment">// number or integer bits, and each specialization can have a substantial</span></div>
<div class="line"><span class="lineno">  812</span>      <span class="comment">// code size, and we already used above a Tanh on an input with 3 integer</span></div>
<div class="line"><span class="lineno">  813</span>      <span class="comment">// bits, and per the table in the above function comment there is no</span></div>
<div class="line"><span class="lineno">  814</span>      <span class="comment">// significant accuracy to be lost by clamping to [-8, +8] for a</span></div>
<div class="line"><span class="lineno">  815</span>      <span class="comment">// 3-integer-bits representation, let us just do that. This helps people</span></div>
<div class="line"><span class="lineno">  816</span>      <span class="comment">// porting this to targets where code footprint must be minimized.</span></div>
<div class="line"><span class="lineno">  817</span>      F3 new_state_f3 = gemmlowp::Rescale&lt;3&gt;(new_state);</div>
<div class="line"><span class="lineno">  818</span>      F0 output_activ_int16 = output_gate_output * gemmlowp::tanh(new_state_f3);</div>
<div class="line"><span class="lineno">  819</span>      <span class="comment">// Store the new internal state back to memory, as 16-bit integers.</span></div>
<div class="line"><span class="lineno">  820</span>      <span class="comment">// Note: here we store the original value with StateIntegerBits, not</span></div>
<div class="line"><span class="lineno">  821</span>      <span class="comment">// the rescaled 3-integer-bits value fed to tanh.</span></div>
<div class="line"><span class="lineno">  822</span>      output_state_data_int16[<a class="code hl_variable" href="namespacejpeg2hdf5.html#a1a0fe2ec4c2bc8757bcf4f0fcd4f74c1">b</a> * output_depth + c] = new_state.raw();</div>
<div class="line"><span class="lineno">  823</span>      <span class="comment">// Down-scale the output activations to 8-bit integers, saturating,</span></div>
<div class="line"><span class="lineno">  824</span>      <span class="comment">// and store back to memory.</span></div>
<div class="line"><span class="lineno">  825</span>      <a class="code hl_typedef" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> rescaled_output_activ = gemmlowp::RoundingDivideByPOT(output_activ_int16.raw(), 8);</div>
<div class="line"><span class="lineno">  826</span>      <a class="code hl_typedef" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> clamped_output_activ =</div>
<div class="line"><span class="lineno">  827</span>        std::max&lt;int16&gt;(-128, std::min&lt;int16&gt;(127, rescaled_output_activ));</div>
<div class="line"><span class="lineno">  828</span>      output_activ_data_uint8[<a class="code hl_variable" href="namespacejpeg2hdf5.html#a1a0fe2ec4c2bc8757bcf4f0fcd4f74c1">b</a> * output_depth + c] = 128 + clamped_output_activ;</div>
<div class="line"><span class="lineno">  829</span>    }</div>
<div class="line"><span class="lineno">  830</span>  }</div>
<div class="line"><span class="lineno">  831</span>}</div>
<div class="ttc" id="aann-ref_2src_2ops_2internal_2_macro_8h_html_ac2abd1926482d6e74d1a30ee2ea5d6f8"><div class="ttname"><a href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a></div><div class="ttdeci">std::int16_t int16</div><div class="ttdef"><b>Definition:</b> <a href="ann-ref_2src_2ops_2internal_2_macro_8h_source.html#l00053">Macro.h:53</a></div></div>
<div class="ttc" id="anamespacejpeg2hdf5_html_a1a0fe2ec4c2bc8757bcf4f0fcd4f74c1"><div class="ttname"><a href="namespacejpeg2hdf5.html#a1a0fe2ec4c2bc8757bcf4f0fcd4f74c1">jpeg2hdf5.b</a></div><div class="ttdeci">b</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2hdf5_8py_source.html#l00105">jpeg2hdf5.py:105</a></div></div>
<div class="ttc" id="anamespacennfw_1_1cker_html_af6b33a8f0c1d60e578337bdb8dcb3673"><div class="ttname"><a href="namespacennfw_1_1cker.html#af6b33a8f0c1d60e578337bdb8dcb3673">nnfw::cker::MultiplyByQuantizedMultiplier</a></div><div class="ttdeci">int32_t MultiplyByQuantizedMultiplier(int32_t x, int32_t quantized_multiplier, int shift)</div><div class="ttdef"><b>Definition:</b> <a href="compute_2cker_2include_2cker_2_utils_8h_source.html#l00093">Utils.h:93</a></div></div>
<div class="ttc" id="atopk__v2_8h_html_ab7903878916593daecbeb95b98115ab0"><div class="ttname"><a href="topk__v2_8h.html#ab7903878916593daecbeb95b98115ab0">int32</a></div><div class="ttdeci">int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="topk__v2_8h_source.html#l00027">topk_v2.h:27</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_concatenation_8float_8cpp_source.html#l00027">Concatenation()</a>.</p>

</div>
</div>
<a id="a141c7c0947fa0aee69d80429223e711c" name="a141c7c0947fa0aee69d80429223e711c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a141c7c0947fa0aee69d80429223e711c">&#9670;&#160;</a></span>Maximum() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::Maximum </td>
          <td>(</td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input1_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>input1_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>input2_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01171">1171</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1173</span>{</div>
<div class="line"><span class="lineno"> 1174</span>  <span class="comment">// Drop shape of second input: not needed.</span></div>
<div class="line"><span class="lineno"> 1175</span>  <a class="code hl_function" href="namespacetflite_1_1reference__ops.html#af3b384754e031b093a289db3290dae5c">Maximum</a>(input1_shape, input1_data, input2_data, output_shape, output_data);</div>
<div class="line"><span class="lineno"> 1176</span>}</div>
<div class="ttc" id="anamespacetflite_1_1reference__ops_html_af3b384754e031b093a289db3290dae5c"><div class="ttname"><a href="namespacetflite_1_1reference__ops.html#af3b384754e031b093a289db3290dae5c">tflite::reference_ops::Maximum</a></div><div class="ttdeci">void Maximum(const RuntimeShape &amp;input1_shape, const T *input1_data, const T *input2_data, const RuntimeShape &amp;output_shape, T *output_data)</div><div class="ttdef"><b>Definition:</b> <a href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01156">PALreference_ops.h:1156</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01156">Maximum()</a>.</p>

</div>
</div>
<a id="af3b384754e031b093a289db3290dae5c" name="af3b384754e031b093a289db3290dae5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3b384754e031b093a289db3290dae5c">&#9670;&#160;</a></span>Maximum() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::Maximum </td>
          <td>(</td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input1_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>input1_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>input2_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01156">1156</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1158</span>{</div>
<div class="line"><span class="lineno"> 1159</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> flat_size = <a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a93604338a7a3801ed30692282ff124ce">MatchingFlatSize</a>(input1_shape, output_shape);</div>
<div class="line"><span class="lineno"> 1160</span> </div>
<div class="line"><span class="lineno"> 1161</span>  <span class="keyword">auto</span> max_value = input2_data[0];</div>
<div class="line"><span class="lineno"> 1162</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; flat_size; i++)</div>
<div class="line"><span class="lineno"> 1163</span>  {</div>
<div class="line"><span class="lineno"> 1164</span>    output_data[i] = input1_data[i] &lt; max_value ? max_value : input1_data[i];</div>
<div class="line"><span class="lineno"> 1165</span>  }</div>
<div class="line"><span class="lineno"> 1166</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ann-ref_2src_2ops_2internal_2dims_8h_source.html#l00108">MatchingFlatSize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01171">Maximum()</a>.</p>

</div>
</div>
<a id="a728abbca6372288df2090a720ca312b3" name="a728abbca6372288df2090a720ca312b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a728abbca6372288df2090a720ca312b3">&#9670;&#160;</a></span>Minimum() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::Minimum </td>
          <td>(</td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input1_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>input1_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>input2_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01148">1148</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1150</span>{</div>
<div class="line"><span class="lineno"> 1151</span>  <span class="comment">// Drop shape of second input: not needed.</span></div>
<div class="line"><span class="lineno"> 1152</span>  <a class="code hl_function" href="namespacetflite_1_1reference__ops.html#a7f84e456857e3dcb9390c19e22746045">Minimum</a>(input1_shape, input1_data, input2_data, output_shape, output_data);</div>
<div class="line"><span class="lineno"> 1153</span>}</div>
<div class="ttc" id="anamespacetflite_1_1reference__ops_html_a7f84e456857e3dcb9390c19e22746045"><div class="ttname"><a href="namespacetflite_1_1reference__ops.html#a7f84e456857e3dcb9390c19e22746045">tflite::reference_ops::Minimum</a></div><div class="ttdeci">void Minimum(const RuntimeShape &amp;input1_shape, const T *input1_data, const T *input2_data, const RuntimeShape &amp;output_shape, T *output_data)</div><div class="ttdef"><b>Definition:</b> <a href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01133">PALreference_ops.h:1133</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01133">Minimum()</a>.</p>

</div>
</div>
<a id="a7f84e456857e3dcb9390c19e22746045" name="a7f84e456857e3dcb9390c19e22746045"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f84e456857e3dcb9390c19e22746045">&#9670;&#160;</a></span>Minimum() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::Minimum </td>
          <td>(</td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input1_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>input1_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>input2_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01133">1133</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1135</span>{</div>
<div class="line"><span class="lineno"> 1136</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> flat_size = <a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a93604338a7a3801ed30692282ff124ce">MatchingFlatSize</a>(input1_shape, output_shape);</div>
<div class="line"><span class="lineno"> 1137</span> </div>
<div class="line"><span class="lineno"> 1138</span>  <span class="keyword">auto</span> min_value = input2_data[0];</div>
<div class="line"><span class="lineno"> 1139</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; flat_size; i++)</div>
<div class="line"><span class="lineno"> 1140</span>  {</div>
<div class="line"><span class="lineno"> 1141</span>    output_data[i] = input1_data[i] &gt; min_value ? min_value : input1_data[i];</div>
<div class="line"><span class="lineno"> 1142</span>  }</div>
<div class="line"><span class="lineno"> 1143</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ann-ref_2src_2ops_2internal_2dims_8h_source.html#l00108">MatchingFlatSize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01148">Minimum()</a>.</p>

</div>
</div>
<a id="a93b1b0b7d4b90e161a7deb12f6b120a1" name="a93b1b0b7d4b90e161a7deb12f6b120a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93b1b0b7d4b90e161a7deb12f6b120a1">&#9670;&#160;</a></span>Mul() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::Mul </td>
          <td>(</td>
          <td class="paramtype">const ArithmeticParams &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input1_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> *&#160;</td>
          <td class="paramname"><em>input1_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input2_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> *&#160;</td>
          <td class="paramname"><em>input2_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00242">242</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  245</span>{</div>
<div class="line"><span class="lineno">  246</span>  ruy::profiler::ScopeLabel label(<span class="stringliteral">&quot;Mul/Int16&quot;</span>);</div>
<div class="line"><span class="lineno">  247</span> </div>
<div class="line"><span class="lineno">  248</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> flat_size = MatchingElementsSize(input1_shape, input2_shape, output_shape);</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; flat_size; i++)</div>
<div class="line"><span class="lineno">  251</span>  {</div>
<div class="line"><span class="lineno">  252</span>    <span class="comment">// F0 uses 0 integer bits, range [-1, 1].</span></div>
<div class="line"><span class="lineno">  253</span>    <span class="keyword">using </span>F0 = gemmlowp::FixedPoint&lt;std::int16_t, 0&gt;;</div>
<div class="line"><span class="lineno">  254</span> </div>
<div class="line"><span class="lineno">  255</span>    F0 unclamped_result = F0::FromRaw(input1_data[i]) * F0::FromRaw(input2_data[i]);</div>
<div class="line"><span class="lineno">  256</span>    output_data[i] = unclamped_result.raw();</div>
<div class="line"><span class="lineno">  257</span>  }</div>
<div class="line"><span class="lineno">  258</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1cbb042a8910b2a54cc01b147198c9af" name="a1cbb042a8910b2a54cc01b147198c9af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cbb042a8910b2a54cc01b147198c9af">&#9670;&#160;</a></span>Mul() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::Mul </td>
          <td>(</td>
          <td class="paramtype">const ArithmeticParams &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input1_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> *&#160;</td>
          <td class="paramname"><em>input1_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input2_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> *&#160;</td>
          <td class="paramname"><em>input2_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00260">260</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  263</span>{</div>
<div class="line"><span class="lineno">  264</span>  ruy::profiler::ScopeLabel label(<span class="stringliteral">&quot;Mul/Int16Uint8&quot;</span>);</div>
<div class="line"><span class="lineno">  265</span>  <a class="code hl_typedef" href="topk__v2_8h.html#ab7903878916593daecbeb95b98115ab0">int32</a> output_offset = params.output_offset;</div>
<div class="line"><span class="lineno">  266</span>  <a class="code hl_typedef" href="topk__v2_8h.html#ab7903878916593daecbeb95b98115ab0">int32</a> output_activation_min = params.quantized_activation_min;</div>
<div class="line"><span class="lineno">  267</span>  <a class="code hl_typedef" href="topk__v2_8h.html#ab7903878916593daecbeb95b98115ab0">int32</a> output_activation_max = params.quantized_activation_max;</div>
<div class="line"><span class="lineno">  268</span>  TFLITE_DCHECK_LE(output_activation_min, output_activation_max);</div>
<div class="line"><span class="lineno">  269</span> </div>
<div class="line"><span class="lineno">  270</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> flat_size = MatchingElementsSize(input1_shape, input2_shape, output_shape);</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; flat_size; i++)</div>
<div class="line"><span class="lineno">  273</span>  {</div>
<div class="line"><span class="lineno">  274</span>    <span class="comment">// F0 uses 0 integer bits, range [-1, 1].</span></div>
<div class="line"><span class="lineno">  275</span>    <span class="keyword">using </span>F0 = gemmlowp::FixedPoint&lt;std::int16_t, 0&gt;;</div>
<div class="line"><span class="lineno">  276</span> </div>
<div class="line"><span class="lineno">  277</span>    F0 unclamped_result = F0::FromRaw(input1_data[i]) * F0::FromRaw(input2_data[i]);</div>
<div class="line"><span class="lineno">  278</span>    <a class="code hl_typedef" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> rescaled_result = gemmlowp::RoundingDivideByPOT(unclamped_result.raw(), 8);</div>
<div class="line"><span class="lineno">  279</span>    <a class="code hl_typedef" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> clamped_result = std::min&lt;int16&gt;(output_activation_max - output_offset, rescaled_result);</div>
<div class="line"><span class="lineno">  280</span>    clamped_result = std::max&lt;int16&gt;(output_activation_min - output_offset, clamped_result);</div>
<div class="line"><span class="lineno">  281</span>    output_data[i] = output_offset + clamped_result;</div>
<div class="line"><span class="lineno">  282</span>  }</div>
<div class="line"><span class="lineno">  283</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad25c386ad338ae43ace667a04f011ab4" name="ad25c386ad338ae43ace667a04f011ab4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad25c386ad338ae43ace667a04f011ab4">&#9670;&#160;</a></span>NodeOffset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int tflite::reference_ops::NodeOffset </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>width</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00882">882</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  883</span>{</div>
<div class="line"><span class="lineno">  884</span>  <span class="keywordflow">return</span> (b * height + h) * width + w;</div>
<div class="line"><span class="lineno">  885</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab8d5cc06793963a3880f564ae2744404" name="ab8d5cc06793963a3880f564ae2744404"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8d5cc06793963a3880f564ae2744404">&#9670;&#160;</a></span>Pack()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::Pack </td>
          <td>(</td>
          <td class="paramtype">const PackParams &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape *const *&#160;</td>
          <td class="paramname"><em>input_shapes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Scalar *const *&#160;</td>
          <td class="paramname"><em>input_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Scalar *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00338">338</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  340</span>{</div>
<div class="line"><span class="lineno">  341</span>  ruy::profiler::ScopeLabel label(<span class="stringliteral">&quot;Pack&quot;</span>);</div>
<div class="line"><span class="lineno">  342</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> dimensions = output_shape.DimensionsCount();</div>
<div class="line"><span class="lineno">  343</span>  <span class="keywordtype">int</span> axis = params.axis;</div>
<div class="line"><span class="lineno">  344</span>  <span class="keywordtype">int</span> inputs_count = params.inputs_count;</div>
<div class="line"><span class="lineno">  345</span> </div>
<div class="line"><span class="lineno">  346</span>  <span class="keywordtype">int</span> outer_size = 1;</div>
<div class="line"><span class="lineno">  347</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; axis; i++)</div>
<div class="line"><span class="lineno">  348</span>  {</div>
<div class="line"><span class="lineno">  349</span>    outer_size *= output_shape.Dims(i);</div>
<div class="line"><span class="lineno">  350</span>  }</div>
<div class="line"><span class="lineno">  351</span>  <span class="keywordtype">int</span> copy_size = 1;</div>
<div class="line"><span class="lineno">  352</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = params.axis + 1; i &lt; dimensions; i++)</div>
<div class="line"><span class="lineno">  353</span>  {</div>
<div class="line"><span class="lineno">  354</span>    copy_size *= output_shape.Dims(i);</div>
<div class="line"><span class="lineno">  355</span>  }</div>
<div class="line"><span class="lineno">  356</span>  TFLITE_DCHECK_EQ((**input_shapes).FlatSize(), copy_size * outer_size);</div>
<div class="line"><span class="lineno">  357</span> </div>
<div class="line"><span class="lineno">  358</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; inputs_count; ++i)</div>
<div class="line"><span class="lineno">  359</span>  {</div>
<div class="line"><span class="lineno">  360</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; outer_size; k++)</div>
<div class="line"><span class="lineno">  361</span>    {</div>
<div class="line"><span class="lineno">  362</span>      <span class="keyword">const</span> Scalar *input_ptr = input_data[i] + copy_size * k;</div>
<div class="line"><span class="lineno">  363</span>      <span class="keywordtype">int</span> loc = k * inputs_count * copy_size + i * copy_size;</div>
<div class="line"><span class="lineno">  364</span>      memcpy(output_data + loc, input_ptr, copy_size * <span class="keyword">sizeof</span>(Scalar));</div>
<div class="line"><span class="lineno">  365</span>    }</div>
<div class="line"><span class="lineno">  366</span>  }</div>
<div class="line"><span class="lineno">  367</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab420aab0d44c8ef32a3d7b2aa6787fac" name="ab420aab0d44c8ef32a3d7b2aa6787fac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab420aab0d44c8ef32a3d7b2aa6787fac">&#9670;&#160;</a></span>PackWithScaling()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::PackWithScaling </td>
          <td>(</td>
          <td class="paramtype">const PackParams &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape *const *&#160;</td>
          <td class="paramname"><em>input_shapes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *const *&#160;</td>
          <td class="paramname"><em>input_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#a115946cb5fc5879545e9ccea096a6031">uint8</a> *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00408">408</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  411</span>{</div>
<div class="line"><span class="lineno">  412</span>  ruy::profiler::ScopeLabel label(<span class="stringliteral">&quot;PackWithScaling&quot;</span>);</div>
<div class="line"><span class="lineno">  413</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> dimensions = output_shape.DimensionsCount();</div>
<div class="line"><span class="lineno">  414</span>  <span class="keywordtype">int</span> axis = params.axis;</div>
<div class="line"><span class="lineno">  415</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="topk__v2_8h.html#ab7903878916593daecbeb95b98115ab0">int32</a> *input_zeropoint = params.input_zeropoint;</div>
<div class="line"><span class="lineno">  416</span>  <span class="keyword">const</span> <span class="keywordtype">float</span> *input_scale = params.input_scale;</div>
<div class="line"><span class="lineno">  417</span>  <span class="keywordtype">int</span> inputs_count = params.inputs_count;</div>
<div class="line"><span class="lineno">  418</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="topk__v2_8h.html#ab7903878916593daecbeb95b98115ab0">int32</a> output_zeropoint = params.output_zeropoint;</div>
<div class="line"><span class="lineno">  419</span>  <span class="keyword">const</span> <span class="keywordtype">float</span> output_scale = params.output_scale;</div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>  <span class="keywordtype">int</span> outer_size = 1;</div>
<div class="line"><span class="lineno">  422</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; axis; i++)</div>
<div class="line"><span class="lineno">  423</span>  {</div>
<div class="line"><span class="lineno">  424</span>    outer_size *= output_shape.Dims(i);</div>
<div class="line"><span class="lineno">  425</span>  }</div>
<div class="line"><span class="lineno">  426</span>  <span class="keywordtype">int</span> copy_size = 1;</div>
<div class="line"><span class="lineno">  427</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = axis + 1; i &lt; dimensions; i++)</div>
<div class="line"><span class="lineno">  428</span>  {</div>
<div class="line"><span class="lineno">  429</span>    copy_size *= output_shape.Dims(i);</div>
<div class="line"><span class="lineno">  430</span>  }</div>
<div class="line"><span class="lineno">  431</span>  TFLITE_DCHECK_EQ((**input_shapes).FlatSize(), copy_size * outer_size);</div>
<div class="line"><span class="lineno">  432</span> </div>
<div class="line"><span class="lineno">  433</span>  Scalar *output_ptr = output_data;</div>
<div class="line"><span class="lineno">  434</span>  <span class="keyword">const</span> <span class="keywordtype">float</span> inverse_output_scale = 1.f / output_scale;</div>
<div class="line"><span class="lineno">  435</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; outer_size; k++)</div>
<div class="line"><span class="lineno">  436</span>  {</div>
<div class="line"><span class="lineno">  437</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; inputs_count; ++i)</div>
<div class="line"><span class="lineno">  438</span>    {</div>
<div class="line"><span class="lineno">  439</span>      <span class="keywordflow">if</span> (input_zeropoint[i] == output_zeropoint &amp;&amp; input_scale[i] == output_scale)</div>
<div class="line"><span class="lineno">  440</span>      {</div>
<div class="line"><span class="lineno">  441</span>        memcpy(output_ptr, input_data[i] + k * copy_size, copy_size * <span class="keyword">sizeof</span>(Scalar));</div>
<div class="line"><span class="lineno">  442</span>      }</div>
<div class="line"><span class="lineno">  443</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  444</span>      {</div>
<div class="line"><span class="lineno">  445</span>        assert(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  446</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a0cb47aeb6e5f9323f0969e628c4e59f5">scale</a> = input_scale[i] * inverse_output_scale;</div>
<div class="line"><span class="lineno">  447</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">bias</a> = -input_zeropoint[i] * <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a0cb47aeb6e5f9323f0969e628c4e59f5">scale</a>;</div>
<div class="line"><span class="lineno">  448</span>        <span class="keyword">auto</span> input_ptr = <a class="code hl_variable" href="namespacepart__eval__one.html#a818987310f1a181c06a880dab57fcf39">input_data</a>[i];</div>
<div class="line"><span class="lineno">  449</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; copy_size; ++j)</div>
<div class="line"><span class="lineno">  450</span>        {</div>
<div class="line"><span class="lineno">  451</span>          <span class="keyword">const</span> <span class="keywordtype">int</span> value =</div>
<div class="line"><span class="lineno">  452</span>            <span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(std::round(input_ptr[j] * scale + bias)) + output_zeropoint;</div>
<div class="line"><span class="lineno">  453</span>          output_ptr[j] = <span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(std::max(std::min(255, value), 0));</div>
<div class="line"><span class="lineno">  454</span>        }</div>
<div class="line"><span class="lineno">  455</span>      }</div>
<div class="line"><span class="lineno">  456</span>      output_ptr += copy_size;</div>
<div class="line"><span class="lineno">  457</span>    }</div>
<div class="line"><span class="lineno">  458</span>  }</div>
<div class="line"><span class="lineno">  459</span>}</div>
<div class="ttc" id="anamespacemir__caffe_html_a80d91a921af9e0cb352bf83b19ed18c8a0cb47aeb6e5f9323f0969e628c4e59f5"><div class="ttname"><a href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a0cb47aeb6e5f9323f0969e628c4e59f5">mir_caffe::CaffeOpType::scale</a></div><div class="ttdeci">@ scale</div></div>
<div class="ttc" id="anamespacemir__caffe_html_a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc"><div class="ttname"><a href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">mir_caffe::CaffeOpType::bias</a></div><div class="ttdeci">@ bias</div></div>
<div class="ttc" id="anamespacepart__eval__one_html_a818987310f1a181c06a880dab57fcf39"><div class="ttname"><a href="namespacepart__eval__one.html#a818987310f1a181c06a880dab57fcf39">part_eval_one.input_data</a></div><div class="ttdeci">input_data</div><div class="ttdef"><b>Definition:</b> <a href="part__eval__one_8py_source.html#l00075">part_eval_one.py:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8a4c2f62ac2c7b27d513aa8446a8fca6" name="a8a4c2f62ac2c7b27d513aa8446a8fca6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a4c2f62ac2c7b27d513aa8446a8fca6">&#9670;&#160;</a></span>Pow()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::Pow </td>
          <td>(</td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input1_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>input1_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input2_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>input2_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01376">1376</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1379</span>{</div>
<div class="line"><span class="lineno"> 1380</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> flat_size = <a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a93604338a7a3801ed30692282ff124ce">MatchingFlatSize</a>(input1_shape, input2_shape, output_shape);</div>
<div class="line"><span class="lineno"> 1381</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; flat_size; ++i)</div>
<div class="line"><span class="lineno"> 1382</span>  {</div>
<div class="line"><span class="lineno"> 1383</span>    output_data[i] = std::pow(input1_data[i], input2_data[i]);</div>
<div class="line"><span class="lineno"> 1384</span>  }</div>
<div class="line"><span class="lineno"> 1385</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ann-ref_2src_2ops_2internal_2dims_8h_source.html#l00108">MatchingFlatSize()</a>.</p>

</div>
</div>
<a id="a8823474ca8abbdb3cf4c1b8f8414eb0e" name="a8823474ca8abbdb3cf4c1b8f8414eb0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8823474ca8abbdb3cf4c1b8f8414eb0e">&#9670;&#160;</a></span>RankOneSelect()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename D , typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::RankOneSelect </td>
          <td>(</td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input_condition_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const D *&#160;</td>
          <td class="paramname"><em>input_condition_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input_x_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>input_x_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input_y_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>input_y_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01221">1221</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1225</span>{</div>
<div class="line"><span class="lineno"> 1226</span>  <span class="keyword">const</span> int64_t outer_size = input_condition_shape.FlatSize();</div>
<div class="line"><span class="lineno"> 1227</span>  int64_t inner_size;</div>
<div class="line"><span class="lineno"> 1228</span>  <span class="keywordflow">if</span> (input_condition_shape.DimensionsCount() == 0)</div>
<div class="line"><span class="lineno"> 1229</span>  {</div>
<div class="line"><span class="lineno"> 1230</span>    inner_size = <a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a93604338a7a3801ed30692282ff124ce">MatchingFlatSize</a>(input_x_shape, input_y_shape, output_shape);</div>
<div class="line"><span class="lineno"> 1231</span>  }</div>
<div class="line"><span class="lineno"> 1232</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1233</span>  {</div>
<div class="line"><span class="lineno"> 1234</span>    TFLITE_DCHECK_EQ(MatchingDim(input_x_shape, 0, input_y_shape, 0, output_shape, 0), outer_size);</div>
<div class="line"><span class="lineno"> 1235</span>    inner_size = MatchingFlatSizeSkipDim(input_x_shape, 0, input_y_shape, output_shape);</div>
<div class="line"><span class="lineno"> 1236</span>  }</div>
<div class="line"><span class="lineno"> 1237</span> </div>
<div class="line"><span class="lineno"> 1238</span>  int64_t <a class="code hl_function" href="helpers_8h.html#a4feba60a9e39bac7e69e89159514c9e6">offset</a> = 0;</div>
<div class="line"><span class="lineno"> 1239</span>  <span class="keywordflow">for</span> (int64_t i = 0; i &lt; outer_size; i++)</div>
<div class="line"><span class="lineno"> 1240</span>  {</div>
<div class="line"><span class="lineno"> 1241</span>    <span class="keyword">const</span> T *input_data = input_condition_data[i] ? input_x_data : input_y_data;</div>
<div class="line"><span class="lineno"> 1242</span>    memcpy(output_data + <a class="code hl_function" href="helpers_8h.html#a4feba60a9e39bac7e69e89159514c9e6">offset</a>, input_data + <a class="code hl_function" href="helpers_8h.html#a4feba60a9e39bac7e69e89159514c9e6">offset</a>, inner_size * <span class="keyword">sizeof</span>(T));</div>
<div class="line"><span class="lineno"> 1243</span>    <a class="code hl_function" href="helpers_8h.html#a4feba60a9e39bac7e69e89159514c9e6">offset</a> += inner_size;</div>
<div class="line"><span class="lineno"> 1244</span>  }</div>
<div class="line"><span class="lineno"> 1245</span>}</div>
<div class="ttc" id="ahelpers_8h_html_a4feba60a9e39bac7e69e89159514c9e6"><div class="ttname"><a href="helpers_8h.html#a4feba60a9e39bac7e69e89159514c9e6">offset</a></div><div class="ttdeci">__global uchar * offset(const Image *img, int x, int y)</div><div class="ttdef"><b>Definition:</b> <a href="helpers_8h_source.html#l00540">helpers.h:540</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ann-ref_2src_2ops_2internal_2dims_8h_source.html#l00108">MatchingFlatSize()</a>, and <a class="el" href="helpers_8h_source.html#l00540">offset()</a>.</p>

</div>
</div>
<a id="a48484c4af55919a1b26d57d40df486b7" name="a48484c4af55919a1b26d57d40df486b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48484c4af55919a1b26d57d40df486b7">&#9670;&#160;</a></span>Relu()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::Relu </td>
          <td>(</td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>input_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00109">109</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  111</span>{</div>
<div class="line"><span class="lineno">  112</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> flat_size = <a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a93604338a7a3801ed30692282ff124ce">MatchingFlatSize</a>(input_shape, output_shape);</div>
<div class="line"><span class="lineno">  113</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; flat_size; ++i)</div>
<div class="line"><span class="lineno">  114</span>  {</div>
<div class="line"><span class="lineno">  115</span>    <span class="keyword">const</span> T val = input_data[i];</div>
<div class="line"><span class="lineno">  116</span>    <span class="keyword">const</span> T lower = 0;</div>
<div class="line"><span class="lineno">  117</span>    <span class="keyword">const</span> T clamped = val &lt; lower ? lower : val;</div>
<div class="line"><span class="lineno">  118</span>    output_data[i] = clamped;</div>
<div class="line"><span class="lineno">  119</span>  }</div>
<div class="line"><span class="lineno">  120</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ann-ref_2src_2ops_2internal_2dims_8h_source.html#l00108">MatchingFlatSize()</a>.</p>

</div>
</div>
<a id="a3293ba16b45d007a43ac991cd7b8fe11" name="a3293ba16b45d007a43ac991cd7b8fe11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3293ba16b45d007a43ac991cd7b8fe11">&#9670;&#160;</a></span>Relu1()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::Relu1 </td>
          <td>(</td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>input_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00123">123</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  125</span>{</div>
<div class="line"><span class="lineno">  126</span>  ruy::profiler::ScopeLabel label(<span class="stringliteral">&quot;Relu1 (not fused)&quot;</span>);</div>
<div class="line"><span class="lineno">  127</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> flat_size = <a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a93604338a7a3801ed30692282ff124ce">MatchingFlatSize</a>(input_shape, output_shape);</div>
<div class="line"><span class="lineno">  128</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; flat_size; ++i)</div>
<div class="line"><span class="lineno">  129</span>  {</div>
<div class="line"><span class="lineno">  130</span>    <span class="keyword">const</span> T val = input_data[i];</div>
<div class="line"><span class="lineno">  131</span>    <span class="keyword">const</span> T upper = 1;</div>
<div class="line"><span class="lineno">  132</span>    <span class="keyword">const</span> T lower = -1;</div>
<div class="line"><span class="lineno">  133</span>    <span class="keyword">const</span> T clamped = val &gt; upper ? upper : val &lt; lower ? lower : val;</div>
<div class="line"><span class="lineno">  134</span>    output_data[i] = clamped;</div>
<div class="line"><span class="lineno">  135</span>  }</div>
<div class="line"><span class="lineno">  136</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ann-ref_2src_2ops_2internal_2dims_8h_source.html#l00108">MatchingFlatSize()</a>.</p>

</div>
</div>
<a id="ae925470e0eab006f4a8fa173803c1a24" name="ae925470e0eab006f4a8fa173803c1a24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae925470e0eab006f4a8fa173803c1a24">&#9670;&#160;</a></span>Relu6()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::Relu6 </td>
          <td>(</td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>input_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00138">138</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  140</span>{</div>
<div class="line"><span class="lineno">  141</span>  ruy::profiler::ScopeLabel label(<span class="stringliteral">&quot;Relu6 (not fused)&quot;</span>);</div>
<div class="line"><span class="lineno">  142</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> flat_size = <a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a93604338a7a3801ed30692282ff124ce">MatchingFlatSize</a>(input_shape, output_shape);</div>
<div class="line"><span class="lineno">  143</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; flat_size; ++i)</div>
<div class="line"><span class="lineno">  144</span>  {</div>
<div class="line"><span class="lineno">  145</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> val = input_data[i];</div>
<div class="line"><span class="lineno">  146</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> upper = 6;</div>
<div class="line"><span class="lineno">  147</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> lower = 0;</div>
<div class="line"><span class="lineno">  148</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> clamped = val &gt; upper ? upper : val &lt; lower ? lower : val;</div>
<div class="line"><span class="lineno">  149</span>    output_data[i] = clamped;</div>
<div class="line"><span class="lineno">  150</span>  }</div>
<div class="line"><span class="lineno">  151</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ann-ref_2src_2ops_2internal_2dims_8h_source.html#l00108">MatchingFlatSize()</a>.</p>

</div>
</div>
<a id="a584ec31500f6592d84a3f2f72c73cebd" name="a584ec31500f6592d84a3f2f72c73cebd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a584ec31500f6592d84a3f2f72c73cebd">&#9670;&#160;</a></span>ReluX() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::ReluX </td>
          <td>(</td>
          <td class="paramtype">const tflite::ActivationParams &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>input_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00172">172</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  174</span>{</div>
<div class="line"><span class="lineno">  175</span>  ruy::profiler::ScopeLabel label(<span class="stringliteral">&quot;Quantized ReluX (not fused)&quot;</span>);</div>
<div class="line"><span class="lineno">  176</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> flat_size = <a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a93604338a7a3801ed30692282ff124ce">MatchingFlatSize</a>(input_shape, output_shape);</div>
<div class="line"><span class="lineno">  177</span>  <span class="keyword">const</span> T max_value = params.quantized_activation_max;</div>
<div class="line"><span class="lineno">  178</span>  <span class="keyword">const</span> T min_value = params.quantized_activation_min;</div>
<div class="line"><span class="lineno">  179</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; flat_size; ++i)</div>
<div class="line"><span class="lineno">  180</span>  {</div>
<div class="line"><span class="lineno">  181</span>    <span class="keyword">const</span> T val = input_data[i];</div>
<div class="line"><span class="lineno">  182</span>    <span class="keyword">const</span> T clamped = val &gt; max_value ? max_value : val &lt; min_value ? min_value : val;</div>
<div class="line"><span class="lineno">  183</span>    output_data[i] = clamped;</div>
<div class="line"><span class="lineno">  184</span>  }</div>
<div class="line"><span class="lineno">  185</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ann-ref_2src_2ops_2internal_2dims_8h_source.html#l00108">MatchingFlatSize()</a>.</p>

</div>
</div>
<a id="a6d1befec941404872969d43fc23fecab" name="a6d1befec941404872969d43fc23fecab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d1befec941404872969d43fc23fecab">&#9670;&#160;</a></span>ReluX() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::ReluX </td>
          <td>(</td>
          <td class="paramtype">const tflite::ReluParams &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>input_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00154">154</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  156</span>{</div>
<div class="line"><span class="lineno">  157</span>  ruy::profiler::ScopeLabel label(<span class="stringliteral">&quot;Quantized ReluX (not fused)&quot;</span>);</div>
<div class="line"><span class="lineno">  158</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> flat_size = <a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a93604338a7a3801ed30692282ff124ce">MatchingFlatSize</a>(input_shape, output_shape);</div>
<div class="line"><span class="lineno">  159</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; flat_size; ++i)</div>
<div class="line"><span class="lineno">  160</span>  {</div>
<div class="line"><span class="lineno">  161</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="topk__v2_8h.html#ab7903878916593daecbeb95b98115ab0">int32</a> val = <span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(input_data[i]);</div>
<div class="line"><span class="lineno">  162</span>    <a class="code hl_typedef" href="topk__v2_8h.html#ab7903878916593daecbeb95b98115ab0">int32</a> clamped = params.output_offset + MultiplyByQuantizedMultiplier(val - params.input_offset,</div>
<div class="line"><span class="lineno">  163</span>                                                                         params.output_multiplier,</div>
<div class="line"><span class="lineno">  164</span>                                                                         params.output_shift);</div>
<div class="line"><span class="lineno">  165</span>    clamped = std::max(params.quantized_activation_min, clamped);</div>
<div class="line"><span class="lineno">  166</span>    clamped = std::min(params.quantized_activation_max, clamped);</div>
<div class="line"><span class="lineno">  167</span>    output_data[i] = <span class="keyword">static_cast&lt;</span>T<span class="keyword">&gt;</span>(clamped);</div>
<div class="line"><span class="lineno">  168</span>  }</div>
<div class="line"><span class="lineno">  169</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ann-ref_2src_2ops_2internal_2dims_8h_source.html#l00108">MatchingFlatSize()</a>.</p>

</div>
</div>
<a id="ae03d7aa2131ec45a3230b2ffd31db5a7" name="ae03d7aa2131ec45a3230b2ffd31db5a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae03d7aa2131ec45a3230b2ffd31db5a7">&#9670;&#160;</a></span>Reverse()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::Reverse </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>axis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Scalar *&#160;</td>
          <td class="paramname"><em>input_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Scalar *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01423">1423</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1425</span>{</div>
<div class="line"><span class="lineno"> 1426</span>  ruy::profiler::ScopeLabel label(<span class="stringliteral">&quot;Reverse&quot;</span>);</div>
<div class="line"><span class="lineno"> 1427</span> </div>
<div class="line"><span class="lineno"> 1428</span>  <span class="keywordtype">int</span> outer_size = 1;</div>
<div class="line"><span class="lineno"> 1429</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; axis; ++i)</div>
<div class="line"><span class="lineno"> 1430</span>  {</div>
<div class="line"><span class="lineno"> 1431</span>    outer_size *= input_shape.Dims(i);</div>
<div class="line"><span class="lineno"> 1432</span>  }</div>
<div class="line"><span class="lineno"> 1433</span> </div>
<div class="line"><span class="lineno"> 1434</span>  <span class="keywordtype">int</span> copy_size = 1;</div>
<div class="line"><span class="lineno"> 1435</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = axis + 1; i &lt; input_shape.DimensionsCount(); ++i)</div>
<div class="line"><span class="lineno"> 1436</span>  {</div>
<div class="line"><span class="lineno"> 1437</span>    copy_size *= input_shape.Dims(i);</div>
<div class="line"><span class="lineno"> 1438</span>  }</div>
<div class="line"><span class="lineno"> 1439</span> </div>
<div class="line"><span class="lineno"> 1440</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> dims_at_axis = input_shape.Dims(axis);</div>
<div class="line"><span class="lineno"> 1441</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; outer_size; ++i)</div>
<div class="line"><span class="lineno"> 1442</span>  {</div>
<div class="line"><span class="lineno"> 1443</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; dims_at_axis; ++j)</div>
<div class="line"><span class="lineno"> 1444</span>    {</div>
<div class="line"><span class="lineno"> 1445</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> start_pos = (i * dims_at_axis + j) * copy_size;</div>
<div class="line"><span class="lineno"> 1446</span>      Scalar *output_ptr = output_data + start_pos;</div>
<div class="line"><span class="lineno"> 1447</span>      <span class="keywordtype">int</span> loc = (i * dims_at_axis + dims_at_axis - j - 1) * copy_size;</div>
<div class="line"><span class="lineno"> 1448</span>      memcpy(output_ptr, input_data + loc, copy_size * <span class="keyword">sizeof</span>(Scalar));</div>
<div class="line"><span class="lineno"> 1449</span>    }</div>
<div class="line"><span class="lineno"> 1450</span>  }</div>
<div class="line"><span class="lineno"> 1451</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a776948853856336ae0b5d060a2b1e3d0" name="a776948853856336ae0b5d060a2b1e3d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a776948853856336ae0b5d060a2b1e3d0">&#9670;&#160;</a></span>ReverseSequence()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , typename TS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::ReverseSequence </td>
          <td>(</td>
          <td class="paramtype">const TS *&#160;</td>
          <td class="paramname"><em>seq_lengths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>seq_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>batch_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Scalar *&#160;</td>
          <td class="paramname"><em>input_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Scalar *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01454">1454</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1457</span>{</div>
<div class="line"><span class="lineno"> 1458</span>  ruy::profiler::ScopeLabel label(<span class="stringliteral">&quot;ReverseSequence&quot;</span>);</div>
<div class="line"><span class="lineno"> 1459</span> </div>
<div class="line"><span class="lineno"> 1460</span>  <span class="keywordtype">int</span> outer_size = 1;</div>
<div class="line"><span class="lineno"> 1461</span>  <span class="keywordtype">int</span> outer_dim = std::min(batch_dim, seq_dim);</div>
<div class="line"><span class="lineno"> 1462</span>  <span class="keywordtype">int</span> medium_dim = std::max(batch_dim, seq_dim);</div>
<div class="line"><span class="lineno"> 1463</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; outer_dim; ++i)</div>
<div class="line"><span class="lineno"> 1464</span>  {</div>
<div class="line"><span class="lineno"> 1465</span>    outer_size *= input_shape.Dims(i);</div>
<div class="line"><span class="lineno"> 1466</span>  }</div>
<div class="line"><span class="lineno"> 1467</span> </div>
<div class="line"><span class="lineno"> 1468</span>  <span class="keywordtype">int</span> medium_size = 1;</div>
<div class="line"><span class="lineno"> 1469</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = outer_dim + 1; i &lt; medium_dim; ++i)</div>
<div class="line"><span class="lineno"> 1470</span>  {</div>
<div class="line"><span class="lineno"> 1471</span>    medium_size *= input_shape.Dims(i);</div>
<div class="line"><span class="lineno"> 1472</span>  }</div>
<div class="line"><span class="lineno"> 1473</span> </div>
<div class="line"><span class="lineno"> 1474</span>  <span class="keywordtype">int</span> copy_size = 1;</div>
<div class="line"><span class="lineno"> 1475</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = medium_dim + 1; i &lt; input_shape.DimensionsCount(); ++i)</div>
<div class="line"><span class="lineno"> 1476</span>  {</div>
<div class="line"><span class="lineno"> 1477</span>    copy_size *= input_shape.Dims(i);</div>
<div class="line"><span class="lineno"> 1478</span>  }</div>
<div class="line"><span class="lineno"> 1479</span> </div>
<div class="line"><span class="lineno"> 1480</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> dims_at_outer_dim = input_shape.Dims(outer_dim);</div>
<div class="line"><span class="lineno"> 1481</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> dims_at_medium_dim = input_shape.Dims(medium_dim);</div>
<div class="line"><span class="lineno"> 1482</span> </div>
<div class="line"><span class="lineno"> 1483</span>  Scalar *output_ptr;</div>
<div class="line"><span class="lineno"> 1484</span>  <span class="keywordflow">if</span> (batch_dim &gt; seq_dim)</div>
<div class="line"><span class="lineno"> 1485</span>  {</div>
<div class="line"><span class="lineno"> 1486</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; outer_size; ++i)</div>
<div class="line"><span class="lineno"> 1487</span>    {</div>
<div class="line"><span class="lineno"> 1488</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; dims_at_outer_dim; ++j)</div>
<div class="line"><span class="lineno"> 1489</span>      {</div>
<div class="line"><span class="lineno"> 1490</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> in_pos_base = (i * dims_at_outer_dim + j) * medium_size;</div>
<div class="line"><span class="lineno"> 1491</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> p = 0; p &lt; medium_size; ++p)</div>
<div class="line"><span class="lineno"> 1492</span>        {</div>
<div class="line"><span class="lineno"> 1493</span>          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> q = 0; q &lt; dims_at_medium_dim; ++q)</div>
<div class="line"><span class="lineno"> 1494</span>          {</div>
<div class="line"><span class="lineno"> 1495</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> in_pos = ((in_pos_base + p) * dims_at_medium_dim + q) * copy_size;</div>
<div class="line"><span class="lineno"> 1496</span>            <span class="keyword">const</span> Scalar *in_ptr = <a class="code hl_variable" href="namespacepart__eval__one.html#a818987310f1a181c06a880dab57fcf39">input_data</a> + in_pos;</div>
<div class="line"><span class="lineno"> 1497</span>            <span class="keywordtype">int</span> sl = seq_lengths[q] - 1;</div>
<div class="line"><span class="lineno"> 1498</span>            <span class="keywordflow">if</span> (j &gt; sl)</div>
<div class="line"><span class="lineno"> 1499</span>            {</div>
<div class="line"><span class="lineno"> 1500</span>              output_ptr = <a class="code hl_variable" href="namespacepart__eval__one.html#aa659ec13c0dc14d487081c1a59b9ae70">output_data</a> + in_pos;</div>
<div class="line"><span class="lineno"> 1501</span>            }</div>
<div class="line"><span class="lineno"> 1502</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1503</span>            {</div>
<div class="line"><span class="lineno"> 1504</span>              <span class="keyword">const</span> <span class="keywordtype">int</span> out_pos_base = (i * dims_at_outer_dim + sl - j) * medium_size;</div>
<div class="line"><span class="lineno"> 1505</span>              <span class="keyword">const</span> <span class="keywordtype">int</span> out_pos = ((out_pos_base + p) * dims_at_medium_dim + q) * copy_size;</div>
<div class="line"><span class="lineno"> 1506</span>              output_ptr = <a class="code hl_variable" href="namespacepart__eval__one.html#aa659ec13c0dc14d487081c1a59b9ae70">output_data</a> + out_pos;</div>
<div class="line"><span class="lineno"> 1507</span>            }</div>
<div class="line"><span class="lineno"> 1508</span>            memcpy(output_ptr, in_ptr, copy_size * <span class="keyword">sizeof</span>(Scalar));</div>
<div class="line"><span class="lineno"> 1509</span>          }</div>
<div class="line"><span class="lineno"> 1510</span>        }</div>
<div class="line"><span class="lineno"> 1511</span>      }</div>
<div class="line"><span class="lineno"> 1512</span>    }</div>
<div class="line"><span class="lineno"> 1513</span>  }</div>
<div class="line"><span class="lineno"> 1514</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (batch_dim &lt; seq_dim)</div>
<div class="line"><span class="lineno"> 1515</span>  {</div>
<div class="line"><span class="lineno"> 1516</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; outer_size; ++i)</div>
<div class="line"><span class="lineno"> 1517</span>    {</div>
<div class="line"><span class="lineno"> 1518</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; dims_at_outer_dim; ++j)</div>
<div class="line"><span class="lineno"> 1519</span>      {</div>
<div class="line"><span class="lineno"> 1520</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> in_pos_base = (i * dims_at_outer_dim + j) * medium_size;</div>
<div class="line"><span class="lineno"> 1521</span>        <span class="keywordtype">int</span> sl = seq_lengths[j] - 1;</div>
<div class="line"><span class="lineno"> 1522</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> out_pos_base = (i * dims_at_outer_dim + j) * medium_size;</div>
<div class="line"><span class="lineno"> 1523</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> p = 0; p &lt; medium_size; ++p)</div>
<div class="line"><span class="lineno"> 1524</span>        {</div>
<div class="line"><span class="lineno"> 1525</span>          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> q = 0; q &lt; dims_at_medium_dim; ++q)</div>
<div class="line"><span class="lineno"> 1526</span>          {</div>
<div class="line"><span class="lineno"> 1527</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> in_pos = ((in_pos_base + p) * dims_at_medium_dim + q) * copy_size;</div>
<div class="line"><span class="lineno"> 1528</span>            <span class="keyword">const</span> Scalar *in_ptr = <a class="code hl_variable" href="namespacepart__eval__one.html#a818987310f1a181c06a880dab57fcf39">input_data</a> + in_pos;</div>
<div class="line"><span class="lineno"> 1529</span>            <span class="keywordflow">if</span> (q &gt; sl)</div>
<div class="line"><span class="lineno"> 1530</span>            {</div>
<div class="line"><span class="lineno"> 1531</span>              output_ptr = <a class="code hl_variable" href="namespacepart__eval__one.html#aa659ec13c0dc14d487081c1a59b9ae70">output_data</a> + in_pos;</div>
<div class="line"><span class="lineno"> 1532</span>            }</div>
<div class="line"><span class="lineno"> 1533</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1534</span>            {</div>
<div class="line"><span class="lineno"> 1535</span>              <span class="keyword">const</span> <span class="keywordtype">int</span> out_pos = ((out_pos_base + p) * dims_at_medium_dim + sl - q) * copy_size;</div>
<div class="line"><span class="lineno"> 1536</span>              output_ptr = <a class="code hl_variable" href="namespacepart__eval__one.html#aa659ec13c0dc14d487081c1a59b9ae70">output_data</a> + out_pos;</div>
<div class="line"><span class="lineno"> 1537</span>            }</div>
<div class="line"><span class="lineno"> 1538</span>            memcpy(output_ptr, in_ptr, copy_size * <span class="keyword">sizeof</span>(Scalar));</div>
<div class="line"><span class="lineno"> 1539</span>          }</div>
<div class="line"><span class="lineno"> 1540</span>        }</div>
<div class="line"><span class="lineno"> 1541</span>      }</div>
<div class="line"><span class="lineno"> 1542</span>    }</div>
<div class="line"><span class="lineno"> 1543</span>  }</div>
<div class="line"><span class="lineno"> 1544</span>}</div>
<div class="ttc" id="anamespacepart__eval__one_html_aa659ec13c0dc14d487081c1a59b9ae70"><div class="ttname"><a href="namespacepart__eval__one.html#aa659ec13c0dc14d487081c1a59b9ae70">part_eval_one.output_data</a></div><div class="ttdeci">output_data</div><div class="ttdef"><b>Definition:</b> <a href="part__eval__one_8py_source.html#l00113">part_eval_one.py:113</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afd3ca61646e93f592e2fa9e046ea5fb7" name="afd3ca61646e93f592e2fa9e046ea5fb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd3ca61646e93f592e2fa9e046ea5fb7">&#9670;&#160;</a></span>ScatterNd()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename IndicesT , typename UpdatesT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::ScatterNd </td>
          <td>(</td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>indices_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const IndicesT *&#160;</td>
          <td class="paramname"><em>indices_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>updates_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const UpdatesT *&#160;</td>
          <td class="paramname"><em>updates_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UpdatesT *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01031">1031</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1034</span>{</div>
<div class="line"><span class="lineno"> 1035</span>  ruy::profiler::ScopeLabel label(<span class="stringliteral">&quot;ScatterNd&quot;</span>);</div>
<div class="line"><span class="lineno"> 1036</span> </div>
<div class="line"><span class="lineno"> 1037</span>  <span class="keywordtype">int</span> n_slices = 1;</div>
<div class="line"><span class="lineno"> 1038</span>  <span class="keywordtype">int</span> slice_size = 1;</div>
<div class="line"><span class="lineno"> 1039</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> outer_dims = indices_shape.DimensionsCount() - 1;</div>
<div class="line"><span class="lineno"> 1040</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> indices_nd = indices_shape.Dims(outer_dims);</div>
<div class="line"><span class="lineno"> 1041</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> updates_dims = updates_shape.DimensionsCount();</div>
<div class="line"><span class="lineno"> 1042</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; outer_dims; ++i)</div>
<div class="line"><span class="lineno"> 1043</span>  {</div>
<div class="line"><span class="lineno"> 1044</span>    n_slices *= indices_shape.Dims(i);</div>
<div class="line"><span class="lineno"> 1045</span>  }</div>
<div class="line"><span class="lineno"> 1046</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = outer_dims; i &lt; updates_dims; ++i)</div>
<div class="line"><span class="lineno"> 1047</span>  {</div>
<div class="line"><span class="lineno"> 1048</span>    slice_size *= updates_shape.Dims(i);</div>
<div class="line"><span class="lineno"> 1049</span>  }</div>
<div class="line"><span class="lineno"> 1050</span> </div>
<div class="line"><span class="lineno"> 1051</span>  <span class="keywordtype">int</span> output_flat_size = output_shape.FlatSize();</div>
<div class="line"><span class="lineno"> 1052</span>  <span class="keywordtype">int</span> remain_flat_size = output_flat_size;</div>
<div class="line"><span class="lineno"> 1053</span>  std::vector&lt;int&gt; dims_to_count(indices_nd, 0);</div>
<div class="line"><span class="lineno"> 1054</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; indices_nd; ++i)</div>
<div class="line"><span class="lineno"> 1055</span>  {</div>
<div class="line"><span class="lineno"> 1056</span>    dims_to_count[i] = remain_flat_size / output_shape.Dims(i);</div>
<div class="line"><span class="lineno"> 1057</span>    remain_flat_size = dims_to_count[i];</div>
<div class="line"><span class="lineno"> 1058</span>  }</div>
<div class="line"><span class="lineno"> 1059</span> </div>
<div class="line"><span class="lineno"> 1060</span>  memset(output_data, 0, <span class="keyword">sizeof</span>(UpdatesT) * output_flat_size);</div>
<div class="line"><span class="lineno"> 1061</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n_slices; ++i)</div>
<div class="line"><span class="lineno"> 1062</span>  {</div>
<div class="line"><span class="lineno"> 1063</span>    <span class="keywordtype">int</span> to_pos = 0;</div>
<div class="line"><span class="lineno"> 1064</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; indices_nd; ++j)</div>
<div class="line"><span class="lineno"> 1065</span>    {</div>
<div class="line"><span class="lineno"> 1066</span>      IndicesT idx = indices_data[i * indices_nd + j];</div>
<div class="line"><span class="lineno"> 1067</span>      TFLITE_DCHECK(0 &lt;= idx &amp;&amp; idx &lt; <a class="code hl_variable" href="namespacepart__eval__one.html#aa000372729756a2ed1c28a613ed7cb88">output_shape</a>.Dims(j));</div>
<div class="line"><span class="lineno"> 1068</span>      to_pos += idx * dims_to_count[j];</div>
<div class="line"><span class="lineno"> 1069</span>    }</div>
<div class="line"><span class="lineno"> 1070</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; slice_size; j++)</div>
<div class="line"><span class="lineno"> 1071</span>    {</div>
<div class="line"><span class="lineno"> 1072</span>      <a class="code hl_variable" href="namespacepart__eval__one.html#aa659ec13c0dc14d487081c1a59b9ae70">output_data</a>[to_pos + j] += updates_data[i * slice_size + j];</div>
<div class="line"><span class="lineno"> 1073</span>    }</div>
<div class="line"><span class="lineno"> 1074</span>  }</div>
<div class="line"><span class="lineno"> 1075</span>}</div>
<div class="ttc" id="anamespacepart__eval__one_html_aa000372729756a2ed1c28a613ed7cb88"><div class="ttname"><a href="namespacepart__eval__one.html#aa000372729756a2ed1c28a613ed7cb88">part_eval_one.output_shape</a></div><div class="ttdeci">list output_shape</div><div class="ttdef"><b>Definition:</b> <a href="part__eval__one_8py_source.html#l00115">part_eval_one.py:115</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa7d13895af79b810b442e9d1c1c7d524" name="aa7d13895af79b810b442e9d1c1c7d524"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7d13895af79b810b442e9d1c1c7d524">&#9670;&#160;</a></span>SegmentSum()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::SegmentSum </td>
          <td>(</td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>input_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>segment_ids_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t *&#160;</td>
          <td class="paramname"><em>segment_ids_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01547">1547</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1550</span>{</div>
<div class="line"><span class="lineno"> 1551</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> segment_flat_size = MatchingFlatSizeSkipDim(input_shape, 0, output_shape);</div>
<div class="line"><span class="lineno"> 1552</span> </div>
<div class="line"><span class="lineno"> 1553</span>  memset(output_data, 0, <span class="keyword">sizeof</span>(T) * output_shape.FlatSize());</div>
<div class="line"><span class="lineno"> 1554</span> </div>
<div class="line"><span class="lineno"> 1555</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; input_shape.Dims(0); i++)</div>
<div class="line"><span class="lineno"> 1556</span>  {</div>
<div class="line"><span class="lineno"> 1557</span>    <span class="keywordtype">int</span> output_index = segment_ids_data[i];</div>
<div class="line"><span class="lineno"> 1558</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; segment_flat_size; ++j)</div>
<div class="line"><span class="lineno"> 1559</span>    {</div>
<div class="line"><span class="lineno"> 1560</span>      output_data[output_index * segment_flat_size + j] += input_data[i * segment_flat_size + j];</div>
<div class="line"><span class="lineno"> 1561</span>    }</div>
<div class="line"><span class="lineno"> 1562</span>  }</div>
<div class="line"><span class="lineno"> 1563</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a70a86b550a5376939a6b070130a21c1b" name="a70a86b550a5376939a6b070130a21c1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70a86b550a5376939a6b070130a21c1b">&#9670;&#160;</a></span>Select()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename D , typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::Select </td>
          <td>(</td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input_condition_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const D *&#160;</td>
          <td class="paramname"><em>input_condition_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input_x_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>input_x_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input_y_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>input_y_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01197">1197</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1201</span>{</div>
<div class="line"><span class="lineno"> 1202</span>  int64_t flatsize;</div>
<div class="line"><span class="lineno"> 1203</span>  <span class="comment">// Allow select operator executions on mixed scalar tensors and one element</span></div>
<div class="line"><span class="lineno"> 1204</span>  <span class="comment">// tensors.</span></div>
<div class="line"><span class="lineno"> 1205</span>  <span class="keywordflow">if</span> (input_condition_shape.FlatSize() == 1 &amp;&amp; input_x_shape.FlatSize() == 1 &amp;&amp;</div>
<div class="line"><span class="lineno"> 1206</span>      input_y_shape.FlatSize() == 1 &amp;&amp; output_shape.FlatSize() == 1)</div>
<div class="line"><span class="lineno"> 1207</span>  {</div>
<div class="line"><span class="lineno"> 1208</span>    flatsize = 1;</div>
<div class="line"><span class="lineno"> 1209</span>  }</div>
<div class="line"><span class="lineno"> 1210</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1211</span>  {</div>
<div class="line"><span class="lineno"> 1212</span>    flatsize = <a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a93604338a7a3801ed30692282ff124ce">MatchingFlatSize</a>(input_condition_shape, input_x_shape, input_y_shape, output_shape);</div>
<div class="line"><span class="lineno"> 1213</span>  }</div>
<div class="line"><span class="lineno"> 1214</span>  <span class="keywordflow">for</span> (int64_t i = 0; i &lt; flatsize; ++i)</div>
<div class="line"><span class="lineno"> 1215</span>  {</div>
<div class="line"><span class="lineno"> 1216</span>    output_data[i] = input_condition_data[i] ? input_x_data[i] : input_y_data[i];</div>
<div class="line"><span class="lineno"> 1217</span>  }</div>
<div class="line"><span class="lineno"> 1218</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ann-ref_2src_2ops_2internal_2dims_8h_source.html#l00108">MatchingFlatSize()</a>.</p>

</div>
</div>
<a id="a9c5e7c05aa64532ff575876202474d73" name="a9c5e7c05aa64532ff575876202474d73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c5e7c05aa64532ff575876202474d73">&#9670;&#160;</a></span>SelectTrueCoords()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename D , typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::SelectTrueCoords </td>
          <td>(</td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input_condition_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const D *&#160;</td>
          <td class="paramname"><em>input_condition_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01297">1297</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1299</span>{</div>
<div class="line"><span class="lineno"> 1300</span>  <span class="keyword">const</span> <span class="keywordtype">size_t</span> size = input_condition_shape.FlatSize();</div>
<div class="line"><span class="lineno"> 1301</span>  <span class="keywordflow">if</span> (size == 0)</div>
<div class="line"><span class="lineno"> 1302</span>  {</div>
<div class="line"><span class="lineno"> 1303</span>    <span class="comment">// Dimension is zero, in which case we don&#39;t need to output.</span></div>
<div class="line"><span class="lineno"> 1304</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1305</span>  }</div>
<div class="line"><span class="lineno"> 1306</span>  <span class="keyword">const</span> <span class="keywordtype">size_t</span> cond_rank = input_condition_shape.DimensionsCount();</div>
<div class="line"><span class="lineno"> 1307</span> </div>
<div class="line"><span class="lineno"> 1308</span>  std::vector&lt;int&gt; dims_to_count(cond_rank, 0);</div>
<div class="line"><span class="lineno"> 1309</span>  <span class="keywordtype">int</span> cur_flat_size = size;</div>
<div class="line"><span class="lineno"> 1310</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; cond_rank; ++i)</div>
<div class="line"><span class="lineno"> 1311</span>  {</div>
<div class="line"><span class="lineno"> 1312</span>    dims_to_count[i] = cur_flat_size / input_condition_shape.Dims(i);</div>
<div class="line"><span class="lineno"> 1313</span>    cur_flat_size = dims_to_count[i];</div>
<div class="line"><span class="lineno"> 1314</span>  }</div>
<div class="line"><span class="lineno"> 1315</span> </div>
<div class="line"><span class="lineno"> 1316</span>  <span class="keywordtype">int</span> output_index = 0;</div>
<div class="line"><span class="lineno"> 1317</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; size; ++i)</div>
<div class="line"><span class="lineno"> 1318</span>  {</div>
<div class="line"><span class="lineno"> 1319</span>    <span class="keywordflow">if</span> (input_condition_data[i])</div>
<div class="line"><span class="lineno"> 1320</span>    {</div>
<div class="line"><span class="lineno"> 1321</span>      <span class="comment">// Insert the coordinate of the current item (row major) into output.</span></div>
<div class="line"><span class="lineno"> 1322</span>      <span class="keywordtype">int</span> flat_index = i;</div>
<div class="line"><span class="lineno"> 1323</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; cond_rank; ++j)</div>
<div class="line"><span class="lineno"> 1324</span>      {</div>
<div class="line"><span class="lineno"> 1325</span>        <span class="keywordtype">int</span> coord_j = flat_index / dims_to_count[j];</div>
<div class="line"><span class="lineno"> 1326</span>        output_data[output_index * cond_rank + j] = coord_j;</div>
<div class="line"><span class="lineno"> 1327</span>        flat_index %= dims_to_count[j];</div>
<div class="line"><span class="lineno"> 1328</span>      }</div>
<div class="line"><span class="lineno"> 1329</span>      output_index++;</div>
<div class="line"><span class="lineno"> 1330</span>    }</div>
<div class="line"><span class="lineno"> 1331</span>  }</div>
<div class="line"><span class="lineno"> 1332</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa3a82cc36f8d187c7cc7c1d54ea8823a" name="aa3a82cc36f8d187c7cc7c1d54ea8823a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3a82cc36f8d187c7cc7c1d54ea8823a">&#9670;&#160;</a></span>Slice() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::Slice </td>
          <td>(</td>
          <td class="paramtype">const tflite::SliceParams &amp;&#160;</td>
          <td class="paramname"><em>op_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SequentialTensorWriter&lt; T &gt; *&#160;</td>
          <td class="paramname"><em>writer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01078">1078</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1080</span>{</div>
<div class="line"><span class="lineno"> 1081</span>  <span class="keyword">const</span> RuntimeShape ext_shape = RuntimeShape::ExtendedShape(5, input_shape);</div>
<div class="line"><span class="lineno"> 1082</span>  TFLITE_DCHECK_LE(op_params.begin_count, 5);</div>
<div class="line"><span class="lineno"> 1083</span>  TFLITE_DCHECK_LE(op_params.size_count, 5);</div>
<div class="line"><span class="lineno"> 1084</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> begin_count = op_params.begin_count;</div>
<div class="line"><span class="lineno"> 1085</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> size_count = op_params.size_count;</div>
<div class="line"><span class="lineno"> 1086</span>  <span class="comment">// We front-pad the begin and size vectors.</span></div>
<div class="line"><span class="lineno"> 1087</span>  std::array&lt;int, 5&gt; start;</div>
<div class="line"><span class="lineno"> 1088</span>  std::array&lt;int, 5&gt; stop;</div>
<div class="line"><span class="lineno"> 1089</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 5; ++i)</div>
<div class="line"><span class="lineno"> 1090</span>  {</div>
<div class="line"><span class="lineno"> 1091</span>    <span class="keywordtype">int</span> padded_i = 5 - i;</div>
<div class="line"><span class="lineno"> 1092</span>    start[i] = begin_count &lt; padded_i ? 0 : op_params.begin[begin_count - padded_i];</div>
<div class="line"><span class="lineno"> 1093</span>    stop[i] = (size_count &lt; padded_i || op_params.size[size_count - padded_i] == -1)</div>
<div class="line"><span class="lineno"> 1094</span>                ? ext_shape.Dims(i)</div>
<div class="line"><span class="lineno"> 1095</span>                : start[i] + op_params.size[size_count - padded_i];</div>
<div class="line"><span class="lineno"> 1096</span>  }</div>
<div class="line"><span class="lineno"> 1097</span> </div>
<div class="line"><span class="lineno"> 1098</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i0 = start[0]; i0 &lt; stop[0]; ++i0)</div>
<div class="line"><span class="lineno"> 1099</span>  {</div>
<div class="line"><span class="lineno"> 1100</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i1 = start[1]; i1 &lt; stop[1]; ++i1)</div>
<div class="line"><span class="lineno"> 1101</span>    {</div>
<div class="line"><span class="lineno"> 1102</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i2 = start[2]; i2 &lt; stop[2]; ++i2)</div>
<div class="line"><span class="lineno"> 1103</span>      {</div>
<div class="line"><span class="lineno"> 1104</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i3 = start[3]; i3 &lt; stop[3]; ++i3)</div>
<div class="line"><span class="lineno"> 1105</span>        {</div>
<div class="line"><span class="lineno"> 1106</span>          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i4 = start[4]; i4 &lt; stop[4]; ++i4)</div>
<div class="line"><span class="lineno"> 1107</span>          {</div>
<div class="line"><span class="lineno"> 1108</span>            writer-&gt;Write(<a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a1c037ff89c0da8b5cd52088b914b9c1d">Offset</a>(ext_shape, i0, i1, i2, i3, i4));</div>
<div class="line"><span class="lineno"> 1109</span>          }</div>
<div class="line"><span class="lineno"> 1110</span>        }</div>
<div class="line"><span class="lineno"> 1111</span>      }</div>
<div class="line"><span class="lineno"> 1112</span>    }</div>
<div class="line"><span class="lineno"> 1113</span>  }</div>
<div class="line"><span class="lineno"> 1114</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ann-ref_2src_2ops_2internal_2dims_8h_source.html#l00064">Offset()</a>.</p>

<p class="reference">Referenced by <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01117">Slice()</a>.</p>

</div>
</div>
<a id="acdbd930de35a4e2bab9c1d07be8292f3" name="acdbd930de35a4e2bab9c1d07be8292f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdbd930de35a4e2bab9c1d07be8292f3">&#9670;&#160;</a></span>Slice() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::Slice </td>
          <td>(</td>
          <td class="paramtype">const tflite::SliceParams &amp;&#160;</td>
          <td class="paramname"><em>op_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>input_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01117">1117</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1119</span>{</div>
<div class="line"><span class="lineno"> 1120</span>  SequentialTensorWriter&lt;T&gt; writer(input_data, output_data);</div>
<div class="line"><span class="lineno"> 1121</span>  <span class="keywordflow">return</span> Slice(op_params, input_shape, output_shape, &amp;writer);</div>
<div class="line"><span class="lineno"> 1122</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01078">Slice()</a>.</p>

</div>
</div>
<a id="aeee67b87383de3d7041c0cc0499f3450" name="aeee67b87383de3d7041c0cc0499f3450"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeee67b87383de3d7041c0cc0499f3450">&#9670;&#160;</a></span>Slice() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::Slice </td>
          <td>(</td>
          <td class="paramtype">const tflite::SliceParams &amp;&#160;</td>
          <td class="paramname"><em>op_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TfLiteTensor *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TfLiteTensor *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01125">1125</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1127</span>{</div>
<div class="line"><span class="lineno"> 1128</span>  SequentialTensorWriter&lt;T&gt; writer(input, output);</div>
<div class="line"><span class="lineno"> 1129</span>  <span class="keywordflow">return</span> Slice(op_params, input_shape, output_shape, &amp;writer);</div>
<div class="line"><span class="lineno"> 1130</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01078">Slice()</a>.</p>

</div>
</div>
<a id="a61d3fcb3794da1b3df276c1a8e35aa3c" name="a61d3fcb3794da1b3df276c1a8e35aa3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61d3fcb3794da1b3df276c1a8e35aa3c">&#9670;&#160;</a></span>SparseToDense()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename TI &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::SparseToDense </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; TI &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>default_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>value_is_scalar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>unextended_output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l01336">1336</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1339</span>{</div>
<div class="line"><span class="lineno"> 1340</span>  TFLITE_DCHECK_LE(unextended_output_shape.DimensionsCount(), 4);</div>
<div class="line"><span class="lineno"> 1341</span>  <span class="keyword">const</span> RuntimeShape output_shape = RuntimeShape::ExtendedShape(4, unextended_output_shape);</div>
<div class="line"><span class="lineno"> 1342</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> value_count = indices.size();</div>
<div class="line"><span class="lineno"> 1343</span> </div>
<div class="line"><span class="lineno"> 1344</span>  <span class="comment">// First fill the output_data with default value.</span></div>
<div class="line"><span class="lineno"> 1345</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> num_elements = output_shape.FlatSize();</div>
<div class="line"><span class="lineno"> 1346</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_elements; ++i)</div>
<div class="line"><span class="lineno"> 1347</span>  {</div>
<div class="line"><span class="lineno"> 1348</span>    output_data[i] = default_value;</div>
<div class="line"><span class="lineno"> 1349</span>  }</div>
<div class="line"><span class="lineno"> 1350</span> </div>
<div class="line"><span class="lineno"> 1351</span>  <span class="comment">// Special handle for value is scalar case to avoid checking the boolean</span></div>
<div class="line"><span class="lineno"> 1352</span>  <span class="comment">// condition within the loop every time.</span></div>
<div class="line"><span class="lineno"> 1353</span>  <span class="keywordflow">if</span> (value_is_scalar)</div>
<div class="line"><span class="lineno"> 1354</span>  {</div>
<div class="line"><span class="lineno"> 1355</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; value_count; ++i)</div>
<div class="line"><span class="lineno"> 1356</span>    {</div>
<div class="line"><span class="lineno"> 1357</span>      <span class="keyword">const</span> std::vector&lt;TI&gt; &amp;index = indices[i];</div>
<div class="line"><span class="lineno"> 1358</span>      TFLITE_DCHECK_EQ(index.size(), 4);</div>
<div class="line"><span class="lineno"> 1359</span>      <span class="keyword">const</span> T value = *values; <span class="comment">// just use the first value.</span></div>
<div class="line"><span class="lineno"> 1360</span>      output_data[<a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a1c037ff89c0da8b5cd52088b914b9c1d">Offset</a>(output_shape, index[0], index[1], index[2], index[3])] = value;</div>
<div class="line"><span class="lineno"> 1361</span>    }</div>
<div class="line"><span class="lineno"> 1362</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1363</span>  }</div>
<div class="line"><span class="lineno"> 1364</span> </div>
<div class="line"><span class="lineno"> 1365</span>  <span class="comment">// Go through the values and indices to fill the sparse values.</span></div>
<div class="line"><span class="lineno"> 1366</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; value_count; ++i)</div>
<div class="line"><span class="lineno"> 1367</span>  {</div>
<div class="line"><span class="lineno"> 1368</span>    <span class="keyword">const</span> std::vector&lt;TI&gt; &amp;<a class="code hl_function" href="namespacemoco.html#a2a0fb57b3701512b54ae18c23908f047">index</a> = indices[i];</div>
<div class="line"><span class="lineno"> 1369</span>    TFLITE_DCHECK_EQ(<a class="code hl_function" href="namespacemoco.html#a2a0fb57b3701512b54ae18c23908f047">index</a>.size(), 4);</div>
<div class="line"><span class="lineno"> 1370</span>    <span class="keyword">const</span> T value = values[i];</div>
<div class="line"><span class="lineno"> 1371</span>    <a class="code hl_variable" href="namespacepart__eval__one.html#aa659ec13c0dc14d487081c1a59b9ae70">output_data</a>[<a class="code hl_function" href="ann-ref_2src_2ops_2internal_2dims_8h.html#a1c037ff89c0da8b5cd52088b914b9c1d">Offset</a>(output_shape, index[0], index[1], index[2], index[3])] = value;</div>
<div class="line"><span class="lineno"> 1372</span>  }</div>
<div class="line"><span class="lineno"> 1373</span>}</div>
<div class="ttc" id="anamespacemoco_html_a2a0fb57b3701512b54ae18c23908f047"><div class="ttname"><a href="namespacemoco.html#a2a0fb57b3701512b54ae18c23908f047">moco::index</a></div><div class="ttdeci">loco::GraphInputIndex index(const TFPlaceholder *node)</div><div class="ttdef"><b>Definition:</b> <a href="_t_f_node_8cpp_source.html#l00054">TFNode.cpp:54</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ann-ref_2src_2ops_2internal_2dims_8h_source.html#l00064">Offset()</a>.</p>

</div>
</div>
<a id="af32af7cfa302e051cd9b5551db8c6182" name="af32af7cfa302e051cd9b5551db8c6182"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af32af7cfa302e051cd9b5551db8c6182">&#9670;&#160;</a></span>Split()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::Split </td>
          <td>(</td>
          <td class="paramtype">const SplitParams &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Scalar *&#160;</td>
          <td class="paramname"><em>input_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape *const *&#160;</td>
          <td class="paramname"><em>output_shapes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Scalar *const *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00834">834</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  836</span>{</div>
<div class="line"><span class="lineno">  837</span>  ruy::profiler::ScopeLabel label(<span class="stringliteral">&quot;Split&quot;</span>);</div>
<div class="line"><span class="lineno">  838</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> split_dimensions = input_shape.DimensionsCount();</div>
<div class="line"><span class="lineno">  839</span>  <span class="keywordtype">int</span> axis = params.axis &lt; 0 ? params.axis + split_dimensions : params.axis;</div>
<div class="line"><span class="lineno">  840</span>  <span class="keywordtype">int</span> outputs_count = params.num_split;</div>
<div class="line"><span class="lineno">  841</span>  TFLITE_DCHECK_LT(axis, split_dimensions);</div>
<div class="line"><span class="lineno">  842</span> </div>
<div class="line"><span class="lineno">  843</span>  int64_t split_size = 0;</div>
<div class="line"><span class="lineno">  844</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; outputs_count; i++)</div>
<div class="line"><span class="lineno">  845</span>  {</div>
<div class="line"><span class="lineno">  846</span>    TFLITE_DCHECK_EQ(output_shapes[i]-&gt;DimensionsCount(), split_dimensions);</div>
<div class="line"><span class="lineno">  847</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; split_dimensions; j++)</div>
<div class="line"><span class="lineno">  848</span>    {</div>
<div class="line"><span class="lineno">  849</span>      <span class="keywordflow">if</span> (j != axis)</div>
<div class="line"><span class="lineno">  850</span>      {</div>
<div class="line"><span class="lineno">  851</span>        MatchingDim(*output_shapes[i], j, input_shape, j);</div>
<div class="line"><span class="lineno">  852</span>      }</div>
<div class="line"><span class="lineno">  853</span>    }</div>
<div class="line"><span class="lineno">  854</span>    split_size += output_shapes[i]-&gt;Dims(axis);</div>
<div class="line"><span class="lineno">  855</span>  }</div>
<div class="line"><span class="lineno">  856</span>  TFLITE_DCHECK_EQ(split_size, input_shape.Dims(axis));</div>
<div class="line"><span class="lineno">  857</span>  int64_t outer_size = 1;</div>
<div class="line"><span class="lineno">  858</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; axis; ++i)</div>
<div class="line"><span class="lineno">  859</span>  {</div>
<div class="line"><span class="lineno">  860</span>    outer_size *= input_shape.Dims(i);</div>
<div class="line"><span class="lineno">  861</span>  }</div>
<div class="line"><span class="lineno">  862</span>  <span class="comment">// For all output arrays,</span></div>
<div class="line"><span class="lineno">  863</span>  <span class="comment">// FlatSize() = outer_size * Dims(axis) * base_inner_size;</span></div>
<div class="line"><span class="lineno">  864</span>  int64_t base_inner_size = 1;</div>
<div class="line"><span class="lineno">  865</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = axis + 1; i &lt; split_dimensions; ++i)</div>
<div class="line"><span class="lineno">  866</span>  {</div>
<div class="line"><span class="lineno">  867</span>    base_inner_size *= input_shape.Dims(i);</div>
<div class="line"><span class="lineno">  868</span>  }</div>
<div class="line"><span class="lineno">  869</span> </div>
<div class="line"><span class="lineno">  870</span>  <span class="keyword">const</span> Scalar *input_ptr = <a class="code hl_variable" href="namespacepart__eval__one.html#a818987310f1a181c06a880dab57fcf39">input_data</a>;</div>
<div class="line"><span class="lineno">  871</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; outer_size; k++)</div>
<div class="line"><span class="lineno">  872</span>  {</div>
<div class="line"><span class="lineno">  873</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; outputs_count; ++i)</div>
<div class="line"><span class="lineno">  874</span>    {</div>
<div class="line"><span class="lineno">  875</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> copy_size = output_shapes[i]-&gt;Dims(axis) * base_inner_size;</div>
<div class="line"><span class="lineno">  876</span>      memcpy(output_data[i] + k * copy_size, input_ptr, copy_size * <span class="keyword">sizeof</span>(Scalar));</div>
<div class="line"><span class="lineno">  877</span>      input_ptr += copy_size;</div>
<div class="line"><span class="lineno">  878</span>    }</div>
<div class="line"><span class="lineno">  879</span>  }</div>
<div class="line"><span class="lineno">  880</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a26da6c958ae0c54fdda2919e683a3107" name="a26da6c958ae0c54fdda2919e683a3107"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26da6c958ae0c54fdda2919e683a3107">&#9670;&#160;</a></span>Sub16()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::Sub16 </td>
          <td>(</td>
          <td class="paramtype">const ArithmeticParams &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input1_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int16_t *&#160;</td>
          <td class="paramname"><em>input1_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input2_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int16_t *&#160;</td>
          <td class="paramname"><em>input2_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>output_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00285">285</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  289</span>{</div>
<div class="line"><span class="lineno">  290</span>  ruy::profiler::ScopeLabel label(<span class="stringliteral">&quot;Sub/Int16&quot;</span>);</div>
<div class="line"><span class="lineno">  291</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> input1_shift = params.input1_shift;</div>
<div class="line"><span class="lineno">  292</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> flat_size = MatchingElementsSize(input1_shape, input2_shape, output_shape);</div>
<div class="line"><span class="lineno">  293</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> output_activation_min = params.quantized_activation_min;</div>
<div class="line"><span class="lineno">  294</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> output_activation_max = params.quantized_activation_max;</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>  TFLITE_DCHECK(input1_shift == 0 || params.input2_shift == 0);</div>
<div class="line"><span class="lineno">  297</span>  TFLITE_DCHECK_LE(input1_shift, 0);</div>
<div class="line"><span class="lineno">  298</span>  TFLITE_DCHECK_LE(params.input2_shift, 0);</div>
<div class="line"><span class="lineno">  299</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> *not_shift_input = input1_shift == 0 ? input1_data : input2_data;</div>
<div class="line"><span class="lineno">  300</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> *shift_input = input1_shift == 0 ? input2_data : input1_data;</div>
<div class="line"><span class="lineno">  301</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> input_right_shift = input1_shift == 0 ? -params.input2_shift : -input1_shift;</div>
<div class="line"><span class="lineno">  302</span> </div>
<div class="line"><span class="lineno">  303</span>  <span class="keywordflow">if</span> (input1_shift == 0)</div>
<div class="line"><span class="lineno">  304</span>  {</div>
<div class="line"><span class="lineno">  305</span>    <span class="comment">// F0 uses 0 integer bits, range [-1, 1].</span></div>
<div class="line"><span class="lineno">  306</span>    <span class="keyword">using </span>F0 = gemmlowp::FixedPoint&lt;std::int16_t, 0&gt;;</div>
<div class="line"><span class="lineno">  307</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; flat_size; ++i)</div>
<div class="line"><span class="lineno">  308</span>    {</div>
<div class="line"><span class="lineno">  309</span>      F0 input_ready_scaled = F0::FromRaw(not_shift_input[i]);</div>
<div class="line"><span class="lineno">  310</span>      F0 scaled_input =</div>
<div class="line"><span class="lineno">  311</span>        F0::FromRaw(gemmlowp::RoundingDivideByPOT(shift_input[i], input_right_shift));</div>
<div class="line"><span class="lineno">  312</span>      F0 result = SaturatingSub(input_ready_scaled, scaled_input);</div>
<div class="line"><span class="lineno">  313</span>      <span class="keyword">const</span> <a class="code hl_typedef" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> raw_output = result.raw();</div>
<div class="line"><span class="lineno">  314</span>      <span class="keyword">const</span> <a class="code hl_typedef" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> clamped_output =</div>
<div class="line"><span class="lineno">  315</span>        std::min(output_activation_max, std::max(output_activation_min, raw_output));</div>
<div class="line"><span class="lineno">  316</span>      output_data[i] = clamped_output;</div>
<div class="line"><span class="lineno">  317</span>    }</div>
<div class="line"><span class="lineno">  318</span>  }</div>
<div class="line"><span class="lineno">  319</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  320</span>  {</div>
<div class="line"><span class="lineno">  321</span>    <span class="comment">// F0 uses 0 integer bits, range [-1, 1].</span></div>
<div class="line"><span class="lineno">  322</span>    <span class="keyword">using </span>F0 = gemmlowp::FixedPoint&lt;std::int16_t, 0&gt;;</div>
<div class="line"><span class="lineno">  323</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; flat_size; ++i)</div>
<div class="line"><span class="lineno">  324</span>    {</div>
<div class="line"><span class="lineno">  325</span>      F0 input_ready_scaled = F0::FromRaw(not_shift_input[i]);</div>
<div class="line"><span class="lineno">  326</span>      F0 scaled_input =</div>
<div class="line"><span class="lineno">  327</span>        F0::FromRaw(gemmlowp::RoundingDivideByPOT(shift_input[i], input_right_shift));</div>
<div class="line"><span class="lineno">  328</span>      F0 result = SaturatingSub(scaled_input, input_ready_scaled);</div>
<div class="line"><span class="lineno">  329</span>      <span class="keyword">const</span> <a class="code hl_typedef" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> raw_output = result.raw();</div>
<div class="line"><span class="lineno">  330</span>      <span class="keyword">const</span> <a class="code hl_typedef" href="ann-ref_2src_2ops_2internal_2_macro_8h.html#ac2abd1926482d6e74d1a30ee2ea5d6f8">int16</a> clamped_output =</div>
<div class="line"><span class="lineno">  331</span>        std::min(output_activation_max, std::max(output_activation_min, raw_output));</div>
<div class="line"><span class="lineno">  332</span>      output_data[i] = clamped_output;</div>
<div class="line"><span class="lineno">  333</span>    }</div>
<div class="line"><span class="lineno">  334</span>  }</div>
<div class="line"><span class="lineno">  335</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aee588f8fd7ff0c851e3ed76e424f7383" name="aee588f8fd7ff0c851e3ed76e424f7383"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee588f8fd7ff0c851e3ed76e424f7383">&#9670;&#160;</a></span>Unpack()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void tflite::reference_ops::Unpack </td>
          <td>(</td>
          <td class="paramtype">const UnpackParams &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>input_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Scalar *&#160;</td>
          <td class="paramname"><em>input_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RuntimeShape &amp;&#160;</td>
          <td class="paramname"><em>output_shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Scalar *const *&#160;</td>
          <td class="paramname"><em>output_datas</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html#l00370">370</a> of file <a class="el" href="compiler_2luci-interpreter_2pal_2cmsisnn_2_p_a_lreference__ops_8h_source.html">PALreference_ops.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  372</span>{</div>
<div class="line"><span class="lineno">  373</span>  ruy::profiler::ScopeLabel label(<span class="stringliteral">&quot;Unpack&quot;</span>);</div>
<div class="line"><span class="lineno">  374</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> dimensions = input_shape.DimensionsCount();</div>
<div class="line"><span class="lineno">  375</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> outputs_count = params.num_split;</div>
<div class="line"><span class="lineno">  376</span> </div>
<div class="line"><span class="lineno">  377</span>  <span class="keywordtype">int</span> outer_size = 1;</div>
<div class="line"><span class="lineno">  378</span>  <span class="keywordtype">int</span> axis = params.axis;</div>
<div class="line"><span class="lineno">  379</span>  <span class="keywordflow">if</span> (axis &lt; 0)</div>
<div class="line"><span class="lineno">  380</span>  {</div>
<div class="line"><span class="lineno">  381</span>    axis += dimensions;</div>
<div class="line"><span class="lineno">  382</span>  }</div>
<div class="line"><span class="lineno">  383</span>  TFLITE_DCHECK_GE(axis, 0);</div>
<div class="line"><span class="lineno">  384</span>  TFLITE_DCHECK_LT(axis, dimensions);</div>
<div class="line"><span class="lineno">  385</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; axis; ++i)</div>
<div class="line"><span class="lineno">  386</span>  {</div>
<div class="line"><span class="lineno">  387</span>    outer_size *= input_shape.Dims(i);</div>
<div class="line"><span class="lineno">  388</span>  }</div>
<div class="line"><span class="lineno">  389</span>  <span class="keywordtype">int</span> copy_size = 1;</div>
<div class="line"><span class="lineno">  390</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = axis + 1; i &lt; dimensions; ++i)</div>
<div class="line"><span class="lineno">  391</span>  {</div>
<div class="line"><span class="lineno">  392</span>    copy_size *= input_shape.Dims(i);</div>
<div class="line"><span class="lineno">  393</span>  }</div>
<div class="line"><span class="lineno">  394</span>  TFLITE_DCHECK_EQ(<a class="code hl_variable" href="namespacepart__eval__one.html#aa000372729756a2ed1c28a613ed7cb88">output_shape</a>.FlatSize(), copy_size * outer_size);</div>
<div class="line"><span class="lineno">  395</span> </div>
<div class="line"><span class="lineno">  396</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; outputs_count; ++i)</div>
<div class="line"><span class="lineno">  397</span>  {</div>
<div class="line"><span class="lineno">  398</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; outer_size; k++)</div>
<div class="line"><span class="lineno">  399</span>    {</div>
<div class="line"><span class="lineno">  400</span>      Scalar *output_ptr = output_datas[i] + copy_size * k;</div>
<div class="line"><span class="lineno">  401</span>      <span class="keywordtype">int</span> loc = k * outputs_count * copy_size + i * copy_size;</div>
<div class="line"><span class="lineno">  402</span>      memcpy(output_ptr, input_data + loc, copy_size * <span class="keyword">sizeof</span>(Scalar));</div>
<div class="line"><span class="lineno">  403</span>    }</div>
<div class="line"><span class="lineno">  404</span>  }</div>
<div class="line"><span class="lineno">  405</span>}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacetflite.html">tflite</a></li><li class="navelem"><a class="el" href="namespacetflite_1_1reference__ops.html">reference_ops</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
