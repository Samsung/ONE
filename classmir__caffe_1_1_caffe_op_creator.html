<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ONE - On-device Neural Engine: mir_caffe::CaffeOpCreator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ONE - On-device Neural Engine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classmir__caffe_1_1_caffe_op_creator.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle"><div class="title">mir_caffe::CaffeOpCreator Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="caffe__op__creator_8h_source.html">caffe_op_creator.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9202343a6a3872b518e5190ac8b7227d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmir__caffe_1_1_caffe_op_creator.html#a9202343a6a3872b518e5190ac8b7227d">CaffeOpCreator</a> (<a class="el" href="classmir_1_1_graph.html">mir::Graph</a> *g)</td></tr>
<tr class="separator:a9202343a6a3872b518e5190ac8b7227d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08c71042274bc555bdf9be534ccba37e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmir__caffe_1_1_caffe_op_creator.html#a08c71042274bc555bdf9be534ccba37e">convertInput</a> (const caffe::LayerParameter &amp;layer)</td></tr>
<tr class="separator:a08c71042274bc555bdf9be534ccba37e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d32454eb2af284d000cf08afc82e5db"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmir__caffe_1_1_caffe_op_creator.html#a4d32454eb2af284d000cf08afc82e5db">convertConvolution</a> (const caffe::LayerParameter &amp;layer, const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;inputs)</td></tr>
<tr class="separator:a4d32454eb2af284d000cf08afc82e5db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c55d48496a3e5e9175fc28d05e2feb0"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmir__caffe_1_1_caffe_op_creator.html#a5c55d48496a3e5e9175fc28d05e2feb0">convertInnerProduct</a> (const caffe::LayerParameter &amp;layer, const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;inputs)</td></tr>
<tr class="separator:a5c55d48496a3e5e9175fc28d05e2feb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afea79608bbbbf98ab241b42ddeaff1f7"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmir__caffe_1_1_caffe_op_creator.html#afea79608bbbbf98ab241b42ddeaff1f7">convertConcat</a> (const caffe::LayerParameter &amp;layer, const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;inputs)</td></tr>
<tr class="separator:afea79608bbbbf98ab241b42ddeaff1f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b1f7376cf626deccf1e3cd2340dfea1"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmir__caffe_1_1_caffe_op_creator.html#a5b1f7376cf626deccf1e3cd2340dfea1">convertPooling</a> (const caffe::LayerParameter &amp;layer, const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;inputs)</td></tr>
<tr class="separator:a5b1f7376cf626deccf1e3cd2340dfea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb44c8c3aa84818f2eef84232910d813"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmir__caffe_1_1_caffe_op_creator.html#acb44c8c3aa84818f2eef84232910d813">convertSoftmax</a> (const caffe::LayerParameter &amp;layer, const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;inputs)</td></tr>
<tr class="separator:acb44c8c3aa84818f2eef84232910d813"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf8375782ef6789d8f273abe8a02392f"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmir__caffe_1_1_caffe_op_creator.html#abf8375782ef6789d8f273abe8a02392f">convertReshape</a> (const caffe::LayerParameter &amp;layer, const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;inputs)</td></tr>
<tr class="memdesc:abf8375782ef6789d8f273abe8a02392f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts Caffe Reshape layer to Model IR Reshape operation.  <a href="classmir__caffe_1_1_caffe_op_creator.html#abf8375782ef6789d8f273abe8a02392f">More...</a><br /></td></tr>
<tr class="separator:abf8375782ef6789d8f273abe8a02392f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01ef0131eba215d4f681e8e7a873ebbc"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmir__caffe_1_1_caffe_op_creator.html#a01ef0131eba215d4f681e8e7a873ebbc">convertReLU</a> (const caffe::LayerParameter &amp;layer, const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;inputs)</td></tr>
<tr class="separator:a01ef0131eba215d4f681e8e7a873ebbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3939ccd9147c72f4cc041c28975e1f8"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmir__caffe_1_1_caffe_op_creator.html#aa3939ccd9147c72f4cc041c28975e1f8">convertScale</a> (const caffe::LayerParameter &amp;layer, const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;inputs)</td></tr>
<tr class="separator:aa3939ccd9147c72f4cc041c28975e1f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c6f46e9b917a3a7be2de7671ac3b7cf"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmir__caffe_1_1_caffe_op_creator.html#a7c6f46e9b917a3a7be2de7671ac3b7cf">convertBatchNorm</a> (const caffe::LayerParameter &amp;layer, const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;inputs)</td></tr>
<tr class="separator:a7c6f46e9b917a3a7be2de7671ac3b7cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfbe1541de1d93cc4efe8c02c864461d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmir__caffe_1_1_caffe_op_creator.html#acfbe1541de1d93cc4efe8c02c864461d">convertDropout</a> (const caffe::LayerParameter &amp;layer, const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;inputs)</td></tr>
<tr class="separator:acfbe1541de1d93cc4efe8c02c864461d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1860417d9b247988a304ed3736dbe4d6"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmir__caffe_1_1_caffe_op_creator.html#a1860417d9b247988a304ed3736dbe4d6">convertDeconvolution</a> (const caffe::LayerParameter &amp;layer, const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;inputs)</td></tr>
<tr class="separator:a1860417d9b247988a304ed3736dbe4d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4afeb4c5b507235f4225be8e4342ee87"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmir__caffe_1_1_caffe_op_creator.html#a4afeb4c5b507235f4225be8e4342ee87">convertELU</a> (const caffe::LayerParameter &amp;layer, const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;inputs)</td></tr>
<tr class="separator:a4afeb4c5b507235f4225be8e4342ee87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7df3f363aa10927e8f1b19e306e4124"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmir__caffe_1_1_caffe_op_creator.html#af7df3f363aa10927e8f1b19e306e4124">convertEmbed</a> (const caffe::LayerParameter &amp;layer, const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;inputs)</td></tr>
<tr class="separator:af7df3f363aa10927e8f1b19e306e4124"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a859f7fd6316bd378e297d98ce0ea2291"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmir__caffe_1_1_caffe_op_creator.html#a859f7fd6316bd378e297d98ce0ea2291">convertSigmoid</a> (const caffe::LayerParameter &amp;layer, const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;inputs)</td></tr>
<tr class="separator:a859f7fd6316bd378e297d98ce0ea2291"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4f9b7fdfbc5f3841407e0acef7239a5"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmir__caffe_1_1_caffe_op_creator.html#af4f9b7fdfbc5f3841407e0acef7239a5">convertTanH</a> (const caffe::LayerParameter &amp;layer, const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;inputs)</td></tr>
<tr class="separator:af4f9b7fdfbc5f3841407e0acef7239a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a10725a4c5e8e3bc0dfcef24d6f217b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmir__caffe_1_1_caffe_op_creator.html#a4a10725a4c5e8e3bc0dfcef24d6f217b">convertEltwise</a> (const caffe::LayerParameter &amp;layer, const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;inputs)</td></tr>
<tr class="separator:a4a10725a4c5e8e3bc0dfcef24d6f217b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a075fb0235931233026f4f9736b7e29f0"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmir__caffe_1_1_caffe_op_creator.html#a075fb0235931233026f4f9736b7e29f0">convertSplit</a> (const caffe::LayerParameter &amp;layer, const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;inputs)</td></tr>
<tr class="separator:a075fb0235931233026f4f9736b7e29f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a399bf5bba162f2bf32fde25a91d518b1"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmir__caffe_1_1_caffe_op_creator.html#a399bf5bba162f2bf32fde25a91d518b1">convertLSTM</a> (const caffe::LayerParameter &amp;layer, const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;inputs)</td></tr>
<tr class="separator:a399bf5bba162f2bf32fde25a91d518b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0390e0d69ce5ed1d43974407ad0c4c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmir__caffe_1_1_caffe_op_creator.html#ae0390e0d69ce5ed1d43974407ad0c4c5">checkConvolution</a> (const caffe::LayerParameter &amp;layer, std::set&lt; std::string &gt; &amp;problems_ops_set)</td></tr>
<tr class="separator:ae0390e0d69ce5ed1d43974407ad0c4c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a877b7e3f7d652e77910e3fec0b9d94c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmir__caffe_1_1_caffe_op_creator.html#a877b7e3f7d652e77910e3fec0b9d94c2">checkPooling</a> (const caffe::LayerParameter &amp;layer, std::set&lt; std::string &gt; &amp;problems_ops_set)</td></tr>
<tr class="separator:a877b7e3f7d652e77910e3fec0b9d94c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a160c6cfe21577f319f1e658b4eec4a31"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmir__caffe_1_1_caffe_op_creator.html#a160c6cfe21577f319f1e658b4eec4a31">checkReshape</a> (const caffe::LayerParameter &amp;layer, std::set&lt; std::string &gt; &amp;problems_ops_set)</td></tr>
<tr class="separator:a160c6cfe21577f319f1e658b4eec4a31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07f27d511b324dc766eb1c200004ae13"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmir__caffe_1_1_caffe_op_creator.html#a07f27d511b324dc766eb1c200004ae13">checkBatchNorm</a> (const caffe::LayerParameter &amp;layer, std::set&lt; std::string &gt; &amp;problems_ops_set)</td></tr>
<tr class="separator:a07f27d511b324dc766eb1c200004ae13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e1b44a3b488fe43d297ee7d3372ece6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmir__caffe_1_1_caffe_op_creator.html#a8e1b44a3b488fe43d297ee7d3372ece6">checkLSTM</a> (const caffe::LayerParameter &amp;layer, std::set&lt; std::string &gt; &amp;problems_ops_set)</td></tr>
<tr class="separator:a8e1b44a3b488fe43d297ee7d3372ece6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="caffe__op__creator_8h_source.html#l00034">34</a> of file <a class="el" href="caffe__op__creator_8h_source.html">caffe_op_creator.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9202343a6a3872b518e5190ac8b7227d" name="a9202343a6a3872b518e5190ac8b7227d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9202343a6a3872b518e5190ac8b7227d">&#9670;&#160;</a></span>CaffeOpCreator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mir_caffe::CaffeOpCreator::CaffeOpCreator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmir_1_1_graph.html">mir::Graph</a> *&#160;</td>
          <td class="paramname"><em>g</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="caffe__op__creator_8h_source.html#l00037">37</a> of file <a class="el" href="caffe__op__creator_8h_source.html">caffe_op_creator.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   37</span>: _graph(g){};</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a07f27d511b324dc766eb1c200004ae13" name="a07f27d511b324dc766eb1c200004ae13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07f27d511b324dc766eb1c200004ae13">&#9670;&#160;</a></span>checkBatchNorm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mir_caffe::CaffeOpCreator::checkBatchNorm </td>
          <td>(</td>
          <td class="paramtype">const caffe::LayerParameter &amp;&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>problems_ops_set</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="caffe__op__creator_8cpp_source.html#l00533">533</a> of file <a class="el" href="caffe__op__creator_8cpp_source.html">caffe_op_creator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  535</span>{</div>
<div class="line"><span class="lineno">  536</span>  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;scale_shape = layer.blobs(2).shape();</div>
<div class="line"><span class="lineno">  537</span> </div>
<div class="line"><span class="lineno">  538</span>  <span class="comment">// Check that last blob(with scaleFactor) containing only one number</span></div>
<div class="line"><span class="lineno">  539</span>  <span class="keywordflow">if</span> (scale_shape.dim_size() != 1 || scale_shape.dim(0) != 1)</div>
<div class="line"><span class="lineno">  540</span>    problems_ops_set.insert(<span class="stringliteral">&quot;Unexpected shape of scale parameter in batch norm&quot;</span>);</div>
<div class="line"><span class="lineno">  541</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae0390e0d69ce5ed1d43974407ad0c4c5" name="ae0390e0d69ce5ed1d43974407ad0c4c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0390e0d69ce5ed1d43974407ad0c4c5">&#9670;&#160;</a></span>checkConvolution()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mir_caffe::CaffeOpCreator::checkConvolution </td>
          <td>(</td>
          <td class="paramtype">const caffe::LayerParameter &amp;&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>problems_ops_set</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="caffe__op__creator_8cpp_source.html#l00221">221</a> of file <a class="el" href="caffe__op__creator_8cpp_source.html">caffe_op_creator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  223</span>{</div>
<div class="line"><span class="lineno">  224</span>  <span class="keyword">const</span> caffe::ConvolutionParameter &amp;params = layer.convolution_param();</div>
<div class="line"><span class="lineno">  225</span> </div>
<div class="line"><span class="lineno">  226</span>  assert(params.stride_size() &lt;= 2);</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>  <span class="keywordflow">if</span> (params.axis() != 1)</div>
<div class="line"><span class="lineno">  229</span>    problems_ops_set.insert(<span class="stringliteral">&quot;Conv2D: Unsupported axis&quot;</span>);</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>  <span class="keywordflow">if</span> (params.pad_size() != 0 &amp;&amp; (params.has_pad_h() || params.has_pad_w()))</div>
<div class="line"><span class="lineno">  232</span>    problems_ops_set.insert(<span class="stringliteral">&quot;Conv2D: Conflicting padding properties&quot;</span>);</div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span>  <span class="keywordflow">if</span> (params.pad_size() &gt; 2)</div>
<div class="line"><span class="lineno">  235</span>    problems_ops_set.insert(<span class="stringliteral">&quot;Conv2D: Unsupported number of pads&quot;</span>);</div>
<div class="line"><span class="lineno">  236</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8e1b44a3b488fe43d297ee7d3372ece6" name="a8e1b44a3b488fe43d297ee7d3372ece6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e1b44a3b488fe43d297ee7d3372ece6">&#9670;&#160;</a></span>checkLSTM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mir_caffe::CaffeOpCreator::checkLSTM </td>
          <td>(</td>
          <td class="paramtype">const caffe::LayerParameter &amp;&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>problems_ops_set</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="caffe__op__creator_8cpp_source.html#l00702">702</a> of file <a class="el" href="caffe__op__creator_8cpp_source.html">caffe_op_creator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  704</span>{</div>
<div class="line"><span class="lineno">  705</span>  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;params = layer.recurrent_param();</div>
<div class="line"><span class="lineno">  706</span>  <span class="keywordflow">if</span> (params.expose_hidden())</div>
<div class="line"><span class="lineno">  707</span>    problems_ops_set.insert(<span class="stringliteral">&quot;LSTM: parameter &#39;expose_hidden&#39; has unsupported value: &quot;</span> +</div>
<div class="line"><span class="lineno">  708</span>                            std::to_string(params.expose_hidden()));</div>
<div class="line"><span class="lineno">  709</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a877b7e3f7d652e77910e3fec0b9d94c2" name="a877b7e3f7d652e77910e3fec0b9d94c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a877b7e3f7d652e77910e3fec0b9d94c2">&#9670;&#160;</a></span>checkPooling()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mir_caffe::CaffeOpCreator::checkPooling </td>
          <td>(</td>
          <td class="paramtype">const caffe::LayerParameter &amp;&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>problems_ops_set</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="caffe__op__creator_8cpp_source.html#l00383">383</a> of file <a class="el" href="caffe__op__creator_8cpp_source.html">caffe_op_creator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  385</span>{</div>
<div class="line"><span class="lineno">  386</span>  <span class="keyword">const</span> caffe::PoolingParameter &amp;params = layer.pooling_param();</div>
<div class="line"><span class="lineno">  387</span> </div>
<div class="line"><span class="lineno">  388</span>  <span class="keywordflow">if</span> (params.has_global_pooling() &amp;&amp; params.global_pooling())</div>
<div class="line"><span class="lineno">  389</span>    problems_ops_set.insert(<span class="stringliteral">&quot;Pooling: pooling layer global_pooling param is not supported yet&quot;</span>);</div>
<div class="line"><span class="lineno">  390</span> </div>
<div class="line"><span class="lineno">  391</span>  <span class="keywordflow">if</span> (params.pool() != caffe::PoolingParameter::AVE &amp;&amp;</div>
<div class="line"><span class="lineno">  392</span>      params.pool() != caffe::PoolingParameter::MAX)</div>
<div class="line"><span class="lineno">  393</span>    problems_ops_set.insert(<span class="stringliteral">&quot;Pooling: unsupported pooling type&quot;</span>);</div>
<div class="line"><span class="lineno">  394</span> </div>
<div class="line"><span class="lineno">  395</span>  <span class="keywordflow">if</span> (params.has_pad() &amp;&amp; (params.has_pad_h() || params.has_pad_w()))</div>
<div class="line"><span class="lineno">  396</span>    problems_ops_set.insert(<span class="stringliteral">&quot;Pooling: conflicting padding properties in pooling&quot;</span>);</div>
<div class="line"><span class="lineno">  397</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a160c6cfe21577f319f1e658b4eec4a31" name="a160c6cfe21577f319f1e658b4eec4a31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a160c6cfe21577f319f1e658b4eec4a31">&#9670;&#160;</a></span>checkReshape()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mir_caffe::CaffeOpCreator::checkReshape </td>
          <td>(</td>
          <td class="paramtype">const caffe::LayerParameter &amp;&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>problems_ops_set</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="caffe__op__creator_8cpp_source.html#l00460">460</a> of file <a class="el" href="caffe__op__creator_8cpp_source.html">caffe_op_creator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  462</span>{</div>
<div class="line"><span class="lineno">  463</span>  <span class="keyword">const</span> caffe::ReshapeParameter &amp;params = layer.reshape_param();</div>
<div class="line"><span class="lineno">  464</span> </div>
<div class="line"><span class="lineno">  465</span>  <span class="keywordflow">if</span> (params.has_axis() || params.has_num_axes())</div>
<div class="line"><span class="lineno">  466</span>    problems_ops_set.insert(<span class="stringliteral">&quot;Reshape layer axis and num_axes params are not supported yet&quot;</span>);</div>
<div class="line"><span class="lineno">  467</span> </div>
<div class="line"><span class="lineno">  468</span>  <span class="keywordflow">if</span> (!params.has_shape())</div>
<div class="line"><span class="lineno">  469</span>    problems_ops_set.insert(<span class="stringliteral">&quot;Reshape layer doesn&#39;t have shape parameter&quot;</span>);</div>
<div class="line"><span class="lineno">  470</span> </div>
<div class="line"><span class="lineno">  471</span>  <span class="keyword">const</span> <a class="code hl_class" href="classmir_1_1_shape.html">mir::Shape</a> newShape = convertBlobShape(params.shape());</div>
<div class="line"><span class="lineno">  472</span> </div>
<div class="line"><span class="lineno">  473</span>  <span class="keywordflow">for</span> (int32_t i = 0; i &lt; newShape.<a class="code hl_function" href="classmir_1_1_shape.html#a84c844bfd2fc2e8cd201846ef879a7e4">rank</a>(); ++i)</div>
<div class="line"><span class="lineno">  474</span>    <span class="keywordflow">if</span> (newShape.<a class="code hl_function" href="classmir_1_1_shape.html#a2190c58f2ea7045a2a41512f2ab6be9e">dim</a>(i) == 0)</div>
<div class="line"><span class="lineno">  475</span>      problems_ops_set.insert(<span class="stringliteral">&quot;Reshape layer zero shape values are not supported yet&quot;</span>);</div>
<div class="line"><span class="lineno">  476</span>}</div>
<div class="ttc" id="aclassmir_1_1_shape_html"><div class="ttname"><a href="classmir_1_1_shape.html">mir::Shape</a></div><div class="ttdef"><b>Definition:</b> <a href="compiler_2mir_2include_2mir_2_shape_8h_source.html#l00030">Shape.h:31</a></div></div>
<div class="ttc" id="aclassmir_1_1_shape_html_a2190c58f2ea7045a2a41512f2ab6be9e"><div class="ttname"><a href="classmir_1_1_shape.html#a2190c58f2ea7045a2a41512f2ab6be9e">mir::Shape::dim</a></div><div class="ttdeci">int32_t &amp; dim(int32_t axis) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="compiler_2mir_2include_2mir_2_shape_8h_source.html#l00047">Shape.h:47</a></div></div>
<div class="ttc" id="aclassmir_1_1_shape_html_a84c844bfd2fc2e8cd201846ef879a7e4"><div class="ttname"><a href="classmir_1_1_shape.html#a84c844bfd2fc2e8cd201846ef879a7e4">mir::Shape::rank</a></div><div class="ttdeci">int32_t rank() const</div><div class="ttdef"><b>Definition:</b> <a href="compiler_2mir_2include_2mir_2_shape_8h_source.html#l00043">Shape.h:43</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compiler_2mir_2include_2mir_2_shape_8h_source.html#l00047">mir::Shape::dim()</a>, and <a class="el" href="compiler_2mir_2include_2mir_2_shape_8h_source.html#l00043">mir::Shape::rank()</a>.</p>

</div>
</div>
<a id="a7c6f46e9b917a3a7be2de7671ac3b7cf" name="a7c6f46e9b917a3a7be2de7671ac3b7cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c6f46e9b917a3a7be2de7671ac3b7cf">&#9670;&#160;</a></span>convertBatchNorm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; mir_caffe::CaffeOpCreator::convertBatchNorm </td>
          <td>(</td>
          <td class="paramtype">const caffe::LayerParameter &amp;&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="caffe__op__creator_8cpp_source.html#l00544">544</a> of file <a class="el" href="caffe__op__creator_8cpp_source.html">caffe_op_creator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  546</span>{</div>
<div class="line"><span class="lineno">  547</span>  <span class="keyword">const</span> caffe::BatchNormParameter &amp;params = layer.batch_norm_param();</div>
<div class="line"><span class="lineno">  548</span> </div>
<div class="line"><span class="lineno">  549</span>  <span class="keyword">auto</span> <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8aa43c1b0aa53a0c908810c06ab1ff3967">input</a> = <a class="code hl_variable" href="namespace_gen_h5_random_inputs.html#abcab13752e1826b70991e56f8e9a834d">inputs</a>[0];</div>
<div class="line"><span class="lineno">  550</span>  <span class="keyword">auto</span> mean_tensor = convertBlob(layer.blobs(0));</div>
<div class="line"><span class="lineno">  551</span>  <span class="keyword">auto</span> var_tensor = convertBlob(layer.blobs(1));</div>
<div class="line"><span class="lineno">  552</span>  <span class="keyword">auto</span> scale_tensor = convertBlob(layer.blobs(2));</div>
<div class="line"><span class="lineno">  553</span>  <span class="keyword">const</span> <span class="keywordtype">float</span> eps = params.eps();</div>
<div class="line"><span class="lineno">  554</span> </div>
<div class="line"><span class="lineno">  555</span>  <span class="keywordtype">float</span> scale_factor = *<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">float</span> *<span class="keyword">&gt;</span>(scale_tensor.at(<a class="code hl_class" href="classmir_1_1_index.html">mir::Index</a>{0}));</div>
<div class="line"><span class="lineno">  556</span> </div>
<div class="line"><span class="lineno">  557</span>  <span class="comment">// See https://github.com/BVLC/caffe/blob/master/src/caffe/layers/batch_norm_layer.cpp#L100</span></div>
<div class="line"><span class="lineno">  558</span>  <span class="comment">// Y = (X - mean / scale_factor) / sqrt(var / scale_factor + epsilon) =</span></div>
<div class="line"><span class="lineno">  559</span>  <span class="comment">//   = (X + C1) * C2</span></div>
<div class="line"><span class="lineno">  560</span>  <span class="keywordflow">if</span> (scale_factor != 0.0f)</div>
<div class="line"><span class="lineno">  561</span>    scale_factor = 1.0f / scale_factor;</div>
<div class="line"><span class="lineno">  562</span> </div>
<div class="line"><span class="lineno">  563</span>  <span class="comment">// C1 = -mean / scale_factor</span></div>
<div class="line"><span class="lineno">  564</span>  <a class="code hl_class" href="class_tensor.html">Tensor&lt;float&gt;</a> mean_accessor(mean_tensor);</div>
<div class="line"><span class="lineno">  565</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;idx : ShapeRange(mean_accessor.getShape()))</div>
<div class="line"><span class="lineno">  566</span>    mean_accessor.at(idx) *= -scale_factor;</div>
<div class="line"><span class="lineno">  567</span>  <span class="keyword">auto</span> c1 = createOp&lt;ops::ConstantOp&gt;(mean_tensor)-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  568</span> </div>
<div class="line"><span class="lineno">  569</span>  <span class="comment">// C2 = 1 / sqrt(var / scale_factor + epsilon)</span></div>
<div class="line"><span class="lineno">  570</span>  <a class="code hl_class" href="class_tensor.html">Tensor&lt;float&gt;</a> var_accessor(var_tensor);</div>
<div class="line"><span class="lineno">  571</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;idx : ShapeRange(var_accessor.getShape()))</div>
<div class="line"><span class="lineno">  572</span>    var_accessor.at(idx) = 1.0f / std::sqrt(var_accessor.at(idx) * scale_factor + eps);</div>
<div class="line"><span class="lineno">  573</span>  <span class="keyword">auto</span> c2 = createOp&lt;ops::ConstantOp&gt;(var_tensor)-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  574</span> </div>
<div class="line"><span class="lineno">  575</span>  c1 = createOp&lt;ops::ReshapeOp&gt;(c1, <a class="code hl_struct" href="struct_shape.html">Shape</a>{1, c1-&gt;getShape().dim(0), 1, 1})-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  576</span>  c2 = createOp&lt;ops::ReshapeOp&gt;(c2, <a class="code hl_struct" href="struct_shape.html">Shape</a>{1, c2-&gt;getShape().dim(0), 1, 1})-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  577</span> </div>
<div class="line"><span class="lineno">  578</span>  <span class="comment">// Y = (X + C1) * C2</span></div>
<div class="line"><span class="lineno">  579</span>  <span class="keyword">auto</span> result = createOp&lt;ops::AddOp&gt;(<a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8aa43c1b0aa53a0c908810c06ab1ff3967">input</a>, c1)-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  580</span>  result = createOp&lt;ops::MulOp&gt;(result, c2)-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  581</span> </div>
<div class="line"><span class="lineno">  582</span>  <span class="keywordflow">return</span> {result};</div>
<div class="line"><span class="lineno">  583</span>}</div>
<div class="ttc" id="aclass_tensor_html"><div class="ttname"><a href="class_tensor.html">Tensor</a></div><div class="ttdef"><b>Definition:</b> <a href="tensor__gen_8cpp_source.html#l00031">tensor_gen.cpp:32</a></div></div>
<div class="ttc" id="aclassmir_1_1_index_html"><div class="ttname"><a href="classmir_1_1_index.html">mir::Index</a></div><div class="ttdef"><b>Definition:</b> <a href="compiler_2mir_2include_2mir_2_index_8h_source.html#l00031">Index.h:32</a></div></div>
<div class="ttc" id="anamespace_gen_h5_random_inputs_html_abcab13752e1826b70991e56f8e9a834d"><div class="ttname"><a href="namespace_gen_h5_random_inputs.html#abcab13752e1826b70991e56f8e9a834d">GenH5RandomInputs.inputs</a></div><div class="ttdeci">inputs</div><div class="ttdef"><b>Definition:</b> <a href="_gen_h5_random_inputs_8py_source.html#l00049">GenH5RandomInputs.py:49</a></div></div>
<div class="ttc" id="anamespacemir__caffe_html_a80d91a921af9e0cb352bf83b19ed18c8aa43c1b0aa53a0c908810c06ab1ff3967"><div class="ttname"><a href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8aa43c1b0aa53a0c908810c06ab1ff3967">mir_caffe::CaffeOpType::input</a></div><div class="ttdeci">@ input</div></div>
<div class="ttc" id="astruct_shape_html"><div class="ttname"><a href="struct_shape.html">Shape</a></div><div class="ttdef"><b>Definition:</b> <a href="compiler_2ann-ref_2src_2_shape_8h_source.html#l00027">Shape.h:28</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="compiler_2mir_2include_2mir_2_tensor_8h_source.html#l00031">mir::Tensor&lt; T &gt;::at()</a>, <a class="el" href="compiler_2mir_2include_2mir_2_tensor_8h_source.html#l00048">mir::Tensor&lt; T &gt;::getShape()</a>, and <a class="el" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8aa43c1b0aa53a0c908810c06ab1ff3967">mir_caffe::input</a>.</p>

</div>
</div>
<a id="afea79608bbbbf98ab241b42ddeaff1f7" name="afea79608bbbbf98ab241b42ddeaff1f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afea79608bbbbf98ab241b42ddeaff1f7">&#9670;&#160;</a></span>convertConcat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; mir_caffe::CaffeOpCreator::convertConcat </td>
          <td>(</td>
          <td class="paramtype">const caffe::LayerParameter &amp;&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="caffe__op__creator_8cpp_source.html#l00320">320</a> of file <a class="el" href="caffe__op__creator_8cpp_source.html">caffe_op_creator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  322</span>{</div>
<div class="line"><span class="lineno">  323</span>  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;params = layer.concat_param();</div>
<div class="line"><span class="lineno">  324</span>  <span class="keyword">auto</span> <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a414e7c8ede73a0c2c3d17699134f4080">concat</a> = createOp&lt;ops::ConcatOp&gt;(inputs, params.axis());</div>
<div class="line"><span class="lineno">  325</span>  <span class="keywordflow">return</span> {<a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a414e7c8ede73a0c2c3d17699134f4080">concat</a>-&gt;getOutput(0)};</div>
<div class="line"><span class="lineno">  326</span>}</div>
<div class="ttc" id="anamespacemir__caffe_html_a80d91a921af9e0cb352bf83b19ed18c8a414e7c8ede73a0c2c3d17699134f4080"><div class="ttname"><a href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a414e7c8ede73a0c2c3d17699134f4080">mir_caffe::CaffeOpType::concat</a></div><div class="ttdeci">@ concat</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a414e7c8ede73a0c2c3d17699134f4080">mir_caffe::concat</a>.</p>

</div>
</div>
<a id="a4d32454eb2af284d000cf08afc82e5db" name="a4d32454eb2af284d000cf08afc82e5db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d32454eb2af284d000cf08afc82e5db">&#9670;&#160;</a></span>convertConvolution()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; mir_caffe::CaffeOpCreator::convertConvolution </td>
          <td>(</td>
          <td class="paramtype">const caffe::LayerParameter &amp;&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="caffe__op__creator_8cpp_source.html#l00239">239</a> of file <a class="el" href="caffe__op__creator_8cpp_source.html">caffe_op_creator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  241</span>{</div>
<div class="line"><span class="lineno">  242</span>  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;params = layer.convolution_param();</div>
<div class="line"><span class="lineno">  243</span>  Conv2DOpAttributes attributes;</div>
<div class="line"><span class="lineno">  244</span> </div>
<div class="line"><span class="lineno">  245</span>  convertConvolutionParam(params, attributes);</div>
<div class="line"><span class="lineno">  246</span>  attributes.num_groups = params.group();</div>
<div class="line"><span class="lineno">  247</span>  attributes.data_format = DataFormat::NCHW;</div>
<div class="line"><span class="lineno">  248</span> </div>
<div class="line"><span class="lineno">  249</span>  assert(layer.blobs(0).shape().dim_size() == 4);</div>
<div class="line"><span class="lineno">  250</span>  <span class="keyword">auto</span> kernel = createOp&lt;ops::ConstantOp&gt;(convertBlob(layer.blobs(0)))-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  251</span>  std::vector&lt;std::size_t&gt; perm{0, 2, 3, 1}; <span class="comment">// OIHW -&gt; OHWI</span></div>
<div class="line"><span class="lineno">  252</span>  kernel = createOp&lt;ops::TransposeOp&gt;(kernel, perm)-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  253</span>  <span class="keyword">auto</span> result = createOp&lt;ops::Conv2DOp&gt;(inputs[0], kernel, attributes)-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  254</span> </div>
<div class="line"><span class="lineno">  255</span>  <span class="comment">// Add the bias, if any.</span></div>
<div class="line"><span class="lineno">  256</span>  <span class="keywordflow">if</span> (params.bias_term())</div>
<div class="line"><span class="lineno">  257</span>  {</div>
<div class="line"><span class="lineno">  258</span>    <span class="keyword">auto</span> <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">bias</a> = createOp&lt;ops::ConstantOp&gt;(convertBlob(layer.blobs(1)))-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  259</span>    <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">bias</a> = createOp&lt;ops::ReshapeOp&gt;(<a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">bias</a>, <a class="code hl_struct" href="struct_shape.html">Shape</a>{1, <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">bias</a>-&gt;getShape().dim(0), 1, 1})-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  260</span>    result = createOp&lt;ops::AddOp&gt;(result, <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">bias</a>)-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  261</span>  }</div>
<div class="line"><span class="lineno">  262</span> </div>
<div class="line"><span class="lineno">  263</span>  <span class="keywordflow">return</span> {result};</div>
<div class="line"><span class="lineno">  264</span>}</div>
<div class="ttc" id="anamespacemir__caffe_html_a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc"><div class="ttname"><a href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">mir_caffe::CaffeOpType::bias</a></div><div class="ttdeci">@ bias</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">mir_caffe::bias</a>, <a class="el" href="_attributes_8h_source.html#l00035">mir::Conv2DOpAttributes::data_format</a>, and <a class="el" href="_attributes_8h_source.html#l00034">mir::Conv2DOpAttributes::num_groups</a>.</p>

</div>
</div>
<a id="a1860417d9b247988a304ed3736dbe4d6" name="a1860417d9b247988a304ed3736dbe4d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1860417d9b247988a304ed3736dbe4d6">&#9670;&#160;</a></span>convertDeconvolution()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; mir_caffe::CaffeOpCreator::convertDeconvolution </td>
          <td>(</td>
          <td class="paramtype">const caffe::LayerParameter &amp;&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="caffe__op__creator_8cpp_source.html#l00267">267</a> of file <a class="el" href="caffe__op__creator_8cpp_source.html">caffe_op_creator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  269</span>{</div>
<div class="line"><span class="lineno">  270</span>  <span class="keyword">const</span> caffe::ConvolutionParameter &amp;params = layer.convolution_param();</div>
<div class="line"><span class="lineno">  271</span>  Deconv2DOpAttributes attributes;</div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span>  convertConvolutionParam(params, attributes);</div>
<div class="line"><span class="lineno">  274</span>  attributes.data_format = DataFormat::NCHW;</div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>  <span class="keywordflow">if</span> (params.group() != 1)</div>
<div class="line"><span class="lineno">  277</span>  {</div>
<div class="line"><span class="lineno">  278</span>    <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Deconvolution: &#39;group&#39; != 1 is not supported.&quot;</span>);</div>
<div class="line"><span class="lineno">  279</span>  }</div>
<div class="line"><span class="lineno">  280</span> </div>
<div class="line"><span class="lineno">  281</span>  <span class="keyword">auto</span> kernel = createOp&lt;ops::ConstantOp&gt;(convertBlob(layer.blobs(0)))-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  282</span>  std::vector&lt;std::size_t&gt; perm{2, 3, 1, 0}; <span class="comment">// IOHW -&gt; HWOI</span></div>
<div class="line"><span class="lineno">  283</span>  kernel = createOp&lt;ops::TransposeOp&gt;(kernel, perm)-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  284</span>  <span class="keyword">auto</span> result = createOp&lt;ops::DeConv2DOp&gt;(inputs[0], kernel, attributes)-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  285</span> </div>
<div class="line"><span class="lineno">  286</span>  <span class="comment">// bias_term is optional (so might not be present) and defaults to true</span></div>
<div class="line"><span class="lineno">  287</span>  <span class="keywordflow">if</span> (params.bias_term())</div>
<div class="line"><span class="lineno">  288</span>  {</div>
<div class="line"><span class="lineno">  289</span>    <span class="keyword">auto</span> <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">bias</a> = createOp&lt;ops::ConstantOp&gt;(convertBlob(layer.blobs(1)))-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  290</span>    <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">bias</a> = createOp&lt;ops::ReshapeOp&gt;(<a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">bias</a>, <a class="code hl_struct" href="struct_shape.html">Shape</a>{1, <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">bias</a>-&gt;getShape().dim(0), 1, 1})-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  291</span>    result = createOp&lt;ops::AddOp&gt;(result, <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">bias</a>)-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  292</span>  }</div>
<div class="line"><span class="lineno">  293</span> </div>
<div class="line"><span class="lineno">  294</span>  <span class="keywordflow">return</span> {result};</div>
<div class="line"><span class="lineno">  295</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">mir_caffe::bias</a>, and <a class="el" href="_attributes_8h_source.html#l00068">mir::Deconv2DOpAttributes::data_format</a>.</p>

</div>
</div>
<a id="acfbe1541de1d93cc4efe8c02c864461d" name="acfbe1541de1d93cc4efe8c02c864461d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfbe1541de1d93cc4efe8c02c864461d">&#9670;&#160;</a></span>convertDropout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; mir_caffe::CaffeOpCreator::convertDropout </td>
          <td>(</td>
          <td class="paramtype">const caffe::LayerParameter &amp;&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="caffe__op__creator_8cpp_source.html#l00586">586</a> of file <a class="el" href="caffe__op__creator_8cpp_source.html">caffe_op_creator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  588</span>{</div>
<div class="line"><span class="lineno">  589</span>  <span class="comment">// This is a no-op in inference mode.</span></div>
<div class="line"><span class="lineno">  590</span>  <span class="keywordflow">return</span> {<a class="code hl_variable" href="namespace_gen_h5_random_inputs.html#abcab13752e1826b70991e56f8e9a834d">inputs</a>[0]};</div>
<div class="line"><span class="lineno">  591</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4a10725a4c5e8e3bc0dfcef24d6f217b" name="a4a10725a4c5e8e3bc0dfcef24d6f217b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a10725a4c5e8e3bc0dfcef24d6f217b">&#9670;&#160;</a></span>convertEltwise()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; mir_caffe::CaffeOpCreator::convertEltwise </td>
          <td>(</td>
          <td class="paramtype">const caffe::LayerParameter &amp;&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="caffe__op__creator_8cpp_source.html#l00638">638</a> of file <a class="el" href="caffe__op__creator_8cpp_source.html">caffe_op_creator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  640</span>{</div>
<div class="line"><span class="lineno">  641</span>  <span class="keyword">auto</span> &amp;params = layer.eltwise_param();</div>
<div class="line"><span class="lineno">  642</span> </div>
<div class="line"><span class="lineno">  643</span>  <a class="code hl_class" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> *result;</div>
<div class="line"><span class="lineno">  644</span>  <span class="keywordflow">switch</span> (params.operation())</div>
<div class="line"><span class="lineno">  645</span>  {</div>
<div class="line"><span class="lineno">  646</span>    <span class="keywordflow">case</span> caffe::EltwiseParameter::PROD:</div>
<div class="line"><span class="lineno">  647</span>    {</div>
<div class="line"><span class="lineno">  648</span>      result = createOp&lt;ops::MulOp&gt;(inputs[0], inputs[1])-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  649</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 2; i &lt; layer.bottom_size(); ++i)</div>
<div class="line"><span class="lineno">  650</span>      {</div>
<div class="line"><span class="lineno">  651</span>        result = createOp&lt;ops::MulOp&gt;(result, inputs[i])-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  652</span>      }</div>
<div class="line"><span class="lineno">  653</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  654</span>    }</div>
<div class="line"><span class="lineno">  655</span>    <span class="keywordflow">case</span> caffe::EltwiseParameter::SUM:</div>
<div class="line"><span class="lineno">  656</span>    {</div>
<div class="line"><span class="lineno">  657</span>      std::vector&lt;mir::Operation::Output *&gt; scaled_inputs = <a class="code hl_variable" href="namespace_gen_h5_random_inputs.html#abcab13752e1826b70991e56f8e9a834d">inputs</a>;</div>
<div class="line"><span class="lineno">  658</span>      <span class="keywordflow">if</span> (params.coeff_size() &gt; 0)</div>
<div class="line"><span class="lineno">  659</span>      {</div>
<div class="line"><span class="lineno">  660</span>        assert(params.coeff_size() == layer.bottom_size());</div>
<div class="line"><span class="lineno">  661</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; layer.bottom_size(); i++)</div>
<div class="line"><span class="lineno">  662</span>        {</div>
<div class="line"><span class="lineno">  663</span>          <span class="keywordflow">if</span> (params.coeff(i) != 1.0f)</div>
<div class="line"><span class="lineno">  664</span>          {</div>
<div class="line"><span class="lineno">  665</span>            <span class="keyword">const</span> <span class="keywordtype">float</span> coeff_val = params.coeff(i);</div>
<div class="line"><span class="lineno">  666</span>            TensorVariant coeff_tensor({DataType::FLOAT32, {}}, &amp;coeff_val);</div>
<div class="line"><span class="lineno">  667</span>            <span class="keyword">auto</span> coeff_const = createOp&lt;ops::ConstantOp&gt;(coeff_tensor)-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  668</span>            scaled_inputs[i] = createOp&lt;ops::MulOp&gt;(coeff_const, inputs[i])-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  669</span>          }</div>
<div class="line"><span class="lineno">  670</span>        }</div>
<div class="line"><span class="lineno">  671</span>      }</div>
<div class="line"><span class="lineno">  672</span>      result = createOp&lt;ops::AddOp&gt;(scaled_inputs[0], scaled_inputs[1])-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  673</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 2; i &lt; layer.bottom_size(); ++i)</div>
<div class="line"><span class="lineno">  674</span>      {</div>
<div class="line"><span class="lineno">  675</span>        result = createOp&lt;ops::AddOp&gt;(result, scaled_inputs[i])-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  676</span>      }</div>
<div class="line"><span class="lineno">  677</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  678</span>    }</div>
<div class="line"><span class="lineno">  679</span>    <span class="keywordflow">case</span> caffe::EltwiseParameter::MAX:</div>
<div class="line"><span class="lineno">  680</span>    {</div>
<div class="line"><span class="lineno">  681</span>      result = createOp&lt;ops::MaxOp&gt;(inputs[0], inputs[1])-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  682</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 2; i &lt; layer.bottom_size(); ++i)</div>
<div class="line"><span class="lineno">  683</span>      {</div>
<div class="line"><span class="lineno">  684</span>        result = createOp&lt;ops::MaxOp&gt;(result, inputs[i])-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  685</span>      }</div>
<div class="line"><span class="lineno">  686</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  687</span>    }</div>
<div class="line"><span class="lineno">  688</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  689</span>      <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Unknown element-wise operation.&quot;</span>);</div>
<div class="line"><span class="lineno">  690</span>  }</div>
<div class="line"><span class="lineno">  691</span>  <span class="keywordflow">return</span> {result};</div>
<div class="line"><span class="lineno">  692</span>}</div>
<div class="ttc" id="aclassmir_1_1_operation_1_1_output_html"><div class="ttname"><a href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a></div><div class="ttdoc">Represents an output of a node.</div><div class="ttdef"><b>Definition:</b> <a href="compiler_2mir_2include_2mir_2_operation_8h_source.html#l00059">Operation.h:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4afeb4c5b507235f4225be8e4342ee87" name="a4afeb4c5b507235f4225be8e4342ee87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4afeb4c5b507235f4225be8e4342ee87">&#9670;&#160;</a></span>convertELU()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; mir_caffe::CaffeOpCreator::convertELU </td>
          <td>(</td>
          <td class="paramtype">const caffe::LayerParameter &amp;&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="caffe__op__creator_8cpp_source.html#l00594">594</a> of file <a class="el" href="caffe__op__creator_8cpp_source.html">caffe_op_creator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  596</span>{</div>
<div class="line"><span class="lineno">  597</span>  <span class="keyword">const</span> caffe::ELUParameter &amp;params = layer.elu_param();</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>  <span class="keyword">auto</span> elu = createOp&lt;ops::EluOp&gt;(inputs[0], params.alpha());</div>
<div class="line"><span class="lineno">  600</span>  <span class="keywordflow">return</span> {elu-&gt;getOutput(0)};</div>
<div class="line"><span class="lineno">  601</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af7df3f363aa10927e8f1b19e306e4124" name="af7df3f363aa10927e8f1b19e306e4124"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7df3f363aa10927e8f1b19e306e4124">&#9670;&#160;</a></span>convertEmbed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; mir_caffe::CaffeOpCreator::convertEmbed </td>
          <td>(</td>
          <td class="paramtype">const caffe::LayerParameter &amp;&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="caffe__op__creator_8cpp_source.html#l00604">604</a> of file <a class="el" href="caffe__op__creator_8cpp_source.html">caffe_op_creator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  606</span>{</div>
<div class="line"><span class="lineno">  607</span>  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;params = layer.embed_param();</div>
<div class="line"><span class="lineno">  608</span>  <span class="keyword">auto</span> <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a8d777f385d3dfec8815d20f7496026dc">data</a> = createOp&lt;ops::ConstantOp&gt;(convertBlob(layer.blobs(0)));</div>
<div class="line"><span class="lineno">  609</span>  <span class="keyword">auto</span> result = createOp&lt;ops::GatherOp&gt;(<a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a8d777f385d3dfec8815d20f7496026dc">data</a>-&gt;getOutput(0), inputs[0], 0)-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  610</span> </div>
<div class="line"><span class="lineno">  611</span>  <span class="comment">// Add the bias, if any.</span></div>
<div class="line"><span class="lineno">  612</span>  <span class="keywordflow">if</span> (params.bias_term())</div>
<div class="line"><span class="lineno">  613</span>  {</div>
<div class="line"><span class="lineno">  614</span>    <span class="keyword">auto</span> <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">bias</a> = createOp&lt;ops::ConstantOp&gt;(convertBlob(layer.blobs(1)))-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  615</span>    result = createOp&lt;ops::AddOp&gt;(result, <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">bias</a>)-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  616</span>  }</div>
<div class="line"><span class="lineno">  617</span> </div>
<div class="line"><span class="lineno">  618</span>  <span class="keywordflow">return</span> {result};</div>
<div class="line"><span class="lineno">  619</span>}</div>
<div class="ttc" id="anamespacemir__caffe_html_a80d91a921af9e0cb352bf83b19ed18c8a8d777f385d3dfec8815d20f7496026dc"><div class="ttname"><a href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a8d777f385d3dfec8815d20f7496026dc">mir_caffe::CaffeOpType::data</a></div><div class="ttdeci">@ data</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">mir_caffe::bias</a>, and <a class="el" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a8d777f385d3dfec8815d20f7496026dc">mir_caffe::data</a>.</p>

</div>
</div>
<a id="a5c55d48496a3e5e9175fc28d05e2feb0" name="a5c55d48496a3e5e9175fc28d05e2feb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c55d48496a3e5e9175fc28d05e2feb0">&#9670;&#160;</a></span>convertInnerProduct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; mir_caffe::CaffeOpCreator::convertInnerProduct </td>
          <td>(</td>
          <td class="paramtype">const caffe::LayerParameter &amp;&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="caffe__op__creator_8cpp_source.html#l00298">298</a> of file <a class="el" href="caffe__op__creator_8cpp_source.html">caffe_op_creator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  300</span>{</div>
<div class="line"><span class="lineno">  301</span>  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;params = layer.inner_product_param();</div>
<div class="line"><span class="lineno">  302</span>  <span class="keyword">auto</span> weights = createOp&lt;ops::ConstantOp&gt;(convertBlob(layer.blobs(0)))-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>  <span class="keywordflow">if</span> (!params.transpose())</div>
<div class="line"><span class="lineno">  305</span>    weights = createOp&lt;ops::TransposeOp&gt;(weights, std::vector&lt;std::size_t&gt;{1, 0})-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  306</span> </div>
<div class="line"><span class="lineno">  307</span>  <span class="keyword">auto</span> result = createFullyConnected(inputs[0], weights, params.axis());</div>
<div class="line"><span class="lineno">  308</span> </div>
<div class="line"><span class="lineno">  309</span>  <span class="comment">// Add the bias, if any.</span></div>
<div class="line"><span class="lineno">  310</span>  <span class="keywordflow">if</span> (params.bias_term())</div>
<div class="line"><span class="lineno">  311</span>  {</div>
<div class="line"><span class="lineno">  312</span>    <span class="keyword">auto</span> <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">bias</a> = createOp&lt;ops::ConstantOp&gt;(convertBlob(layer.blobs(1)))-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  313</span>    result = createOp&lt;ops::AddOp&gt;(result, <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">bias</a>)-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  314</span>  }</div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span>  <span class="keywordflow">return</span> {result};</div>
<div class="line"><span class="lineno">  317</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">mir_caffe::bias</a>.</p>

</div>
</div>
<a id="a08c71042274bc555bdf9be534ccba37e" name="a08c71042274bc555bdf9be534ccba37e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08c71042274bc555bdf9be534ccba37e">&#9670;&#160;</a></span>convertInput()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; mir_caffe::CaffeOpCreator::convertInput </td>
          <td>(</td>
          <td class="paramtype">const caffe::LayerParameter &amp;&#160;</td>
          <td class="paramname"><em>layer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="caffe__op__creator_8cpp_source.html#l00144">144</a> of file <a class="el" href="caffe__op__creator_8cpp_source.html">caffe_op_creator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  145</span>{</div>
<div class="line"><span class="lineno">  146</span>  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;params = layer.input_param();</div>
<div class="line"><span class="lineno">  147</span>  <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_variable" href="namespacepart__eval__one.html#a96c48226d20da59d2df2f69a93c770cb">num_inputs</a> = layer.top_size();</div>
<div class="line"><span class="lineno">  148</span>  <span class="keyword">const</span> <span class="keyword">auto</span> num_shapes = params.shape_size();</div>
<div class="line"><span class="lineno">  149</span>  std::vector&lt;mir::Operation::Output *&gt; outputs;</div>
<div class="line"><span class="lineno">  150</span> </div>
<div class="line"><span class="lineno">  151</span>  assert((num_shapes == 1 || num_shapes == num_inputs) &amp;&amp; <span class="stringliteral">&quot;Unsupported number of shapes.&quot;</span>);</div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="namespacepart__eval__one.html#a96c48226d20da59d2df2f69a93c770cb">num_inputs</a>; ++i)</div>
<div class="line"><span class="lineno">  154</span>  {</div>
<div class="line"><span class="lineno">  155</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;blob_shape = params.shape(num_shapes == 1 ? 0 : i);</div>
<div class="line"><span class="lineno">  156</span>    <a class="code hl_class" href="classmir_1_1_tensor_type.html">mir::TensorType</a> input_type(DataType::FLOAT32, convertBlobShape(blob_shape));</div>
<div class="line"><span class="lineno">  157</span>    <span class="keyword">auto</span> <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8aa43c1b0aa53a0c908810c06ab1ff3967">input</a> = createOp&lt;ops::InputOp&gt;(input_type)-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  158</span>    outputs.push_back(<a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8aa43c1b0aa53a0c908810c06ab1ff3967">input</a>);</div>
<div class="line"><span class="lineno">  159</span>  }</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>  <span class="keywordflow">return</span> outputs;</div>
<div class="line"><span class="lineno">  162</span>}</div>
<div class="ttc" id="aclassmir_1_1_tensor_type_html"><div class="ttname"><a href="classmir_1_1_tensor_type.html">mir::TensorType</a></div><div class="ttdef"><b>Definition:</b> <a href="_tensor_type_8h_source.html#l00027">TensorType.h:28</a></div></div>
<div class="ttc" id="anamespacepart__eval__one_html_a96c48226d20da59d2df2f69a93c770cb"><div class="ttname"><a href="namespacepart__eval__one.html#a96c48226d20da59d2df2f69a93c770cb">part_eval_one.num_inputs</a></div><div class="ttdeci">num_inputs</div><div class="ttdef"><b>Definition:</b> <a href="part__eval__one_8py_source.html#l00069">part_eval_one.py:69</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8aa43c1b0aa53a0c908810c06ab1ff3967">mir_caffe::input</a>.</p>

</div>
</div>
<a id="a399bf5bba162f2bf32fde25a91d518b1" name="a399bf5bba162f2bf32fde25a91d518b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a399bf5bba162f2bf32fde25a91d518b1">&#9670;&#160;</a></span>convertLSTM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; mir_caffe::CaffeOpCreator::convertLSTM </td>
          <td>(</td>
          <td class="paramtype">const caffe::LayerParameter &amp;&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="caffe__op__creator_8cpp_source.html#l00771">771</a> of file <a class="el" href="caffe__op__creator_8cpp_source.html">caffe_op_creator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  773</span>{</div>
<div class="line"><span class="lineno">  774</span>  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;params = layer.recurrent_param();</div>
<div class="line"><span class="lineno">  775</span> </div>
<div class="line"><span class="lineno">  776</span>  <span class="comment">// Inputs to the layer.</span></div>
<div class="line"><span class="lineno">  777</span>  <span class="keyword">auto</span> x = <a class="code hl_variable" href="namespace_gen_h5_random_inputs.html#abcab13752e1826b70991e56f8e9a834d">inputs</a>[0];</div>
<div class="line"><span class="lineno">  778</span>  <span class="keyword">auto</span> cont = <a class="code hl_variable" href="namespace_gen_h5_random_inputs.html#abcab13752e1826b70991e56f8e9a834d">inputs</a>[1];</div>
<div class="line"><span class="lineno">  779</span>  assert(<a class="code hl_variable" href="namespace_gen_h5_random_inputs.html#abcab13752e1826b70991e56f8e9a834d">inputs</a>.size() == 2);</div>
<div class="line"><span class="lineno">  780</span> </div>
<div class="line"><span class="lineno">  781</span>  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;x_shape = x-&gt;getShape();</div>
<div class="line"><span class="lineno">  782</span>  <span class="keyword">const</span> int32_t seq_length = x_shape.dim(0);</div>
<div class="line"><span class="lineno">  783</span>  <span class="keyword">const</span> int32_t batch_size = x_shape.dim(1);</div>
<div class="line"><span class="lineno">  784</span>  <span class="keyword">const</span> int32_t hidden_size = params.num_output();</div>
<div class="line"><span class="lineno">  785</span> </div>
<div class="line"><span class="lineno">  786</span>  <span class="comment">// Learned parameters of the layer. Tensors are transposed to match the ModelIR.</span></div>
<div class="line"><span class="lineno">  787</span>  <span class="keyword">auto</span> xw = createOp&lt;ops::ConstantOp&gt;(convertBlob(layer.blobs(0)))-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  788</span>  <span class="keyword">auto</span> xb = createOp&lt;ops::ConstantOp&gt;(convertBlob(layer.blobs(1)))-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  789</span>  <span class="keyword">auto</span> hw = createOp&lt;ops::ConstantOp&gt;(convertBlob(layer.blobs(2)))-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  790</span>  xw = createOp&lt;ops::TransposeOp&gt;(xw, std::vector&lt;std::size_t&gt;{1, 0})-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  791</span>  hw = createOp&lt;ops::TransposeOp&gt;(hw, std::vector&lt;std::size_t&gt;{1, 0})-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  792</span> </div>
<div class="line"><span class="lineno">  793</span>  <span class="comment">// Add a dummy dimension so that element-wise operations perform properly.</span></div>
<div class="line"><span class="lineno">  794</span>  cont = createOp&lt;ops::ReshapeOp&gt;(cont, <a class="code hl_struct" href="struct_shape.html">Shape</a>{seq_length, batch_size, 1})-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  795</span> </div>
<div class="line"><span class="lineno">  796</span>  <span class="comment">// Initialize cell and hidden states with zeros.</span></div>
<div class="line"><span class="lineno">  797</span>  <span class="keyword">auto</span> zero_tensor = createZeroedTensor(<a class="code hl_struct" href="struct_shape.html">Shape</a>{1, batch_size, hidden_size});</div>
<div class="line"><span class="lineno">  798</span>  <span class="keyword">auto</span> c_t = createOp&lt;ops::ConstantOp&gt;(zero_tensor)-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  799</span>  <span class="keyword">auto</span> h_t = createOp&lt;ops::ConstantOp&gt;(zero_tensor)-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  800</span> </div>
<div class="line"><span class="lineno">  801</span>  <span class="keyword">auto</span> x_xw = createFullyConnected(x, xw, 2);</div>
<div class="line"><span class="lineno">  802</span>  <span class="keyword">auto</span> x_xw_b = createOp&lt;ops::AddOp&gt;(x_xw, xb)-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  803</span> </div>
<div class="line"><span class="lineno">  804</span>  <span class="comment">// Split input and continuation tensors into seq_length slices.</span></div>
<div class="line"><span class="lineno">  805</span>  std::vector&lt;mir::Operation::Output *&gt; x_xw_b_slices = createSplit(x_xw_b, seq_length, 0);</div>
<div class="line"><span class="lineno">  806</span>  std::vector&lt;mir::Operation::Output *&gt; cont_slices = createSplit(cont, seq_length, 0);</div>
<div class="line"><span class="lineno">  807</span>  std::vector&lt;mir::Operation::Output *&gt; h_slices(seq_length);</div>
<div class="line"><span class="lineno">  808</span> </div>
<div class="line"><span class="lineno">  809</span>  <span class="keywordflow">for</span> (int32_t t = 0; t &lt; seq_length; t++)</div>
<div class="line"><span class="lineno">  810</span>  {</div>
<div class="line"><span class="lineno">  811</span>    <span class="keyword">auto</span> c_cont_t = createOp&lt;ops::MulOp&gt;(c_t, cont_slices[t])-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  812</span>    <span class="keyword">auto</span> h_cont_t = createOp&lt;ops::MulOp&gt;(h_t, cont_slices[t])-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  813</span> </div>
<div class="line"><span class="lineno">  814</span>    <span class="keyword">auto</span> x_xw_b_t = x_xw_b_slices[t];</div>
<div class="line"><span class="lineno">  815</span>    <span class="keyword">auto</span> h_hw_t = createFullyConnected(h_cont_t, hw, 2);</div>
<div class="line"><span class="lineno">  816</span>    <span class="keyword">auto</span> activation_inputs_concat = createOp&lt;ops::AddOp&gt;(x_xw_b_t, h_hw_t)-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  817</span>    <span class="keyword">auto</span> activation_inputs = createSplit(activation_inputs_concat, 4, 2);</div>
<div class="line"><span class="lineno">  818</span> </div>
<div class="line"><span class="lineno">  819</span>    <span class="keyword">auto</span> i_t = createOp&lt;ops::SigmoidOp&gt;(activation_inputs[0])-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  820</span>    <span class="keyword">auto</span> f_t = createOp&lt;ops::SigmoidOp&gt;(activation_inputs[1])-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  821</span>    <span class="keyword">auto</span> o_t = createOp&lt;ops::SigmoidOp&gt;(activation_inputs[2])-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  822</span>    <span class="keyword">auto</span> g_t = createOp&lt;ops::TanhOp&gt;(activation_inputs[3])-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  823</span> </div>
<div class="line"><span class="lineno">  824</span>    c_t = createOp&lt;ops::AddOp&gt;(createOp&lt;ops::MulOp&gt;(c_cont_t, f_t)-&gt;getOutput(0),</div>
<div class="line"><span class="lineno">  825</span>                               createOp&lt;ops::MulOp&gt;(i_t, g_t)-&gt;getOutput(0))</div>
<div class="line"><span class="lineno">  826</span>            -&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  827</span>    h_t = createOp&lt;ops::MulOp&gt;(createOp&lt;ops::TanhOp&gt;(c_t)-&gt;getOutput(0), o_t)-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  828</span> </div>
<div class="line"><span class="lineno">  829</span>    h_slices[t] = h_t;</div>
<div class="line"><span class="lineno">  830</span>  }</div>
<div class="line"><span class="lineno">  831</span> </div>
<div class="line"><span class="lineno">  832</span>  <span class="keywordflow">return</span> {createOp&lt;ops::ConcatOp&gt;(h_slices, 0)-&gt;getOutput(0)};</div>
<div class="line"><span class="lineno">  833</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5b1f7376cf626deccf1e3cd2340dfea1" name="a5b1f7376cf626deccf1e3cd2340dfea1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b1f7376cf626deccf1e3cd2340dfea1">&#9670;&#160;</a></span>convertPooling()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; mir_caffe::CaffeOpCreator::convertPooling </td>
          <td>(</td>
          <td class="paramtype">const caffe::LayerParameter &amp;&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="caffe__op__creator_8cpp_source.html#l00400">400</a> of file <a class="el" href="caffe__op__creator_8cpp_source.html">caffe_op_creator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  402</span>{</div>
<div class="line"><span class="lineno">  403</span>  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;params = layer.pooling_param();</div>
<div class="line"><span class="lineno">  404</span> </div>
<div class="line"><span class="lineno">  405</span>  assert(<a class="code hl_variable" href="namespace_gen_h5_random_inputs.html#abcab13752e1826b70991e56f8e9a834d">inputs</a>.size() == 1);</div>
<div class="line"><span class="lineno">  406</span>  <span class="keyword">auto</span> <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8aa43c1b0aa53a0c908810c06ab1ff3967">input</a> = <a class="code hl_variable" href="namespace_gen_h5_random_inputs.html#abcab13752e1826b70991e56f8e9a834d">inputs</a>[0];</div>
<div class="line"><span class="lineno">  407</span> </div>
<div class="line"><span class="lineno">  408</span>  <a class="code hl_class" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> *result;</div>
<div class="line"><span class="lineno">  409</span> </div>
<div class="line"><span class="lineno">  410</span>  <span class="keywordflow">switch</span> (params.pool())</div>
<div class="line"><span class="lineno">  411</span>  {</div>
<div class="line"><span class="lineno">  412</span>    <span class="keywordflow">case</span> caffe::PoolingParameter::AVE:</div>
<div class="line"><span class="lineno">  413</span>    {</div>
<div class="line"><span class="lineno">  414</span>      AvgPool2DOpAttributes attributes_avg;</div>
<div class="line"><span class="lineno">  415</span>      attributes_avg.data_format = DataFormat::NCHW;</div>
<div class="line"><span class="lineno">  416</span>      convertPoolingParam(params, <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8aa43c1b0aa53a0c908810c06ab1ff3967">input</a>-&gt;getShape(), attributes_avg);</div>
<div class="line"><span class="lineno">  417</span>      result = createOp&lt;ops::AvgPool2DOp&gt;(<a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8aa43c1b0aa53a0c908810c06ab1ff3967">input</a>, attributes_avg)-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  418</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  419</span>    }</div>
<div class="line"><span class="lineno">  420</span>    <span class="keywordflow">case</span> caffe::PoolingParameter::MAX:</div>
<div class="line"><span class="lineno">  421</span>    {</div>
<div class="line"><span class="lineno">  422</span>      MaxPool2DOpAttributes attributes_max;</div>
<div class="line"><span class="lineno">  423</span>      attributes_max.data_format = DataFormat::NCHW;</div>
<div class="line"><span class="lineno">  424</span>      convertPoolingParam(params, <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8aa43c1b0aa53a0c908810c06ab1ff3967">input</a>-&gt;getShape(), attributes_max);</div>
<div class="line"><span class="lineno">  425</span>      result = createOp&lt;ops::MaxPool2DOp&gt;(<a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8aa43c1b0aa53a0c908810c06ab1ff3967">input</a>, attributes_max)-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  426</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  427</span>    }</div>
<div class="line"><span class="lineno">  428</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  429</span>      <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Unsupported PoolMethod: &quot;</span> + std::to_string(params.pool()));</div>
<div class="line"><span class="lineno">  430</span>  }</div>
<div class="line"><span class="lineno">  431</span> </div>
<div class="line"><span class="lineno">  432</span>  <span class="keywordflow">return</span> {result};</div>
<div class="line"><span class="lineno">  433</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_attributes_8h_source.html#l00046">mir::AvgPool2DOpAttributes::data_format</a>, <a class="el" href="_attributes_8h_source.html#l00058">mir::MaxPool2DOpAttributes::data_format</a>, and <a class="el" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8aa43c1b0aa53a0c908810c06ab1ff3967">mir_caffe::input</a>.</p>

</div>
</div>
<a id="a01ef0131eba215d4f681e8e7a873ebbc" name="a01ef0131eba215d4f681e8e7a873ebbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01ef0131eba215d4f681e8e7a873ebbc">&#9670;&#160;</a></span>convertReLU()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; mir_caffe::CaffeOpCreator::convertReLU </td>
          <td>(</td>
          <td class="paramtype">const caffe::LayerParameter &amp;&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="caffe__op__creator_8cpp_source.html#l00496">496</a> of file <a class="el" href="caffe__op__creator_8cpp_source.html">caffe_op_creator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  498</span>{</div>
<div class="line"><span class="lineno">  499</span>  <a class="code hl_class" href="classmir_1_1_operation.html">mir::Operation</a> *<a class="code hl_enumvalue" href="namespacemir__caffe2.html#ad673211adad8f4f6c0abf122bd4e54e8abc5ce62b39aff2f661146911808eadc1">relu</a>;</div>
<div class="line"><span class="lineno">  500</span>  <span class="keywordflow">if</span> (layer.relu_param().has_negative_slope())</div>
<div class="line"><span class="lineno">  501</span>  {</div>
<div class="line"><span class="lineno">  502</span>    <span class="keywordtype">float</span> alpha = layer.relu_param().negative_slope();</div>
<div class="line"><span class="lineno">  503</span>    <a class="code hl_enumvalue" href="namespacemir__caffe2.html#ad673211adad8f4f6c0abf122bd4e54e8abc5ce62b39aff2f661146911808eadc1">relu</a> = createOp&lt;ops::LeakyReluOp&gt;(inputs[0], alpha);</div>
<div class="line"><span class="lineno">  504</span>  }</div>
<div class="line"><span class="lineno">  505</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  506</span>  {</div>
<div class="line"><span class="lineno">  507</span>    <a class="code hl_enumvalue" href="namespacemir__caffe2.html#ad673211adad8f4f6c0abf122bd4e54e8abc5ce62b39aff2f661146911808eadc1">relu</a> = createOp&lt;ops::ReluOp&gt;(inputs[0]);</div>
<div class="line"><span class="lineno">  508</span>  }</div>
<div class="line"><span class="lineno">  509</span> </div>
<div class="line"><span class="lineno">  510</span>  <span class="keywordflow">return</span> {<a class="code hl_enumvalue" href="namespacemir__caffe2.html#ad673211adad8f4f6c0abf122bd4e54e8abc5ce62b39aff2f661146911808eadc1">relu</a>-&gt;getOutput(0)};</div>
<div class="line"><span class="lineno">  511</span>}</div>
<div class="ttc" id="aclassmir_1_1_operation_html"><div class="ttname"><a href="classmir_1_1_operation.html">mir::Operation</a></div><div class="ttdef"><b>Definition:</b> <a href="compiler_2mir_2include_2mir_2_operation_8h_source.html#l00032">Operation.h:33</a></div></div>
<div class="ttc" id="anamespacemir__caffe2_html_ad673211adad8f4f6c0abf122bd4e54e8abc5ce62b39aff2f661146911808eadc1"><div class="ttname"><a href="namespacemir__caffe2.html#ad673211adad8f4f6c0abf122bd4e54e8abc5ce62b39aff2f661146911808eadc1">mir_caffe2::SupportedCaffe2OpType::relu</a></div><div class="ttdeci">@ relu</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abf8375782ef6789d8f273abe8a02392f" name="abf8375782ef6789d8f273abe8a02392f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf8375782ef6789d8f273abe8a02392f">&#9670;&#160;</a></span>convertReshape()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; mir_caffe::CaffeOpCreator::convertReshape </td>
          <td>(</td>
          <td class="paramtype">const caffe::LayerParameter &amp;&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts Caffe Reshape layer to Model IR Reshape operation. </p>

<p class="definition">Definition at line <a class="el" href="caffe__op__creator_8cpp_source.html#l00485">485</a> of file <a class="el" href="caffe__op__creator_8cpp_source.html">caffe_op_creator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  487</span>{</div>
<div class="line"><span class="lineno">  488</span>  <span class="keyword">const</span> caffe::ReshapeParameter &amp;params = layer.reshape_param();</div>
<div class="line"><span class="lineno">  489</span> </div>
<div class="line"><span class="lineno">  490</span>  <span class="keyword">const</span> <a class="code hl_class" href="classmir_1_1_shape.html">mir::Shape</a> new_shape = convertBlobShape(params.shape());</div>
<div class="line"><span class="lineno">  491</span>  <span class="keyword">auto</span> <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a6772929049d1fe5ed11069fbdd554840">reshape</a> = createOp&lt;ops::ReshapeOp&gt;(inputs[0], new_shape);</div>
<div class="line"><span class="lineno">  492</span>  <span class="keywordflow">return</span> {<a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a6772929049d1fe5ed11069fbdd554840">reshape</a>-&gt;getOutput(0)};</div>
<div class="line"><span class="lineno">  493</span>}</div>
<div class="ttc" id="anamespacemir__caffe_html_a80d91a921af9e0cb352bf83b19ed18c8a6772929049d1fe5ed11069fbdd554840"><div class="ttname"><a href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a6772929049d1fe5ed11069fbdd554840">mir_caffe::CaffeOpType::reshape</a></div><div class="ttdeci">@ reshape</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a6772929049d1fe5ed11069fbdd554840">mir_caffe::reshape</a>.</p>

</div>
</div>
<a id="aa3939ccd9147c72f4cc041c28975e1f8" name="aa3939ccd9147c72f4cc041c28975e1f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3939ccd9147c72f4cc041c28975e1f8">&#9670;&#160;</a></span>convertScale()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; mir_caffe::CaffeOpCreator::convertScale </td>
          <td>(</td>
          <td class="paramtype">const caffe::LayerParameter &amp;&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="caffe__op__creator_8cpp_source.html#l00514">514</a> of file <a class="el" href="caffe__op__creator_8cpp_source.html">caffe_op_creator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  516</span>{</div>
<div class="line"><span class="lineno">  517</span>  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;params = layer.scale_param();</div>
<div class="line"><span class="lineno">  518</span>  <span class="keyword">auto</span> <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a0cb47aeb6e5f9323f0969e628c4e59f5">scale</a> = createOp&lt;ops::ConstantOp&gt;(convertBlob(layer.blobs(0)))-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  519</span>  <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a0cb47aeb6e5f9323f0969e628c4e59f5">scale</a> = createOp&lt;ops::ReshapeOp&gt;(<a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a0cb47aeb6e5f9323f0969e628c4e59f5">scale</a>, <a class="code hl_struct" href="struct_shape.html">Shape</a>{1, <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a0cb47aeb6e5f9323f0969e628c4e59f5">scale</a>-&gt;getShape().dim(0), 1, 1})-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  520</span>  <span class="keyword">auto</span> result = createOp&lt;ops::MulOp&gt;(inputs[0], <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a0cb47aeb6e5f9323f0969e628c4e59f5">scale</a>)-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  521</span> </div>
<div class="line"><span class="lineno">  522</span>  <span class="comment">// Add the bias, if any.</span></div>
<div class="line"><span class="lineno">  523</span>  <span class="keywordflow">if</span> (params.bias_term())</div>
<div class="line"><span class="lineno">  524</span>  {</div>
<div class="line"><span class="lineno">  525</span>    <span class="keyword">auto</span> <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">bias</a> = createOp&lt;ops::ConstantOp&gt;(convertBlob(layer.blobs(1)))-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  526</span>    <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">bias</a> = createOp&lt;ops::ReshapeOp&gt;(<a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">bias</a>, <a class="code hl_struct" href="struct_shape.html">Shape</a>{1, <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">bias</a>-&gt;getShape().dim(0), 1, 1})-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  527</span>    result = createOp&lt;ops::AddOp&gt;(result, <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">bias</a>)-&gt;getOutput(0);</div>
<div class="line"><span class="lineno">  528</span>  }</div>
<div class="line"><span class="lineno">  529</span> </div>
<div class="line"><span class="lineno">  530</span>  <span class="keywordflow">return</span> {result};</div>
<div class="line"><span class="lineno">  531</span>}</div>
<div class="ttc" id="anamespacemir__caffe_html_a80d91a921af9e0cb352bf83b19ed18c8a0cb47aeb6e5f9323f0969e628c4e59f5"><div class="ttname"><a href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a0cb47aeb6e5f9323f0969e628c4e59f5">mir_caffe::CaffeOpType::scale</a></div><div class="ttdeci">@ scale</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a1603f79f250bd05d84dcb190bee408bc">mir_caffe::bias</a>, and <a class="el" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a0cb47aeb6e5f9323f0969e628c4e59f5">mir_caffe::scale</a>.</p>

</div>
</div>
<a id="a859f7fd6316bd378e297d98ce0ea2291" name="a859f7fd6316bd378e297d98ce0ea2291"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a859f7fd6316bd378e297d98ce0ea2291">&#9670;&#160;</a></span>convertSigmoid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; mir_caffe::CaffeOpCreator::convertSigmoid </td>
          <td>(</td>
          <td class="paramtype">const caffe::LayerParameter &amp;&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="caffe__op__creator_8cpp_source.html#l00622">622</a> of file <a class="el" href="caffe__op__creator_8cpp_source.html">caffe_op_creator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  624</span>{</div>
<div class="line"><span class="lineno">  625</span>  <span class="keyword">auto</span> result = createOp&lt;ops::SigmoidOp&gt;(inputs[0]);</div>
<div class="line"><span class="lineno">  626</span>  <span class="keywordflow">return</span> {result-&gt;getOutput(0)};</div>
<div class="line"><span class="lineno">  627</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="acb44c8c3aa84818f2eef84232910d813" name="acb44c8c3aa84818f2eef84232910d813"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb44c8c3aa84818f2eef84232910d813">&#9670;&#160;</a></span>convertSoftmax()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; mir_caffe::CaffeOpCreator::convertSoftmax </td>
          <td>(</td>
          <td class="paramtype">const caffe::LayerParameter &amp;&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="caffe__op__creator_8cpp_source.html#l00436">436</a> of file <a class="el" href="caffe__op__creator_8cpp_source.html">caffe_op_creator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  438</span>{</div>
<div class="line"><span class="lineno">  439</span>  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;params = layer.softmax_param();</div>
<div class="line"><span class="lineno">  440</span> </div>
<div class="line"><span class="lineno">  441</span>  <span class="comment">// CPP and ACL backends are able to perform Softmax only along the last axis.</span></div>
<div class="line"><span class="lineno">  442</span>  <span class="comment">// FIXME Do it in backends.</span></div>
<div class="line"><span class="lineno">  443</span>  <span class="keywordflow">if</span> (inputs[0]-&gt;<a class="code hl_function" href="namespaceonert_1_1backend_1_1cpu_1_1ops.html#a1cfb53087f7fc161b9162d65aa5520d9">getShape</a>().rank() == 4)</div>
<div class="line"><span class="lineno">  444</span>  {</div>
<div class="line"><span class="lineno">  445</span>    <span class="comment">// For now, we only account for the most common case.</span></div>
<div class="line"><span class="lineno">  446</span>    <span class="keywordflow">if</span> (params.axis() != 1)</div>
<div class="line"><span class="lineno">  447</span>      <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Softmax: unsupported axis&quot;</span>);</div>
<div class="line"><span class="lineno">  448</span>    int32_t axis = 3;</div>
<div class="line"><span class="lineno">  449</span>    <span class="keyword">auto</span> <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8aa43c1b0aa53a0c908810c06ab1ff3967">input</a> = createOp&lt;ops::TransposeOp&gt;(inputs[0], std::vector&lt;std::size_t&gt;{0, 2, 3, 1});</div>
<div class="line"><span class="lineno">  450</span>    <span class="keyword">auto</span> <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8ace2f1fbd249d24aabc07ac4488ab5b8c">softmax</a> = createOp&lt;ops::SoftmaxOp&gt;(<a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8aa43c1b0aa53a0c908810c06ab1ff3967">input</a>-&gt;getOutput(0), axis);</div>
<div class="line"><span class="lineno">  451</span>    <span class="keyword">auto</span> result =</div>
<div class="line"><span class="lineno">  452</span>      createOp&lt;ops::TransposeOp&gt;(<a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8ace2f1fbd249d24aabc07ac4488ab5b8c">softmax</a>-&gt;getOutput(0), std::vector&lt;std::size_t&gt;{0, 3, 1, 2});</div>
<div class="line"><span class="lineno">  453</span>    <span class="keywordflow">return</span> {result-&gt;getOutput(0)};</div>
<div class="line"><span class="lineno">  454</span>  }</div>
<div class="line"><span class="lineno">  455</span> </div>
<div class="line"><span class="lineno">  456</span>  <span class="keyword">auto</span> <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8ace2f1fbd249d24aabc07ac4488ab5b8c">softmax</a> = createOp&lt;ops::SoftmaxOp&gt;(inputs[0], params.axis());</div>
<div class="line"><span class="lineno">  457</span>  <span class="keywordflow">return</span> {<a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8ace2f1fbd249d24aabc07ac4488ab5b8c">softmax</a>-&gt;getOutput(0)};</div>
<div class="line"><span class="lineno">  458</span>}</div>
<div class="ttc" id="anamespacemir__caffe_html_a80d91a921af9e0cb352bf83b19ed18c8ace2f1fbd249d24aabc07ac4488ab5b8c"><div class="ttname"><a href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8ace2f1fbd249d24aabc07ac4488ab5b8c">mir_caffe::CaffeOpType::softmax</a></div><div class="ttdeci">@ softmax</div></div>
<div class="ttc" id="anamespaceonert_1_1backend_1_1cpu_1_1ops_html_a1cfb53087f7fc161b9162d65aa5520d9"><div class="ttname"><a href="namespaceonert_1_1backend_1_1cpu_1_1ops.html#a1cfb53087f7fc161b9162d65aa5520d9">onert::backend::cpu::ops::getShape</a></div><div class="ttdeci">nnfw::cker::Shape getShape(const IPortableTensor *tensor)</div><div class="ttdef"><b>Definition:</b> <a href="cpu_2ops_2_operation_utils_8h_source.html#l00094">OperationUtils.h:94</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8aa43c1b0aa53a0c908810c06ab1ff3967">mir_caffe::input</a>, and <a class="el" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8ace2f1fbd249d24aabc07ac4488ab5b8c">mir_caffe::softmax</a>.</p>

</div>
</div>
<a id="a075fb0235931233026f4f9736b7e29f0" name="a075fb0235931233026f4f9736b7e29f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a075fb0235931233026f4f9736b7e29f0">&#9670;&#160;</a></span>convertSplit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; mir_caffe::CaffeOpCreator::convertSplit </td>
          <td>(</td>
          <td class="paramtype">const caffe::LayerParameter &amp;&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="caffe__op__creator_8cpp_source.html#l00695">695</a> of file <a class="el" href="caffe__op__creator_8cpp_source.html">caffe_op_creator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  697</span>{</div>
<div class="line"><span class="lineno">  698</span>  std::vector&lt;mir::Operation::Output *&gt; outputs(layer.top_size(), <a class="code hl_variable" href="namespace_gen_h5_random_inputs.html#abcab13752e1826b70991e56f8e9a834d">inputs</a>.at(0));</div>
<div class="line"><span class="lineno">  699</span>  <span class="keywordflow">return</span> outputs;</div>
<div class="line"><span class="lineno">  700</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af4f9b7fdfbc5f3841407e0acef7239a5" name="af4f9b7fdfbc5f3841407e0acef7239a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4f9b7fdfbc5f3841407e0acef7239a5">&#9670;&#160;</a></span>convertTanH()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; mir_caffe::CaffeOpCreator::convertTanH </td>
          <td>(</td>
          <td class="paramtype">const caffe::LayerParameter &amp;&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classmir_1_1_operation_1_1_output.html">mir::Operation::Output</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="caffe__op__creator_8cpp_source.html#l00630">630</a> of file <a class="el" href="caffe__op__creator_8cpp_source.html">caffe_op_creator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  632</span>{</div>
<div class="line"><span class="lineno">  633</span>  <span class="keyword">auto</span> <a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a5c0dbba3a6ee4ac0eb26cfee75ccb8b4">tanh</a> = createOp&lt;ops::TanhOp&gt;(inputs[0]);</div>
<div class="line"><span class="lineno">  634</span>  <span class="keywordflow">return</span> {<a class="code hl_enumvalue" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a5c0dbba3a6ee4ac0eb26cfee75ccb8b4">tanh</a>-&gt;getOutput(0)};</div>
<div class="line"><span class="lineno">  635</span>}</div>
<div class="ttc" id="anamespacemir__caffe_html_a80d91a921af9e0cb352bf83b19ed18c8a5c0dbba3a6ee4ac0eb26cfee75ccb8b4"><div class="ttname"><a href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a5c0dbba3a6ee4ac0eb26cfee75ccb8b4">mir_caffe::CaffeOpType::tanh</a></div><div class="ttdeci">@ tanh</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacemir__caffe.html#a80d91a921af9e0cb352bf83b19ed18c8a5c0dbba3a6ee4ac0eb26cfee75ccb8b4">mir_caffe::tanh</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>compiler/mir/src/mir_caffe_importer/<a class="el" href="caffe__op__creator_8h_source.html">caffe_op_creator.h</a></li>
<li>compiler/mir/src/mir_caffe_importer/<a class="el" href="caffe__op__creator_8cpp_source.html">caffe_op_creator.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacemir__caffe.html">mir_caffe</a></li><li class="navelem"><a class="el" href="classmir__caffe_1_1_caffe_op_creator.html">CaffeOpCreator</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
